!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/g-radio/",t(t.s=9)}([function(e,t,r){e.exports=r(20)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(15),o=n,i=Function("return this")();o.exportSymbol("proto.grpc.video.BroadcastTokenRequest",null,i),o.exportSymbol("proto.grpc.video.BroadcastTokenResponse",null,i),o.exportSymbol("proto.grpc.video.IndexBean",null,i),o.exportSymbol("proto.grpc.video.IndexRequest",null,i),o.exportSymbol("proto.grpc.video.IndexResponse",null,i),o.exportSymbol("proto.grpc.video.PostRes",null,i),o.exportSymbol("proto.grpc.video.Room",null,i),o.exportSymbol("proto.grpc.video.User",null,i),o.exportSymbol("proto.grpc.video.Video",null,i),o.exportSymbol("proto.grpc.video.VideoResolution",null,i),o.exportSymbol("proto.grpc.video.VideoSrt",null,i),proto.grpc.video.BroadcastTokenRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.BroadcastTokenRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.BroadcastTokenRequest.displayName="proto.grpc.video.BroadcastTokenRequest"),proto.grpc.video.BroadcastTokenResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.BroadcastTokenResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.BroadcastTokenResponse.displayName="proto.grpc.video.BroadcastTokenResponse"),proto.grpc.video.User=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.User,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.User.displayName="proto.grpc.video.User"),proto.grpc.video.IndexRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.IndexRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.IndexRequest.displayName="proto.grpc.video.IndexRequest"),proto.grpc.video.IndexResponse=function(e){n.Message.initialize(this,e,0,-1,proto.grpc.video.IndexResponse.repeatedFields_,null)},o.inherits(proto.grpc.video.IndexResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.IndexResponse.displayName="proto.grpc.video.IndexResponse"),proto.grpc.video.IndexBean=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.IndexBean,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.IndexBean.displayName="proto.grpc.video.IndexBean"),proto.grpc.video.Video=function(e){n.Message.initialize(this,e,0,-1,proto.grpc.video.Video.repeatedFields_,null)},o.inherits(proto.grpc.video.Video,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.Video.displayName="proto.grpc.video.Video"),proto.grpc.video.VideoResolution=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.VideoResolution,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.VideoResolution.displayName="proto.grpc.video.VideoResolution"),proto.grpc.video.VideoSrt=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.VideoSrt,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.VideoSrt.displayName="proto.grpc.video.VideoSrt"),proto.grpc.video.PostRes=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.PostRes,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.PostRes.displayName="proto.grpc.video.PostRes"),proto.grpc.video.Room=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.grpc.video.Room,n.Message),o.DEBUG&&!COMPILED&&(proto.grpc.video.Room.displayName="proto.grpc.video.Room"),n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.BroadcastTokenRequest.prototype.toObject=function(e){return proto.grpc.video.BroadcastTokenRequest.toObject(e,this)},proto.grpc.video.BroadcastTokenRequest.toObject=function(e,t){var r={role:n.Message.getFieldWithDefault(t,1,0),roomid:n.Message.getFieldWithDefault(t,2,""),sessionid:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.BroadcastTokenRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.BroadcastTokenRequest;return proto.grpc.video.BroadcastTokenRequest.deserializeBinaryFromReader(r,t)},proto.grpc.video.BroadcastTokenRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setRole(r);break;case 2:var r=t.readString();e.setRoomid(r);break;case 3:var r=t.readString();e.setSessionid(r);break;default:t.skipField()}}return e},proto.grpc.video.BroadcastTokenRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.BroadcastTokenRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.BroadcastTokenRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getRole(),0!==r&&t.writeInt32(1,r),r=e.getRoomid(),r.length>0&&t.writeString(2,r),r=e.getSessionid(),r.length>0&&t.writeString(3,r)},proto.grpc.video.BroadcastTokenRequest.prototype.getRole=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.grpc.video.BroadcastTokenRequest.prototype.setRole=function(e){return n.Message.setProto3IntField(this,1,e)},proto.grpc.video.BroadcastTokenRequest.prototype.getRoomid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.BroadcastTokenRequest.prototype.setRoomid=function(e){return n.Message.setProto3StringField(this,2,e)},proto.grpc.video.BroadcastTokenRequest.prototype.getSessionid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.grpc.video.BroadcastTokenRequest.prototype.setSessionid=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.BroadcastTokenResponse.prototype.toObject=function(e){return proto.grpc.video.BroadcastTokenResponse.toObject(e,this)},proto.grpc.video.BroadcastTokenResponse.toObject=function(e,t){var r,o={roomid:n.Message.getFieldWithDefault(t,1,""),token:n.Message.getFieldWithDefault(t,2,""),owner:(r=t.getOwner())&&proto.grpc.video.User.toObject(e,r),timepast:n.Message.getFieldWithDefault(t,6,0),broadcastid:n.Message.getFieldWithDefault(t,7,""),availabletime:n.Message.getFieldWithDefault(t,8,0),topic:n.Message.getFieldWithDefault(t,11,0),rtmtoken:n.Message.getFieldWithDefault(t,13,""),streamlandcape:n.Message.getBooleanFieldWithDefault(t,17,!1),streamspecial:n.Message.getFieldWithDefault(t,18,""),screen:n.Message.getFieldWithDefault(t,21,0),pause:n.Message.getBooleanFieldWithDefault(t,22,!1),videoid:n.Message.getFieldWithDefault(t,23,""),addviewnum:n.Message.getFieldWithDefault(t,25,0),maccount:n.Message.getFieldWithDefault(t,50,""),mtoken:n.Message.getFieldWithDefault(t,51,""),mrtmtoken:n.Message.getFieldWithDefault(t,52,""),appid:n.Message.getFieldWithDefault(t,100,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.grpc.video.BroadcastTokenResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.BroadcastTokenResponse;return proto.grpc.video.BroadcastTokenResponse.deserializeBinaryFromReader(r,t)},proto.grpc.video.BroadcastTokenResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setRoomid(r);break;case 2:var r=t.readString();e.setToken(r);break;case 3:var r=new proto.grpc.video.User;t.readMessage(r,proto.grpc.video.User.deserializeBinaryFromReader),e.setOwner(r);break;case 6:var r=t.readInt32();e.setTimepast(r);break;case 7:var r=t.readString();e.setBroadcastid(r);break;case 8:var r=t.readInt32();e.setAvailabletime(r);break;case 11:var r=t.readInt32();e.setTopic(r);break;case 13:var r=t.readString();e.setRtmtoken(r);break;case 17:var r=t.readBool();e.setStreamlandcape(r);break;case 18:var r=t.readString();e.setStreamspecial(r);break;case 21:var r=t.readInt32();e.setScreen(r);break;case 22:var r=t.readBool();e.setPause(r);break;case 23:var r=t.readString();e.setVideoid(r);break;case 25:var r=t.readInt32();e.setAddviewnum(r);break;case 50:var r=t.readString();e.setMaccount(r);break;case 51:var r=t.readString();e.setMtoken(r);break;case 52:var r=t.readString();e.setMrtmtoken(r);break;case 100:var r=t.readString();e.setAppid(r);break;default:t.skipField()}}return e},proto.grpc.video.BroadcastTokenResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.BroadcastTokenResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.BroadcastTokenResponse.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getRoomid(),r.length>0&&t.writeString(1,r),r=e.getToken(),r.length>0&&t.writeString(2,r),r=e.getOwner(),null!=r&&t.writeMessage(3,r,proto.grpc.video.User.serializeBinaryToWriter),r=e.getTimepast(),0!==r&&t.writeInt32(6,r),r=e.getBroadcastid(),r.length>0&&t.writeString(7,r),r=e.getAvailabletime(),0!==r&&t.writeInt32(8,r),r=e.getTopic(),0!==r&&t.writeInt32(11,r),r=e.getRtmtoken(),r.length>0&&t.writeString(13,r),r=e.getStreamlandcape(),r&&t.writeBool(17,r),r=e.getStreamspecial(),r.length>0&&t.writeString(18,r),r=e.getScreen(),0!==r&&t.writeInt32(21,r),r=e.getPause(),r&&t.writeBool(22,r),r=e.getVideoid(),r.length>0&&t.writeString(23,r),r=e.getAddviewnum(),0!==r&&t.writeInt32(25,r),r=e.getMaccount(),r.length>0&&t.writeString(50,r),r=e.getMtoken(),r.length>0&&t.writeString(51,r),r=e.getMrtmtoken(),r.length>0&&t.writeString(52,r),r=e.getAppid(),r.length>0&&t.writeString(100,r)},proto.grpc.video.BroadcastTokenResponse.prototype.getRoomid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setRoomid=function(e){return n.Message.setProto3StringField(this,1,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getToken=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setToken=function(e){return n.Message.setProto3StringField(this,2,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getOwner=function(){return n.Message.getWrapperField(this,proto.grpc.video.User,3)},proto.grpc.video.BroadcastTokenResponse.prototype.setOwner=function(e){return n.Message.setWrapperField(this,3,e)},proto.grpc.video.BroadcastTokenResponse.prototype.clearOwner=function(){return this.setOwner(void 0)},proto.grpc.video.BroadcastTokenResponse.prototype.hasOwner=function(){return null!=n.Message.getField(this,3)},proto.grpc.video.BroadcastTokenResponse.prototype.getTimepast=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.grpc.video.BroadcastTokenResponse.prototype.setTimepast=function(e){return n.Message.setProto3IntField(this,6,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getBroadcastid=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setBroadcastid=function(e){return n.Message.setProto3StringField(this,7,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getAvailabletime=function(){return n.Message.getFieldWithDefault(this,8,0)},proto.grpc.video.BroadcastTokenResponse.prototype.setAvailabletime=function(e){return n.Message.setProto3IntField(this,8,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getTopic=function(){return n.Message.getFieldWithDefault(this,11,0)},proto.grpc.video.BroadcastTokenResponse.prototype.setTopic=function(e){return n.Message.setProto3IntField(this,11,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getRtmtoken=function(){return n.Message.getFieldWithDefault(this,13,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setRtmtoken=function(e){return n.Message.setProto3StringField(this,13,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getStreamlandcape=function(){return n.Message.getBooleanFieldWithDefault(this,17,!1)},proto.grpc.video.BroadcastTokenResponse.prototype.setStreamlandcape=function(e){return n.Message.setProto3BooleanField(this,17,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getStreamspecial=function(){return n.Message.getFieldWithDefault(this,18,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setStreamspecial=function(e){return n.Message.setProto3StringField(this,18,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getScreen=function(){return n.Message.getFieldWithDefault(this,21,0)},proto.grpc.video.BroadcastTokenResponse.prototype.setScreen=function(e){return n.Message.setProto3IntField(this,21,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getPause=function(){return n.Message.getBooleanFieldWithDefault(this,22,!1)},proto.grpc.video.BroadcastTokenResponse.prototype.setPause=function(e){return n.Message.setProto3BooleanField(this,22,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getVideoid=function(){return n.Message.getFieldWithDefault(this,23,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setVideoid=function(e){return n.Message.setProto3StringField(this,23,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getAddviewnum=function(){return n.Message.getFieldWithDefault(this,25,0)},proto.grpc.video.BroadcastTokenResponse.prototype.setAddviewnum=function(e){return n.Message.setProto3IntField(this,25,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getMaccount=function(){return n.Message.getFieldWithDefault(this,50,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setMaccount=function(e){return n.Message.setProto3StringField(this,50,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getMtoken=function(){return n.Message.getFieldWithDefault(this,51,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setMtoken=function(e){return n.Message.setProto3StringField(this,51,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getMrtmtoken=function(){return n.Message.getFieldWithDefault(this,52,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setMrtmtoken=function(e){return n.Message.setProto3StringField(this,52,e)},proto.grpc.video.BroadcastTokenResponse.prototype.getAppid=function(){return n.Message.getFieldWithDefault(this,100,"")},proto.grpc.video.BroadcastTokenResponse.prototype.setAppid=function(e){return n.Message.setProto3StringField(this,100,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.User.prototype.toObject=function(e){return proto.grpc.video.User.toObject(e,this)},proto.grpc.video.User.toObject=function(e,t){var r={userid:n.Message.getFieldWithDefault(t,1,""),nickname:n.Message.getFieldWithDefault(t,2,""),headpic:n.Message.getFieldWithDefault(t,3,""),coverpic:n.Message.getFieldWithDefault(t,12,""),sex:n.Message.getFieldWithDefault(t,4,0),descr:n.Message.getFieldWithDefault(t,5,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.User.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.User;return proto.grpc.video.User.deserializeBinaryFromReader(r,t)},proto.grpc.video.User.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setUserid(r);break;case 2:var r=t.readString();e.setNickname(r);break;case 3:var r=t.readString();e.setHeadpic(r);break;case 12:var r=t.readString();e.setCoverpic(r);break;case 4:var r=t.readInt32();e.setSex(r);break;case 5:var r=t.readString();e.setDescr(r);break;default:t.skipField()}}return e},proto.grpc.video.User.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.User.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.User.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getUserid(),r.length>0&&t.writeString(1,r),r=e.getNickname(),r.length>0&&t.writeString(2,r),r=e.getHeadpic(),r.length>0&&t.writeString(3,r),r=e.getCoverpic(),r.length>0&&t.writeString(12,r),r=e.getSex(),0!==r&&t.writeInt32(4,r),r=e.getDescr(),r.length>0&&t.writeString(5,r)},proto.grpc.video.User.prototype.getUserid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.grpc.video.User.prototype.setUserid=function(e){return n.Message.setProto3StringField(this,1,e)},proto.grpc.video.User.prototype.getNickname=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.User.prototype.setNickname=function(e){return n.Message.setProto3StringField(this,2,e)},proto.grpc.video.User.prototype.getHeadpic=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.grpc.video.User.prototype.setHeadpic=function(e){return n.Message.setProto3StringField(this,3,e)},proto.grpc.video.User.prototype.getCoverpic=function(){return n.Message.getFieldWithDefault(this,12,"")},proto.grpc.video.User.prototype.setCoverpic=function(e){return n.Message.setProto3StringField(this,12,e)},proto.grpc.video.User.prototype.getSex=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.grpc.video.User.prototype.setSex=function(e){return n.Message.setProto3IntField(this,4,e)},proto.grpc.video.User.prototype.getDescr=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.grpc.video.User.prototype.setDescr=function(e){return n.Message.setProto3StringField(this,5,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.IndexRequest.prototype.toObject=function(e){return proto.grpc.video.IndexRequest.toObject(e,this)},proto.grpc.video.IndexRequest.toObject=function(e,t){var r={type:n.Message.getFieldWithDefault(t,1,0),num:n.Message.getFieldWithDefault(t,2,0),lastvideoidx:n.Message.getFieldWithDefault(t,11,""),lastroomidx:n.Message.getFieldWithDefault(t,12,""),hideroom:n.Message.getBooleanFieldWithDefault(t,13,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.IndexRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.IndexRequest;return proto.grpc.video.IndexRequest.deserializeBinaryFromReader(r,t)},proto.grpc.video.IndexRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setType(r);break;case 2:var r=t.readInt32();e.setNum(r);break;case 11:var r=t.readString();e.setLastvideoidx(r);break;case 12:var r=t.readString();e.setLastroomidx(r);break;case 13:var r=t.readBool();e.setHideroom(r);break;default:t.skipField()}}return e},proto.grpc.video.IndexRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.IndexRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.IndexRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getType(),0!==r&&t.writeInt32(1,r),r=e.getNum(),0!==r&&t.writeInt32(2,r),r=e.getLastvideoidx(),r.length>0&&t.writeString(11,r),r=e.getLastroomidx(),r.length>0&&t.writeString(12,r),(r=e.getHideroom())&&t.writeBool(13,r)},proto.grpc.video.IndexRequest.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.grpc.video.IndexRequest.prototype.setType=function(e){return n.Message.setProto3IntField(this,1,e)},proto.grpc.video.IndexRequest.prototype.getNum=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.grpc.video.IndexRequest.prototype.setNum=function(e){return n.Message.setProto3IntField(this,2,e)},proto.grpc.video.IndexRequest.prototype.getLastvideoidx=function(){return n.Message.getFieldWithDefault(this,11,"")},proto.grpc.video.IndexRequest.prototype.setLastvideoidx=function(e){return n.Message.setProto3StringField(this,11,e)},proto.grpc.video.IndexRequest.prototype.getLastroomidx=function(){return n.Message.getFieldWithDefault(this,12,"")},proto.grpc.video.IndexRequest.prototype.setLastroomidx=function(e){return n.Message.setProto3StringField(this,12,e)},proto.grpc.video.IndexRequest.prototype.getHideroom=function(){return n.Message.getBooleanFieldWithDefault(this,13,!1)},proto.grpc.video.IndexRequest.prototype.setHideroom=function(e){return n.Message.setProto3BooleanField(this,13,e)},proto.grpc.video.IndexResponse.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.IndexResponse.prototype.toObject=function(e){return proto.grpc.video.IndexResponse.toObject(e,this)},proto.grpc.video.IndexResponse.toObject=function(e,t){var r={type:n.Message.getFieldWithDefault(t,1,0),recommendlistList:n.Message.toObjectList(t.getRecommendlistList(),proto.grpc.video.IndexBean.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.IndexResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.IndexResponse;return proto.grpc.video.IndexResponse.deserializeBinaryFromReader(r,t)},proto.grpc.video.IndexResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setType(r);break;case 2:var r=new proto.grpc.video.IndexBean;t.readMessage(r,proto.grpc.video.IndexBean.deserializeBinaryFromReader),e.addRecommendlist(r);break;default:t.skipField()}}return e},proto.grpc.video.IndexResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.IndexResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.IndexResponse.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getType(),0!==r&&t.writeInt32(1,r),r=e.getRecommendlistList(),r.length>0&&t.writeRepeatedMessage(2,r,proto.grpc.video.IndexBean.serializeBinaryToWriter)},proto.grpc.video.IndexResponse.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.grpc.video.IndexResponse.prototype.setType=function(e){return n.Message.setProto3IntField(this,1,e)},proto.grpc.video.IndexResponse.prototype.getRecommendlistList=function(){return n.Message.getRepeatedWrapperField(this,proto.grpc.video.IndexBean,2)},proto.grpc.video.IndexResponse.prototype.setRecommendlistList=function(e){return n.Message.setRepeatedWrapperField(this,2,e)},proto.grpc.video.IndexResponse.prototype.addRecommendlist=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.grpc.video.IndexBean,t)},proto.grpc.video.IndexResponse.prototype.clearRecommendlistList=function(){return this.setRecommendlistList([])},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.IndexBean.prototype.toObject=function(e){return proto.grpc.video.IndexBean.toObject(e,this)},proto.grpc.video.IndexBean.toObject=function(e,t){var r,o={video:(r=t.getVideo())&&proto.grpc.video.Video.toObject(e,r),room:(r=t.getRoom())&&proto.grpc.video.Room.toObject(e,r),creationtime:n.Message.getFieldWithDefault(t,3,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.grpc.video.IndexBean.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.IndexBean;return proto.grpc.video.IndexBean.deserializeBinaryFromReader(r,t)},proto.grpc.video.IndexBean.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new proto.grpc.video.Video;t.readMessage(r,proto.grpc.video.Video.deserializeBinaryFromReader),e.setVideo(r);break;case 2:var r=new proto.grpc.video.Room;t.readMessage(r,proto.grpc.video.Room.deserializeBinaryFromReader),e.setRoom(r);break;case 3:var r=t.readInt64();e.setCreationtime(r);break;default:t.skipField()}}return e},proto.grpc.video.IndexBean.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.IndexBean.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.IndexBean.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getVideo(),null!=r&&t.writeMessage(1,r,proto.grpc.video.Video.serializeBinaryToWriter),r=e.getRoom(),null!=r&&t.writeMessage(2,r,proto.grpc.video.Room.serializeBinaryToWriter),0!==(r=e.getCreationtime())&&t.writeInt64(3,r)},proto.grpc.video.IndexBean.prototype.getVideo=function(){return n.Message.getWrapperField(this,proto.grpc.video.Video,1)},proto.grpc.video.IndexBean.prototype.setVideo=function(e){return n.Message.setWrapperField(this,1,e)},proto.grpc.video.IndexBean.prototype.clearVideo=function(){return this.setVideo(void 0)},proto.grpc.video.IndexBean.prototype.hasVideo=function(){return null!=n.Message.getField(this,1)},proto.grpc.video.IndexBean.prototype.getRoom=function(){return n.Message.getWrapperField(this,proto.grpc.video.Room,2)},proto.grpc.video.IndexBean.prototype.setRoom=function(e){return n.Message.setWrapperField(this,2,e)},proto.grpc.video.IndexBean.prototype.clearRoom=function(){return this.setRoom(void 0)},proto.grpc.video.IndexBean.prototype.hasRoom=function(){return null!=n.Message.getField(this,2)},proto.grpc.video.IndexBean.prototype.getCreationtime=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.grpc.video.IndexBean.prototype.setCreationtime=function(e){return n.Message.setProto3IntField(this,3,e)},proto.grpc.video.Video.repeatedFields_=[13,14,15,17,20,25],n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.Video.prototype.toObject=function(e){return proto.grpc.video.Video.toObject(e,this)},proto.grpc.video.Video.toObject=function(e,t){var r,o={id:n.Message.getFieldWithDefault(t,1,""),user:(r=t.getUser())&&proto.grpc.video.User.toObject(e,r),type:n.Message.getFieldWithDefault(t,3,0),url:n.Message.getFieldWithDefault(t,4,""),screenshot:n.Message.getFieldWithDefault(t,5,""),videotime:n.Message.getFieldWithDefault(t,6,0),content:n.Message.getFieldWithDefault(t,7,""),like:n.Message.getFieldWithDefault(t,8,0),dislike:n.Message.getFieldWithDefault(t,9,0),view:n.Message.getFieldWithDefault(t,10,0),creationtime:n.Message.getFieldWithDefault(t,11,0),approve:n.Message.getFieldWithDefault(t,12,0),atlistlistList:null==(r=n.Message.getRepeatedField(t,13))?void 0:r,topiclistlistList:null==(r=n.Message.getRepeatedField(t,14))?void 0:r,resolutionslistList:n.Message.toObjectList(t.getResolutionslistList(),proto.grpc.video.VideoResolution.toObject,e),filesize:n.Message.getFieldWithDefault(t,16,0),videosrtlistlistList:n.Message.toObjectList(t.getVideosrtlistlistList(),proto.grpc.video.VideoSrt.toObject,e),top:n.Message.getBooleanFieldWithDefault(t,18,!1),gif:n.Message.getFieldWithDefault(t,19,""),adstimelistList:null==(r=n.Message.getRepeatedFloatingPointField(t,20))?void 0:r,m3u8:n.Message.getFieldWithDefault(t,21,""),postreslistList:n.Message.toObjectList(t.getPostreslistList(),proto.grpc.video.PostRes.toObject,e),commentnum:n.Message.getFieldWithDefault(t,102,0),repostnum:n.Message.getFieldWithDefault(t,103,0),repostid:n.Message.getFieldWithDefault(t,200,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.grpc.video.Video.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.Video;return proto.grpc.video.Video.deserializeBinaryFromReader(r,t)},proto.grpc.video.Video.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setId(r);break;case 2:var r=new proto.grpc.video.User;t.readMessage(r,proto.grpc.video.User.deserializeBinaryFromReader),e.setUser(r);break;case 3:var r=t.readInt32();e.setType(r);break;case 4:var r=t.readString();e.setUrl(r);break;case 5:var r=t.readString();e.setScreenshot(r);break;case 6:var r=t.readInt32();e.setVideotime(r);break;case 7:var r=t.readString();e.setContent(r);break;case 8:var r=t.readInt32();e.setLike(r);break;case 9:var r=t.readInt32();e.setDislike(r);break;case 10:var r=t.readInt32();e.setView(r);break;case 11:var r=t.readInt64();e.setCreationtime(r);break;case 12:var r=t.readInt32();e.setApprove(r);break;case 13:var r=t.readString();e.addAtlistlist(r);break;case 14:var r=t.readString();e.addTopiclistlist(r);break;case 15:var r=new proto.grpc.video.VideoResolution;t.readMessage(r,proto.grpc.video.VideoResolution.deserializeBinaryFromReader),e.addResolutionslist(r);break;case 16:var r=t.readInt32();e.setFilesize(r);break;case 17:var r=new proto.grpc.video.VideoSrt;t.readMessage(r,proto.grpc.video.VideoSrt.deserializeBinaryFromReader),e.addVideosrtlistlist(r);break;case 18:var r=t.readBool();e.setTop(r);break;case 19:var r=t.readString();e.setGif(r);break;case 20:var r=t.readPackedFloat();e.setAdstimelistList(r);break;case 21:var r=t.readString();e.setM3u8(r);break;case 25:var r=new proto.grpc.video.PostRes;t.readMessage(r,proto.grpc.video.PostRes.deserializeBinaryFromReader),e.addPostreslist(r);break;case 102:var r=t.readInt32();e.setCommentnum(r);break;case 103:var r=t.readInt32();e.setRepostnum(r);break;case 200:var r=t.readString();e.setRepostid(r);break;default:t.skipField()}}return e},proto.grpc.video.Video.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.Video.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.Video.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getId(),r.length>0&&t.writeString(1,r),r=e.getUser(),null!=r&&t.writeMessage(2,r,proto.grpc.video.User.serializeBinaryToWriter),r=e.getType(),0!==r&&t.writeInt32(3,r),r=e.getUrl(),r.length>0&&t.writeString(4,r),r=e.getScreenshot(),r.length>0&&t.writeString(5,r),r=e.getVideotime(),0!==r&&t.writeInt32(6,r),r=e.getContent(),r.length>0&&t.writeString(7,r),r=e.getLike(),0!==r&&t.writeInt32(8,r),r=e.getDislike(),0!==r&&t.writeInt32(9,r),r=e.getView(),0!==r&&t.writeInt32(10,r),r=e.getCreationtime(),0!==r&&t.writeInt64(11,r),r=e.getApprove(),0!==r&&t.writeInt32(12,r),r=e.getAtlistlistList(),r.length>0&&t.writeRepeatedString(13,r),r=e.getTopiclistlistList(),r.length>0&&t.writeRepeatedString(14,r),r=e.getResolutionslistList(),r.length>0&&t.writeRepeatedMessage(15,r,proto.grpc.video.VideoResolution.serializeBinaryToWriter),r=e.getFilesize(),0!==r&&t.writeInt32(16,r),r=e.getVideosrtlistlistList(),r.length>0&&t.writeRepeatedMessage(17,r,proto.grpc.video.VideoSrt.serializeBinaryToWriter),r=e.getTop(),r&&t.writeBool(18,r),r=e.getGif(),r.length>0&&t.writeString(19,r),r=e.getAdstimelistList(),r.length>0&&t.writePackedFloat(20,r),r=e.getM3u8(),r.length>0&&t.writeString(21,r),r=e.getPostreslistList(),r.length>0&&t.writeRepeatedMessage(25,r,proto.grpc.video.PostRes.serializeBinaryToWriter),r=e.getCommentnum(),0!==r&&t.writeInt32(102,r),r=e.getRepostnum(),0!==r&&t.writeInt32(103,r),r=e.getRepostid(),r.length>0&&t.writeString(200,r)},proto.grpc.video.Video.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.grpc.video.Video.prototype.setId=function(e){return n.Message.setProto3StringField(this,1,e)},proto.grpc.video.Video.prototype.getUser=function(){return n.Message.getWrapperField(this,proto.grpc.video.User,2)},proto.grpc.video.Video.prototype.setUser=function(e){return n.Message.setWrapperField(this,2,e)},proto.grpc.video.Video.prototype.clearUser=function(){return this.setUser(void 0)},proto.grpc.video.Video.prototype.hasUser=function(){return null!=n.Message.getField(this,2)},proto.grpc.video.Video.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.grpc.video.Video.prototype.setType=function(e){return n.Message.setProto3IntField(this,3,e)},proto.grpc.video.Video.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.grpc.video.Video.prototype.setUrl=function(e){return n.Message.setProto3StringField(this,4,e)},proto.grpc.video.Video.prototype.getScreenshot=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.grpc.video.Video.prototype.setScreenshot=function(e){return n.Message.setProto3StringField(this,5,e)},proto.grpc.video.Video.prototype.getVideotime=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.grpc.video.Video.prototype.setVideotime=function(e){return n.Message.setProto3IntField(this,6,e)},proto.grpc.video.Video.prototype.getContent=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.grpc.video.Video.prototype.setContent=function(e){return n.Message.setProto3StringField(this,7,e)},proto.grpc.video.Video.prototype.getLike=function(){return n.Message.getFieldWithDefault(this,8,0)},proto.grpc.video.Video.prototype.setLike=function(e){return n.Message.setProto3IntField(this,8,e)},proto.grpc.video.Video.prototype.getDislike=function(){return n.Message.getFieldWithDefault(this,9,0)},proto.grpc.video.Video.prototype.setDislike=function(e){return n.Message.setProto3IntField(this,9,e)},proto.grpc.video.Video.prototype.getView=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.grpc.video.Video.prototype.setView=function(e){return n.Message.setProto3IntField(this,10,e)},proto.grpc.video.Video.prototype.getCreationtime=function(){return n.Message.getFieldWithDefault(this,11,0)},proto.grpc.video.Video.prototype.setCreationtime=function(e){return n.Message.setProto3IntField(this,11,e)},proto.grpc.video.Video.prototype.getApprove=function(){return n.Message.getFieldWithDefault(this,12,0)},proto.grpc.video.Video.prototype.setApprove=function(e){return n.Message.setProto3IntField(this,12,e)},proto.grpc.video.Video.prototype.getAtlistlistList=function(){return n.Message.getRepeatedField(this,13)},proto.grpc.video.Video.prototype.setAtlistlistList=function(e){return n.Message.setField(this,13,e||[])},proto.grpc.video.Video.prototype.addAtlistlist=function(e,t){return n.Message.addToRepeatedField(this,13,e,t)},proto.grpc.video.Video.prototype.clearAtlistlistList=function(){return this.setAtlistlistList([])},proto.grpc.video.Video.prototype.getTopiclistlistList=function(){return n.Message.getRepeatedField(this,14)},proto.grpc.video.Video.prototype.setTopiclistlistList=function(e){return n.Message.setField(this,14,e||[])},proto.grpc.video.Video.prototype.addTopiclistlist=function(e,t){return n.Message.addToRepeatedField(this,14,e,t)},proto.grpc.video.Video.prototype.clearTopiclistlistList=function(){return this.setTopiclistlistList([])},proto.grpc.video.Video.prototype.getResolutionslistList=function(){return n.Message.getRepeatedWrapperField(this,proto.grpc.video.VideoResolution,15)},proto.grpc.video.Video.prototype.setResolutionslistList=function(e){return n.Message.setRepeatedWrapperField(this,15,e)},proto.grpc.video.Video.prototype.addResolutionslist=function(e,t){return n.Message.addToRepeatedWrapperField(this,15,e,proto.grpc.video.VideoResolution,t)};proto.grpc.video.Video.prototype.clearResolutionslistList=function(){return this.setResolutionslistList([])},proto.grpc.video.Video.prototype.getFilesize=function(){return n.Message.getFieldWithDefault(this,16,0)},proto.grpc.video.Video.prototype.setFilesize=function(e){return n.Message.setProto3IntField(this,16,e)},proto.grpc.video.Video.prototype.getVideosrtlistlistList=function(){return n.Message.getRepeatedWrapperField(this,proto.grpc.video.VideoSrt,17)},proto.grpc.video.Video.prototype.setVideosrtlistlistList=function(e){return n.Message.setRepeatedWrapperField(this,17,e)},proto.grpc.video.Video.prototype.addVideosrtlistlist=function(e,t){return n.Message.addToRepeatedWrapperField(this,17,e,proto.grpc.video.VideoSrt,t)},proto.grpc.video.Video.prototype.clearVideosrtlistlistList=function(){return this.setVideosrtlistlistList([])},proto.grpc.video.Video.prototype.getTop=function(){return n.Message.getBooleanFieldWithDefault(this,18,!1)},proto.grpc.video.Video.prototype.setTop=function(e){return n.Message.setProto3BooleanField(this,18,e)},proto.grpc.video.Video.prototype.getGif=function(){return n.Message.getFieldWithDefault(this,19,"")},proto.grpc.video.Video.prototype.setGif=function(e){return n.Message.setProto3StringField(this,19,e)},proto.grpc.video.Video.prototype.getAdstimelistList=function(){return n.Message.getRepeatedFloatingPointField(this,20)},proto.grpc.video.Video.prototype.setAdstimelistList=function(e){return n.Message.setField(this,20,e||[])},proto.grpc.video.Video.prototype.addAdstimelist=function(e,t){return n.Message.addToRepeatedField(this,20,e,t)},proto.grpc.video.Video.prototype.clearAdstimelistList=function(){return this.setAdstimelistList([])},proto.grpc.video.Video.prototype.getM3u8=function(){return n.Message.getFieldWithDefault(this,21,"")},proto.grpc.video.Video.prototype.setM3u8=function(e){return n.Message.setProto3StringField(this,21,e)},proto.grpc.video.Video.prototype.getPostreslistList=function(){return n.Message.getRepeatedWrapperField(this,proto.grpc.video.PostRes,25)},proto.grpc.video.Video.prototype.setPostreslistList=function(e){return n.Message.setRepeatedWrapperField(this,25,e)},proto.grpc.video.Video.prototype.addPostreslist=function(e,t){return n.Message.addToRepeatedWrapperField(this,25,e,proto.grpc.video.PostRes,t)},proto.grpc.video.Video.prototype.clearPostreslistList=function(){return this.setPostreslistList([])},proto.grpc.video.Video.prototype.getCommentnum=function(){return n.Message.getFieldWithDefault(this,102,0)},proto.grpc.video.Video.prototype.setCommentnum=function(e){return n.Message.setProto3IntField(this,102,e)},proto.grpc.video.Video.prototype.getRepostnum=function(){return n.Message.getFieldWithDefault(this,103,0)},proto.grpc.video.Video.prototype.setRepostnum=function(e){return n.Message.setProto3IntField(this,103,e)},proto.grpc.video.Video.prototype.getRepostid=function(){return n.Message.getFieldWithDefault(this,200,"")},proto.grpc.video.Video.prototype.setRepostid=function(e){return n.Message.setProto3StringField(this,200,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.VideoResolution.prototype.toObject=function(e){return proto.grpc.video.VideoResolution.toObject(e,this)},proto.grpc.video.VideoResolution.toObject=function(e,t){var r={type:n.Message.getFieldWithDefault(t,1,0),url:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.VideoResolution.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.VideoResolution;return proto.grpc.video.VideoResolution.deserializeBinaryFromReader(r,t)},proto.grpc.video.VideoResolution.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setType(r);break;case 2:var r=t.readString();e.setUrl(r);break;default:t.skipField()}}return e},proto.grpc.video.VideoResolution.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.VideoResolution.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.VideoResolution.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getType(),0!==r&&t.writeInt32(1,r),r=e.getUrl(),r.length>0&&t.writeString(2,r)},proto.grpc.video.VideoResolution.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.grpc.video.VideoResolution.prototype.setType=function(e){return n.Message.setProto3IntField(this,1,e)},proto.grpc.video.VideoResolution.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.VideoResolution.prototype.setUrl=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.VideoSrt.prototype.toObject=function(e){return proto.grpc.video.VideoSrt.toObject(e,this)},proto.grpc.video.VideoSrt.toObject=function(e,t){var r={lang:n.Message.getFieldWithDefault(t,1,""),srt:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.VideoSrt.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.VideoSrt;return proto.grpc.video.VideoSrt.deserializeBinaryFromReader(r,t)},proto.grpc.video.VideoSrt.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setLang(r);break;case 2:var r=t.readString();e.setSrt(r);break;default:t.skipField()}}return e},proto.grpc.video.VideoSrt.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.VideoSrt.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.VideoSrt.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getLang(),r.length>0&&t.writeString(1,r),r=e.getSrt(),r.length>0&&t.writeString(2,r)},proto.grpc.video.VideoSrt.prototype.getLang=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.grpc.video.VideoSrt.prototype.setLang=function(e){return n.Message.setProto3StringField(this,1,e)},proto.grpc.video.VideoSrt.prototype.getSrt=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.VideoSrt.prototype.setSrt=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.PostRes.prototype.toObject=function(e){return proto.grpc.video.PostRes.toObject(e,this)},proto.grpc.video.PostRes.toObject=function(e,t){var r={type:n.Message.getFieldWithDefault(t,1,0),url:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.grpc.video.PostRes.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.PostRes;return proto.grpc.video.PostRes.deserializeBinaryFromReader(r,t)},proto.grpc.video.PostRes.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readInt32();e.setType(r);break;case 2:var r=t.readString();e.setUrl(r);break;default:t.skipField()}}return e},proto.grpc.video.PostRes.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.PostRes.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.PostRes.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getType(),0!==r&&t.writeInt32(1,r),r=e.getUrl(),r.length>0&&t.writeString(2,r)},proto.grpc.video.PostRes.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.grpc.video.PostRes.prototype.setType=function(e){return n.Message.setProto3IntField(this,1,e)},proto.grpc.video.PostRes.prototype.getUrl=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.PostRes.prototype.setUrl=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.grpc.video.Room.prototype.toObject=function(e){return proto.grpc.video.Room.toObject(e,this)},proto.grpc.video.Room.toObject=function(e,t){var r,o={roomid:n.Message.getFieldWithDefault(t,1,""),roomname:n.Message.getFieldWithDefault(t,2,""),type:n.Message.getFieldWithDefault(t,3,0),status:n.Message.getFieldWithDefault(t,4,0),audiencetoken:n.Message.getFieldWithDefault(t,5,""),album:n.Message.getFieldWithDefault(t,6,""),owner:(r=t.getOwner())&&proto.grpc.video.User.toObject(e,r),like:n.Message.getFieldWithDefault(t,8,0),title:n.Message.getFieldWithDefault(t,9,""),viewersize:n.Message.getFieldWithDefault(t,10,0),pb_public:n.Message.getBooleanFieldWithDefault(t,11,!1),sessionid:n.Message.getFieldWithDefault(t,13,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.grpc.video.Room.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.grpc.video.Room;return proto.grpc.video.Room.deserializeBinaryFromReader(r,t)},proto.grpc.video.Room.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readString();e.setRoomid(r);break;case 2:var r=t.readString();e.setRoomname(r);break;case 3:var r=t.readInt32();e.setType(r);break;case 4:var r=t.readInt32();e.setStatus(r);break;case 5:var r=t.readString();e.setAudiencetoken(r);break;case 6:var r=t.readString();e.setAlbum(r);break;case 7:var r=new proto.grpc.video.User;t.readMessage(r,proto.grpc.video.User.deserializeBinaryFromReader),e.setOwner(r);break;case 8:var r=t.readInt32();e.setLike(r);break;case 9:var r=t.readString();e.setTitle(r);break;case 10:var r=t.readInt32();e.setViewersize(r);break;case 11:var r=t.readBool();e.setPublic(r);break;case 13:var r=t.readString();e.setSessionid(r);break;default:t.skipField()}}return e},proto.grpc.video.Room.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.grpc.video.Room.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.grpc.video.Room.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getRoomid(),r.length>0&&t.writeString(1,r),r=e.getRoomname(),r.length>0&&t.writeString(2,r),r=e.getType(),0!==r&&t.writeInt32(3,r),r=e.getStatus(),0!==r&&t.writeInt32(4,r),r=e.getAudiencetoken(),r.length>0&&t.writeString(5,r),r=e.getAlbum(),r.length>0&&t.writeString(6,r),r=e.getOwner(),null!=r&&t.writeMessage(7,r,proto.grpc.video.User.serializeBinaryToWriter),r=e.getLike(),0!==r&&t.writeInt32(8,r),r=e.getTitle(),r.length>0&&t.writeString(9,r),r=e.getViewersize(),0!==r&&t.writeInt32(10,r),r=e.getPublic(),r&&t.writeBool(11,r),r=e.getSessionid(),r.length>0&&t.writeString(13,r)},proto.grpc.video.Room.prototype.getRoomid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.grpc.video.Room.prototype.setRoomid=function(e){return n.Message.setProto3StringField(this,1,e)},proto.grpc.video.Room.prototype.getRoomname=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.grpc.video.Room.prototype.setRoomname=function(e){return n.Message.setProto3StringField(this,2,e)},proto.grpc.video.Room.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.grpc.video.Room.prototype.setType=function(e){return n.Message.setProto3IntField(this,3,e)},proto.grpc.video.Room.prototype.getStatus=function(){return n.Message.getFieldWithDefault(this,4,0)},proto.grpc.video.Room.prototype.setStatus=function(e){return n.Message.setProto3IntField(this,4,e)},proto.grpc.video.Room.prototype.getAudiencetoken=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.grpc.video.Room.prototype.setAudiencetoken=function(e){return n.Message.setProto3StringField(this,5,e)},proto.grpc.video.Room.prototype.getAlbum=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.grpc.video.Room.prototype.setAlbum=function(e){return n.Message.setProto3StringField(this,6,e)},proto.grpc.video.Room.prototype.getOwner=function(){return n.Message.getWrapperField(this,proto.grpc.video.User,7)},proto.grpc.video.Room.prototype.setOwner=function(e){return n.Message.setWrapperField(this,7,e)},proto.grpc.video.Room.prototype.clearOwner=function(){return this.setOwner(void 0)},proto.grpc.video.Room.prototype.hasOwner=function(){return null!=n.Message.getField(this,7)},proto.grpc.video.Room.prototype.getLike=function(){return n.Message.getFieldWithDefault(this,8,0)},proto.grpc.video.Room.prototype.setLike=function(e){return n.Message.setProto3IntField(this,8,e)},proto.grpc.video.Room.prototype.getTitle=function(){return n.Message.getFieldWithDefault(this,9,"")},proto.grpc.video.Room.prototype.setTitle=function(e){return n.Message.setProto3StringField(this,9,e)},proto.grpc.video.Room.prototype.getViewersize=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.grpc.video.Room.prototype.setViewersize=function(e){return n.Message.setProto3IntField(this,10,e)},proto.grpc.video.Room.prototype.getPublic=function(){return n.Message.getBooleanFieldWithDefault(this,11,!1)},proto.grpc.video.Room.prototype.setPublic=function(e){return n.Message.setProto3BooleanField(this,11,e)},proto.grpc.video.Room.prototype.getSessionid=function(){return n.Message.getFieldWithDefault(this,13,"")},proto.grpc.video.Room.prototype.setSessionid=function(e){return n.Message.setProto3StringField(this,13,e)},o.object.extend(t,proto.grpc.video)},function(e,t,r){r(8),e.exports=angular},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AppCtrl=void 0;var i=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(11),u=r(10);t.AppCtrl=function(){function e(t){o(this,e),this.$scope=t,this.stations=[],this.playingId=null,this.status="",this.busy=!1,this.turner=new c.RadioTuner,this.player=new u.RadioPlayer,t.rtc=this.rtc,t.$watch("rtc.joined",function(){})}return s(e,[{key:"isPlaying",value:function(){return 1==this.player.rtc.joined}},{key:"getStations",value:function(){function e(){return t.apply(this,arguments)}var t=n(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stations=[],this.status="Retriving station info...",e.prev=2,e.next=5,this.turner.getStations();case 5:this.stations=e.sent,console.log(this.stations),this.status="",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this.status="網絡故障，請重新刷新列表🙏";case 13:this._updateUi();case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return e}()},{key:"play",value:function(){function e(e){return t.apply(this,arguments)}var t=n(a.default.mark(function e(t){var r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.busy&&t&&t.id!=this.playingId){e.next=2;break}return e.abrupt("return");case 2:if(!this.isPlaying()){e.next=5;break}return e.next=5,this.player.stop();case 5:return this.status="Connecting...",this.busy=!0,this._updateUi(),r=null,e.prev=9,e.next=12,this.turner.getBoradcastToken(t.id);case 12:r=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),this.status="網絡故障，請重新選擇電臺🙏";case 18:if(e.prev=18,!r){e.next=25;break}return e.next=22,this.player.play(r);case 22:console.log("playing "+t.id),this.playingId=t.id,this.status=t.title?t.title:t.ownerName;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(18),this.status="Failed to play "+(t.title?t.title:t.ownerName),console.log("Play error:"+e.t1);case 31:this.busy=!1,this._updateUi();case 33:case"end":return e.stop()}},e,this,[[9,15],[18,27]])}));return e}()},{key:"_updateUi",value:function(){try{this.$scope.$apply()}catch(e){}}},{key:"stop",value:function(){function e(){return t.apply(this,arguments)}var t=n(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.busy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.player.stop();case 4:this.status="",this._updateUi();case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"justPlay",value:function(){function e(){return t.apply(this,arguments)}var t=n(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.busy){e.next=2;break}return e.abrupt("return");case 2:if(!this.isPlaying()){e.next=5;break}return this.stop(),e.abrupt("return");case 5:if(this.stations||0!=this.stations.length){e.next=8;break}return e.next=8,this.getStations();case 8:if(this.stations||0!=this.stations.length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.play(this.stations[0]);case 12:case"end":return e.stop()}},e,this)}));return e}()}]),e}()},function(e,t){},function(e,t){e.exports='<main class="main-container" ng-init="app.getStations()">\n  <header class="main-header">\n    <h1 class="title">G | Radio</h1>\n  </header>\n\n  <div class="main-content">\n    <div ng-repeat="station in app.stations">\n      <div ng-click="app.play(station)" class="station-item">\n        <div>{{station.title ? station.title : \'Live Broadcast:\' + station.ownerName}}</div>\n        <div><small class="text-muted">{{station.ownerName}}</small></div>\n      </div>\n    </div>\n\n\n    <div class="video-grid" id="video">\n      <div class="video-view">\n        <div id="local_video_info" class="video-profile hide"></div>\n        <div id="video_autoplay_local" class="autoplay-fallback hide"></div>\n      </div>\n    </div>\n\n\n  </div>\n\n  <footer class="main-footer">\n    <div class="play-status"><small class="status-text text-muted">{{app.status}}</small></div>\n    <div class="play-controls">\n      <div ng-click="app.getStations()" class="placeholder-button refresh-button"> </div>\n\n      <div ng-click="app.justPlay()">\n        <div ng-if="app.isPlaying()" class="hero-button pause-button"> </div>\n        <div ng-if="!app.isPlaying()" class="hero-button play-button"> </div>\n      </div>\n      <div ng-click="app.getStations()" class="placeholder-button">\n        <a href="https://gtv.org" target="_blank" class="tv-button">G|TV</a>\n      </div>\n    </div>\n  </footer>\n</main>'},function(module,exports,__webpack_require__){/*! AgoraRTC|BUILD v3.3.0-0-g708b56f */
!function(e,t){module.exports=t()}(window,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=93)}([function(e,t,r){"use strict";function n(e){return _[e]}function o(e){var t=n(e);return function(e){e<36||(_[e]=S,S=e)}(e),t}function i(){return null!==A&&A.buffer===u.memory.buffer||(A=new Uint8Array(u.memory.buffer)),A}function a(e,t){return b.decode(i().subarray(e,e+t))}function s(e){S===_.length&&_.push(_.length+1);var t=S;return S=_[t],_[t]=e,t}function c(){return null!==w&&w.buffer===u.memory.buffer||(w=new Int32Array(u.memory.buffer)),w}r.r(t);var u,l=r(11),d=r.n(l),g=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()},p=r(14),f=r(3),h=r(1),m=r(46),v=r.n(m),y=r(47),E=r.n(y),_=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);var S=_.length,b=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});b.decode();var T,A=null,R=0,I=new TextEncoder("utf-8"),O="function"==typeof I.encodeInto?function(e,t){return I.encodeInto(e,t)}:function(e,t){var r=I.encode(e);return t.set(r),{read:e.length,written:r.length}},w=null,C=function(){function e(){v()(this,e)}return E()(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,u.__wbg_signmanager_free(e)}},{key:"get_digest",value:function(e){return o(u.signmanager_get_digest(this.ptr,s(e)))}}],[{key:"__wrap",value:function(t){var r=Object.create(e.prototype);return r.ptr=t,r}},{key:"new",value:function(){var t=u.signmanager_new();return e.__wrap(t)}}]),e}(),N=!1,M=null,L=0,D="free",P=[],k=[],x=0;(M?Promise.resolve(M):new Promise(function(e){N||u||function e(){var t={wbg:{}};t.wbg.__wbindgen_object_drop_ref=function(e){o(e)},t.wbg.__wbindgen_string_new=function(e,t){return s(a(e,t))},t.wbg.__wbindgen_string_get=function(e,t){var r=n(t),o="string"==typeof r?r:void 0,a=null==o?0:function(e,t,r){if(void 0===r){var n=I.encode(e),o=t(n.length);return i().subarray(o,o+n.length).set(n),R=n.length,o}for(var a=e.length,s=(o=t(a),i()),c=0;c<a;c++){var u=e.charCodeAt(c);if(u>127)break;s[o+c]=u}if(c!==a){0!==c&&(e=e.slice(c)),o=r(o,a,a=c+3*e.length);var l=i().subarray(o+c,o+a);c+=O(e,l).written}return R=c,o}(o,u.__wbindgen_malloc,u.__wbindgen_realloc),s=R;c()[e/4+1]=s,c()[e/4+0]=a},t.wbg.__wbindgen_throw=function(e,t){throw new Error(a(e,t))};for(var r=Uint8Array.from(atob("55ZBgM/2Bzm2JGhNn//ljJsSorhWUYE66a1Hf8O7pfQGR2zfol8qRP6CDhsi3iG7nFZu9stSyPq/qu2Rr2w8QkTGP6Gm2cg3J5qsQgq5bcHA9mDpGv/b24uEwsixZVl1eGkdV4SB/6ayw2v48hLmNA+w5UlnTCiWwerzESQPidpSUMbamXL3pU815EQm12GhhZ9aWzo568gdZvXevBc/WHfFKQSuTgWva4e4eSmW7UxpH8sY4HlDsCTMu0WwEB8B95XsZwOp3GLgfOQmJBw036DgIKU+XGn4KpIEq77WE/h6R7sZKsFUp+u+2cDnW7IPNe7xfd9areFo0EUh0/9K9CqxUkLqMB5hlgS1fwQHRzKPhQ7gALyc6HwMCPooS0M1NrzjdfH3vUn0PeQ1GBlnrnXgiu8TunfHg5TcbBfPEbxbyiiow1Np+VEBlHNh00PiAWyu024NHaPbDGfMtzu4WF02fgkh8Pxb7bCSpCZndjTytQgAzfZxk2bbe6NoHHFnsviqYzHVpxoPEk7icHRWcZC28d2muthq673KCMQay1fJcPqSTuYhWUZS5eylIguT33lP+TBbOWQI8KtCzBN5FzqILfKzRkzrJ3L192BUF8SILdwmriv10HU9ZlQAyQA1VdegnzOl/dYk2GGsB3724y7w/7aJLHJzEfwrfIzFd5CoAft7ct+zQW2G4Wm2kpoz6uJfgrNyykQgwCO6pkPy1ADrBUuJon9ySjhgcFru6AKa99wTlIhzBw3FKFt9Aa1/1KWWy7W1wAIGzRTs/7rLXRkKFjNqGVXBdoVNTpHFtfEFsuX0X98ISr0Bennlx0h2Yl/CGNb5Kc7i3bio1XJHX24avcMsEAwfdfskCki4/dkStn7QC97YJC3z+7gD84IiEEeGcnn7gHJyeALr0ssbqDUcKqxEyheyFs9FToJziLB+eYw6nMQLmYTrQyrg3b+3YBdgx7pzNEDSyz3tmaPaikwcLSyB/Igo6U/oP/fS2TZLtmN03m4iS76YrDJAgI+2W1GboabuixVcLdxm6SQ4CzUnHSPl1knhcGhW/+OcKa53tB5j5C4wEpiENv6T9PUu4K0YwtEAqFbd/eN2wVAYCKn/nlVA8uiESxCfgs0411mRFk4i1pixJLPP5AFPG9QFZnj6X19TqmhmIhl8D6Q1rOvPCqPZV/z04HjayX4qPzPzP/5NVilN/sHhQe7ulriGmU/3rj5QEuiOymsL7EdCQMc/4mXDPdVrDBfbt6dnv11oLYGmqOP1oSBj02FtsmYrMn9pRg7HJoCh86jAnzuOYn4tGnQ4gw/89sb64NAXcoIbTIjyiHBAQCCK2Yn4I/fNF10rkQlvSvkpqLG2eYpJmpWrcouNDEUtJFR607oNraLdmUKyLc1g7SNpS+ofp1FL6rua/HFSrb5kTF2Vcy2gl+6MACbFRChKoP/un7IbYJuOima/JWFZcs/MXokIx+ijuqjMtVKaYRTzNI5ncPa2y/EXTNdUUFpMhbE7sa39Uoh6Hci/viXy2KFTNbiw+BkWOPnyOr04LjIYKlJ8ud/KvjuvNUGQOHJvj6tpZJxj97tr0OrgZCAxSHGU5JQfqEd/U0QfzGM8Wh3zdsnd9LhoIIRJAtyA2PmjwJk4zTxeYlgwPqAVTU3+9bA1QD+jLZZ3Ffk3MRq+Ar2RT8YN6ASR4bItt3omBj0LJe0zeGY3OzfhljL6LA1m4+IUp+CzeWo0aEjnvRk3iCJeajgdC+NUGB5qh8PWKtBeC58woavnRjvRNphXS4b9M7Aymcfq26B2YY2lS+wLf763OnGJlVdV/srgyAUJJZjarxom4zrYy23kLFB8zFzWuwSMue5Xm1YWape91JGDuRLIctrJWU47/XfLm6Zgei4xOwq1RcjikGuaZtDwcFg9aKtO+JOGJsCjy9AiPnmt+rmdX83GsT3KtTETnLv6ZQcnGtmt4H8AjFgGYePdQc40cj8VAOV8NCLspyW5w63b3g37GXJrzjm9Fym3fh27psjo5RuTs7XCSrNENxKm9jCcXPqWxyuXJSn6dhdWnw5SAnUjixXviWS4HsnYjw4Xt4cSwkqCB9naLstVXt5D2HgG4fzHFNHvnETft0mrhU81IBDTSyNFdDvFEX8cifoc6FcNq7pzXlotl2ZS1FIzNXddZrdXpBNYZPV52gtCok6ePpUR/Y8jyJpE9P3q8dmFVivVGgmKTcBKMDDbzeOfl4MpOGBtBX/Lab/kzqG42sTyOyGUyOoFXYGMUWJ33GPI2KNa/mW8zVl+imshfbj7PiK1qRUn74KjAkH4wjKnu50AONYUaiveSdwnEc1zCjZSJ3dmBKSxhWAcO2PdHBg5m9+JCiPGCVfK9dzoM8Bm7xx9noJiqt4hNiVa5di1Fd1JRN4rnd1DbKglKpAVSoqvJPxmuyH56TFE4BQjhfKbDMZezQJqx+KXDiW1JWGeDYaPVBWPYeZX6STIzC/DjS7UFlqoKgGGAGP17x8wmMRE6O/axG5jDzloCGxCmrymT0ZGCh4g54O1iDYUtmJr7Bo1d+H9RQj2Y10BxcMkLFTIZVjm9e3vtIbeRx0OdXE1Ou37J/WeJZyPXn1fszvp/KonCqVnt862LrxfoB/0sF5gk4Y/f6LVneU5hun9/V1OVre9XrnDBhcVaQa9Ye6gs8sHW9HCNchaFbkUpxSiyxVEFZIlbejbjSPFlkYOLhtQHduwZWRHWA9akqykJNG3PKvOZAaJG5nWQq8+e4K0JF/AXTKIIr4J7zDt8ZR4xb9T2gxjl1nfqzidMRIY5B4rkw0oetta+j8rqkFpTEGA+hU/tw7bDtpkPYvCguwncnCjwULNFT9I9jXx3H4Ws3WWMCit29F7kGq2Ka+rU/MjnuP0lsXkoB1rr8LawHH5gaf8rajq/BhKrGTIfjDiZG5qz+L7SZBZsMSZZ9pM1QhKju+GTD9iC+9HlhfXMtj94gz8U4h7eGXziEO7lo7LwLL6/DVMrGbkv68JYUYhGz2yBm/8cbQEh5vhakbhmpv1K6XYM9rzdsd9bwYcYt3cfKE3m+/NrUa42+RpJBdFg7cAmxsZ7/0TMyVw6Aqu2gzldb2ag4iLrPNEyW1ywaJ2DXMgPi/sjnDzhuo+vIUrc86j4ZLhT4GAN6uqwbnXq5UDzX7TfuB48oMvvE1sK5q6owkdWfklgnC6pSBpK7wl+e3kuvaYnGRGJJMBQuVgWL1awHrVtfOTsSE1vc0ZdG+a/Jbza6pHbyfi5L7FXJAGdQTk0EP3VT54+F7RZ/MJ9fj56aMxzhJRwQJ6df3cM26qSc5bW/zP3PFXypTOBwzCvVtwGQzkGvDW7XGwgLbTNHDpQXOd2BQ5Zd9bjQqGg+S+kIqWZVZCqVLfyFPF9bEOHfPepL6nRDJUD2l5uRnXqeTvidaSIoqS1Fbc6mLPtYnbp6uuts6Qo8TbMzFuI7NuaPuKnQIyVu7vUGJ8jg1uVOjlMNKdVtLPr9/ZEKVZVj7lsFA+nm3zRjjr1DRKhr/wY1CI1iXKVTeQZ0i2PSnN99j4iVTSwNAYQLWWD+KyZ/xRLVxmZQPuSkLeKBRAkavxjWnIFQb1dn72wMSUdcB9cNCNJNdyTkrl44MRR+pUuiVrTAnTlzL33X32eEYwT+vn564yxFJLUDyIMNjJ0nx+GreKSOglI2et0kAwRHKYFclH9GVTiVlB0TWeUJGD+7JYogF7BizjTGyPOUEWQCguIEmtC4fHD5461T80Z3Mp7rhNTI+Cswuknr9hrIZmpRyFSrSrP8R4S1Cf34Tu4RNrDxpofVK9nGTklZPsYM6eiP29Lx264fsX9oLdYhq7vCwcrRMJ1a5d0QHXUYRV5IqTFBoUSpxkQ6IHHL8ckM4NCzwk8K0CA3pj5Jp2a9wZjfKq7R/eukzQFuhMxV2qgHf2E3t7/SA8N7sMvsmF0p3J96QRE3rA85ekH1q8nrBVujlIqahmL0Qto3+JxdqAfnKMCblQGSKVWZgWLMm82MG/9pjhdkMzG7C2GRLGMty2y8NhX1pZWHNbLOmvaC424LNz/Nl5tkPv7fVbCT2ItB+/dx3ZhVhmgSLd1zL+2PsNFmj7VGBruTttezlo1mDKErjY27nTswjf2fY/Uq8lPcVAgRpJM+m7jS/8dk8cdl7fkY7Tuj4TfiSe0tiNSoJgZwom4+9haoBQ65AifaB7pUiTc0MAXCvG+nDydkRIbKx5fL6gAlyMAnBbQf+Qh1naLfzzwLVTP0EEyoenW2W1zKqfMql5rwGlyCB9mSa2s25yHf4SDSBlgEVMJtplpRgegZvDakpWDKgx3UR4W7yKW+RD7bd7rEa/GQmA/q0RYAOIaXfO/2CgEUPtNhPS2uqy29lBYFPPv5SHQ0t/jRxQLBpe09ateAWKypt9TWS7Z5gynOePS5M2NC16AhF0Xz6s7DUjtI0xNho9Y6GK16J5V8HqHypV/OAz7+VBzTaiR57XGH4r62GoAiJqfWOM7okzKCeeSBnOIKPHtwgM0SQbvCvv7rmS6ZAacu4BbXZ5R9gOhdR9H3bi7lWLBNnqqLPIy0k6m4XBhtl40B6z/5AcJxjtKfwvIExl7VsQRqbW8gpPMsmJZfSp3uC35g1AkP+BJlju3RVoFZNo3JR18A5uc60NGD4zvzIdGTAOth4ZAZx0ZGQItHuNcLz/0CiavJdkjD65h4avf1vf7LFZ1uogJz6vLK3uDisXIBIGkXOlIpxTdjjjTQt6Khy50bYbXsG9JBrSUGhsBWpeRUnq2cZWOifhfueY95gFIDAu37oKR3FQ1YxGMg3UMq+L2VN2rtqodelSHof8SyYZVQWs7L0bjtgolId1tAAjHI7J1/+JIRXeUBjjaGGQAU+az9XFfiqn+VRAGG8JDdP/WmEqjhYpcy00LIBIBzCF9I9mbXCv8IX9fhPlI5NqWGO/v0ikpfn+hb5U16FcPYsx+xLb4la6nSbvrTDP5MthPyeLIIY7ZE/rNU4ajgPmI0/3RvD7WtEbo8UGPjnev55N2ELuFpEPzkNu9MzXqq8K0cWxk4lT2DQPi3rDO8x8i5jX7wWQi8e0neCMb0SUO67zRfaekZONGfaFl47LByciUuy5dhqxMPokhTE2WbzxqCyt/s2TqG66R0ocYHmzv9f7tJ+TES8NFyzL3fhNoZoW5IxWNE+stYWutd3LPwa7HKhhRAbl5uCEbEGjrUzTXwbzG0qvpmNtpnYnmKjzTaSAFNCxfw9edcjaxCiRKKIDd6GS/eDsGBgTvJexDfwGmVWm9jadZhee9jRFiZFtL6m7sY1oQa8F9ycxSuPANXCqWkApcaEfQLkt1yyfeRs5yC5O/6XGJ4TEtJmCTPJFRr95au20STIPgkoEF1mzZ+5ZRtWKUYuWJVZDwcA/lTy6oYp0/d0LGPRUXnXRm0qtIXQVdnoVhKZPeWACt9rujRL57MEDi2kHtfV/ucu+k03bN0fQlbalUJ0faY99GC6L8MO8MXTSmqDAxNSpqpIFPhgHgAg0YK/GZhlQjbQXE4tMDEDO9obNfp4W6m8fdznMesSSRINBG5FDf//DkT9pSRQsIdSg4VK7W7j2d2jsQUIyjJmbd/2zCTaqh0Yq0cH6mS/5g/cq3eGOiJbaCNo6oVwGURzXVAeVaGIfJFhd2A59sVp+rVfe1f8B6bVbCLIKgGUgpUokO0vTg6ouAxXGQKtveMhhBT83ukPIRZ02+qF1kvM+nNCVy8uzrB0+W9QIKbMio2m/7zW78xd5Tf9itocpLbRuNC5cuS/GyRGXw6fzFzjM1UITlQ5dlvoyYxuvb7ol4S1MyhkfMNZbif6/xic0wB3uSScez3oFTRbCHBd0cbJL3cLwfQjCBpGBrRVC7174qW4XWnw0eYGSSzTVSEDOlMaTUIGJO+s7/z8JxaZprcEsoB4+vt9/+uwtM/iyqLVPidu8ZTh+F1rsEWKwZhDAg/giVc6VzRq+DJCrhn81b/LYlLJOdgoAjID2VnwgU+mQhCL6KhgIqqiVraD25UIYEqxMcZ1aRcZvHa8x5gh5onPtsVcl53Xek9BOYqkyj64acX921zwqoY0lmNA81NE7BzVts3cwWDZ4Dk6uuzwtfJuJc7vVS+fdVDEg3ATwC9oG5/Vb1swTyzTsl2V4m+93bSQo5STFG5AruTDWTym6Lxtt4OrAeIVgdoyTJL+keHiHTNiL0/nO5oYwftSQK1aYBuA0e12t/FVN+LsCk0L/hfCCcke89LuP4d46qnFo3NLpHb+NFrvekXVT4GiZgMW2H0orIY0TpS15wlxVUaGCUo7YSN0yWDRU5+p41dCOs5/vXq1do7K+Byjj35/mPlQ+VEDqqF7OIBQrXfHgCXYPy8ye3Ih3io+tYA6nK0/2clIERrpA0AMHKLTGEO7q/IzIcOCwYN9W/ISH4v4uk9MhzNu7Fg2IPCq5CQF1GLuzQu+wNv2h94NIA2UJydawv5X2bHkZjv+kB/WQCYjxUNEU8ssUdxDZstpv2qNAHmI6BMD84olxMiwFdK5J80zc9x7de/cz3ZNIkkGIpMCZJqKKkaLVo1MLnR/h/hQeUvfqJmvkPeIre3EjnliNkKJKL0KNaupHzY7Eoztaj0cNOhJ5dxIRB2is3kLcSK1FZswRJR0B5OXX+Q4UlFIrhR10lIge3Fg5DnaGoZoOyFaaHztrdF251JubDsCZRDSWA0y6ysykO+h4jhXtuWF7D5Wp7B4Hx3EQvKsmPPZYcLevowjlWghHbRBEhwPI3bzjhNWXlqtym5ObYAeYxuHyvyYue2X4651f7Om3+m8KT7Y/JqLWXwgayCdzxHuJidti1ITuf/oXzeCfTRbG5ytXlDk/epX061W6BO074jI7nV518OkYtRJDnPqdDFAf0uWcATfk0h17+gP7GHjy0Rc0Ive9XmvA6gCkoMjNjMEA7GQ3xy7e12DzfNpIfND7GKKojMifTrvkDXrfa3o4wNYktY6/VlBdHtrcH9F7uMWICej/BjZXVX83WFGcVHx3nOXxSL59kE9bSmHc3Xp8iDbPuSG5GIRp3fTFHnmTzzGedl6al2gUbGFKtkC0jFNtKTk2rr8LEObiGgfCoSpTWknvAYDQBoj93s0KiRNPOqgY++Xka2cQiDwqUsLl8/i57YC/V6sy5/NvhViRRZgCzcyjNHGzZsYA5YMtUntyfC1gNFP7cL3AwVA+326NJI7MQJoxTqcHL/YhntsnYTR5R6GVVvFYIlW8Nv9qn3daoGXMz0MoAsXpCzbiHZ0XWkfw2qlJkmZjgQtMAEhHXNgokGRPfOprmtlvNZaNlGB1EjQTVX1Y4tCyJFZhdhID4CowB23uQF16NifyxH+DGnQrnxeklnG7UQV2BRVdr6ZEKZYv7Gj+PbpojzAskvbdtaFsataqPrLDoejjc6ZfPA5zA0iYcCvcNjzuy9SuT0uG8NWMTLv2OsImL++PQV1sifUENAwi4O3yBvzTy4J77B7mMBpjCYGXAyjFGFZL4eAazSmvZ8thJ0FFW+keLHL+ft1dQBKmXY6JatelGebcIC/PyLBHdfX9bRcauGg4xEO7mMl8AjlcPMczkPniNQpiQFqcDJYrFGoxMV2hskxMn0bRQT8Ajc6w6sQYkGl0CQUImPrGfie9dsk4mrCLMIFOqcm0WT8O8AiREEGmooBTO7WI0qk506NsV7ffvc0rVJERJKcyRyCmFZdTSn/SrBfjV7SXT3pQlgluoY4FBUCDDkzwBgjkrE1oFUA3ls+xVP10w5jjBIMwKBSQqRVAEDXw+Dyj+jH3ila8czULWsCKhWd4qGsMFN7++OGBAz9eXHjAO9m++mTXF6qiyG35Q+61yjYQKsBrjR4NNexrwVGqBwAZA6cr5mp8AhoyzPomJ6TLfWEJjEeRI3QsX5oQkNuyF7u650QFka+VjFeNRY6ALklleTW9I0v4ABKDCXTGkjv80vqVNk+FTL0bJK7ndSjjMJD7OBFIEywBPJFrxTdyzocmxEgG0zu1VDgsQuXITYCx1RRty89A/F+CdSAlbMlIkptCC0GrF/jFS8PAU+6TNV1eBqJrCr9BgH1mth8FtdfE7druR+xyZKn5idfUKzGW6ACGF4M61IRoSs9o6xmaj3dnAVQvFWUsMcR6MI3xTKJNyMxkhXhhvT0IxialnG7i/BBzXfMXYh5jl4BXzCSNlxU4+aboEgIDr48/+pfj8J3WcNccFfzV6eiX05qkNktmafoBcxrEsrM8WQV0VVSRybQyXPOqJ1yndwBI6BOGO9oGxGDAd+HcKaZlptCMJsR1Cp3m7F9HpBFSu/NYVj+WSDY7jWSFBlTBSCFyyPEUn8S9NmBVa+mwGVsz0Q+fxe23w1w6wVO7sVnZqRpmXJeXg72QFkl7Qda1lBzn/FW+rRwLvFxCsuad67Wmzab1RJdzPGsuq8AzW6tL+JiwW/VPUSBbBmV1+EjqQ28x1u9W5Eoy7zhsU8NT87CtNbZ0lPEpsoWMewxC80kPanfWPrQXmixWDXXz7uf1kBTr1J/iYuls7fUsyAChXjKcKOaCF4ySqkhMTGmjNqYiG5joBUi/SZpWvgxk28pyIPhf28YULINiqmbWPBKuTCLFruV7JfRgGM87XfNEFc7tgnYx503k/0UXJfpmjx6wKbKcvV5fqrctx+OrIn++TxRxSKlTScEIwd2vG5mg/p5wsQDpiD+X91XbkReKLB25Jvp/IJaJh715RXqBzwCwlY3URonyy+oZoTD8Ym8XMMv/dMllh0LCFZkZFn2gYcLG9iO+I5S/GyxwjajQLQtwH7o+n50vimC+ES8ePOpPDwlu4oG8KhS7NL/OTdIWPIHbSa6/9DfjOq9W66EpaK57R78PpEzVNLkTP2L6lllqDT6SDhIDIvQS3SQbxG96khXgvW/rME+tiXFXi+BC0udi9keyGlc3sLBN3CP3QXzswhBGTxvz2LmRMkU3rLuSkYR1Gzr7vj1VxTN1y1iciA0DswsPZ38eB6X10Uzk6HZqjzBK+EJ5osJJJ/s3b0MFRIWYlM15TPm1uzeOk1zQ96quClQLEZbpxmV/eAduIotXUYQZjWAkTulBJt7kw9uEnLo7OpZrf8k+0ZQP0agcOTLbfrekHji86Mxr7rTwve82mePKoAkkEthE45VI+f1VqpyWNW1kbBbVVfuatKt6MEKqyTUyxSFGHk81kY7CxkgMNexiikN0+IeiUNsfuktjfOAiMfDhbTe4rtxSEPvO4CCUGaktA58TGnSO8rHdCicmGkNrwWsnXgUWjhp8bllNcnQN10TbwxYPAwQKW/JJiYQadr4THXO+vWudiq3I47vqmEM/Ab3Dlq11Q7RmRWntYOEyESbTI8PZYwbtsmjcSwBtTAIHQ5h3I633h3FpOkT2c0PlMjzj0Q/OuqaTVt639fowVppqvSlNcK5KupBnrxfKHQK+SoKSuaO8PNMkYkbcEAc9F0I4uzPfRVP/q5QkvJVsVoJ8BEWW/q1+kivHEMQfb+J2NfJjSTG+WhjHjL8eqi7FgfVewxwmqG9IOnTkwDjAHUaJMIyhVkadW/+GQjLyNP4zyHcLAdWcB5zQ2kc/blAx2RKfG+ON3RfC+iQ5Th7V2i5abkoy0pjfyOwTjIvaq9slSCtoNGBZggBDOiWwau0CX4NAIThFyqu9VWCLr8TsqhQZvQP+xrywovGs6A079U7YBjhEXyQw4Q3rbQY1EQnxTPXNlHfn9vQnuhsJnzx6PZrCqry8fidPz2U1scmAMVPHxa/injIf+hDziEU02xWm9ou67OgebktON9V6wwVotoNOzVNJhiDBlHbktBwOjX1BlJHybLox5y/7NhR7uc8f85O6xdxueabhwtJjYcBzac56v6RbuI9IRvPzOnNbltj8Hh0ftwwhWyHAyiEat0oDSEVZ925jmxJKAqTo4/uHnkozgMDsnkzXPXBDJ1sDTawXy23mXuTJOYV6ZVWrervMaGGGQpgQjAnfP7KPZro+OKt/MpnoM0NeGQgIFAiH7dU7Nl1QbcMiwO6/5nIosJtrFB8w1kpqb6OjI9BgZHG1nzTMGA++HNrl4WQNcq3SajD4C9utQYAu/fETPFMMJeCDwHRCnPuRAlqJ5t0E5h3Wlh1Nw57LQ36kDjC3lS9w0a89eI8ym6BzEA25Cdz3LQAyz94Fvjqp7MyHrpm3PzmsV/tbSLF9NJBjFmzWPQ8Tfgvj3fi8dg78tXvEatqtUhLxsNp2VCU6IzSqafxWw93+Wk47skJv5qxM+tv7CrpYKvWLEylJNEXlh7GHm9UenNf2/szZOl+54P4ZWksh1r6+rphL68QYhmqW7DqKVrc2rjzPYcvFDmKtCGL/F62i3riMV9z+LoLnuVaMn4dtpNNFmQEQ4uEhDfLYU4x8G2OHCz7gnxLCa4zE4CFo9m/+ECmdzziVumHM/P00/BESH2rxUYMBL8/9NRG5fiskFJr4AO0qNUKUCgTRgEiFsTbGXtP4DTTzc8ZAmfNJuJQE5Kp7W7U7QZnBXKepfSHkYTEqgOhqo95Jw9i56kYGt4BWwX50mC27CCW92SVMl4tbUEhBDSB36zgztz5Zts0563Kjc34B+6ZUnMIk+BiQNvqSkZHnk3rHNSaYthO72IWLIxij0hcv7n228yc82FsQLK9jmptjY6estDfH3OSMaAj+poCLKwRFXvXWb6jwM9mG4nu1yug0Cc4L89w4EYek6dnV17VBfIxB2dmFFQdp0kqx3BM9gdMAr0KS7WLOSf3cn5eDItDLP2UW7MWaIR+GJ0EGcEL3ejBdu0to6vDh04JcRMNU55usmSn3jp74myzWE3azMIT96wr39F62c3G/ldGskbqTIMTk3gMg61vNBQ0cJSIxVdcgNb3xFDowwVyIqYz54F8Rqg0uQE4FIiUGZxJhND/AWhkukqIqLLZEpxj07kPBN6Zb2pWht/X5JrC8yJzPlvFhfJndQ4jcgjFyhvymr/a17uxTKHpKNWDEoL4nNa9/Prf7TYRw6Gyo6vcwYcUHk17SMb9aEdVnx24msNCDEKbj0OVzRaA3gFJeXZPObqJKvWqFlavGpxXnP+4ZYTl0Dmcri6vMdwX687ApG+ygiGHZDwNzU68F4JMPQ9JB45vLkCsE2w50QNP1kJZlI56dVGzfK1MyRqP4J6VshesfOT4hzR6MYq373IoONlLvENdYXN6pTxo5eRzQkwk2tZ1zmZqczCytqTEhpweKcBCCZ/FhizgLm8/x5ScBlO0wEXHZm90mpmL1gR/J2CUnz3wDU99YFFKqm01AZ8q2S5Fnh81CbD687c7K2OjWlZgdvEJA9M0JT3eKdIRd9GCx6g1TO5PWTE8OOphUDKdazyYnmMqFhFxfJ//cWJTsgYbol2a7Ob/Q69Fy3kb9K7aZLzH+Kl/uCzWnqTOrQonVL7LTFPr7wbTaepfAl5zSgMInjrGXY+Gspw+fCNgEU1zyC0Suum6VFyHBjdKWft7strrOXqOSQwxsYXp4F013mN9gZyu4Hc84A4dzIHN5UNXmxNn+vPjS82JM6klySWB9pLCzLBUgXiMDllaG6fT2PSBv/b+yaruyWBVcpsOKuEaQ37W3A3t9YFRcgB5rFMDjwOn3c0lfsg+5V+dBX2EmWLTSelNZkeq67CFnxaKtnlsAJRPBqYvoWVZcJKn0zSelrO2TwnailO7zgAHaMRmQYbXo9beBs16JWf7V8LjYGS/DYUKTTE1zKECC/pK1EKf6mxIgmV+mJ+Mc8h04qep+okIIEXaN351J3N0VUk7cEEaOLE1rFF3W4vqRcodPfbLqINF6QtTsfny1+O46J5ahlamZEyxglZtpjEkKd9yKDsgwnzqoAPN5o76IsI+FRaBc8u1qLBWxpKU615chTVegNFR5V4o1T2JGwVkueD6CjAhOplPnRyv8sauMnMy2wEMARR6AmCQ8S5ebL0nCEqjSztMoUyAEjQ6FDYqkGweu48DkBR5HjwlBloKVawYcDezxKBH8WWnMpJKZj1Ol+OHMmg5iq9xDswLx0iTNkujgatOkeRU0c/GmSSH+7GTTMLQJdj51l3EkojjEwWOjw8XBOm88GqC4bWPEE+U/5XYtZNJG/X4FYjgIvVd69RYVbMEMfPSKJ825e3XQ6RBesp/G+lkMk4VIxRakyUBPLO1u0UYnNG9ExAnPdOO0OfFvcPOL9rBJO8bR+q9Lp9/i+fH32KkaNR2WgoxQY3FY+rS2NUvtCOgZAaF9vny16WG/3zeUtRP9V28PcGivAHAwwCcRk0D0iohjAfgL/EKXJkr8gIFqbNq7lXUFRKqMbpBa182ol77SqJq1M5setGUJuSBKqYBYKdDZv3XdT/u6J5aKKkLvA5ez6PuWX0RT7kELSKDKfg9w9nwSmMmJHjbnr0blM2WvpiirR/nLid6SRN9+5KoLUb+pLw3QzD8JlS3X2q0m4BNRxfltr5KWqryOuuGDt6IOHSE8/zqGXMiTqgrUOfDH58NoWe0te4mFc1GxswvhZXWJZmaWaMJo2SBnuXa7+jIfFbnhNH74Z6jygwcqXsldYfI/Zh8BZbqTh2I7Hu44dilfbX8Uh18NVB3phRnTwpUonKquUs/iZXRnDFjtEmKg2YRQm2CP1FWRb/B92HqJlHT7Hs/Tpl3RrlxvkoskpNlW53/6Ujse0fkHLNeUm97TlDsaRXpfZkR1uWMTwhPv4oYM2Bv941R+c7nQ0yBdFNVQpZRkpejmIfjFrdQUA7DPwR69aq6Pzmk3IXarIMKG6R4MBdkB3j3HWxohnZLWpaNy/BMxS+84e4vPPfO/7+nLWVZsdpUY/nGDkQts0NGnRpZK/lW60tmncMoTepY5fMbow1GyKhqSXLbOZkz59l8DG9v9ZHPwA1roKz3MW/j2tN/U+lPQVYXTa6h1ePQkSWR2bp9OHmCCvT6s8v9PVG2ufK7dkbpY500gNx7fdArzH3yCjY33Fa5TbOuybLNdW8juJyJtikDn+5jMnMzIWP/+v12XkaXj195xk6eOKuvA5zeKk1i1PrSnmWA46Ca2ldgNqJ0rvLqM9X2EPn/QuMjLnLg0iVJ4H4r5S2PgpGdSdfVoiX/rBAq6yVDc30v8DOUae4oquSM0YDCIafLQ+hvEmB5b/f+QsTFtAR0zIVWeLyYbmrx3g9gHhVRfelCz9/exh19AGsyXcwuSaBiCzQIoctYvyhhkdCsC/cdZDce/1Fav35JQt+RJFAjiMRQhCdE4eS3SmfsREHe9LZa0ElOLhxxvs5uS/SnMYssyK9FxiucRjjOqfaIp2N8CmuNJqg3WvtMk+MlbAYeji9K94rx6U7nj9L1TGhVcAyz+Gb4sib21AW94HRzWbTrRKEkx5+KLE69Vc+8Cj1Vu2GkZ1AA2E4kaJ2aTjsEL2C0srAINXRAjnxwI3p5ED0NRYn9sT1iY9GPBJwhhd6WXEJ/Z44D0rufaDOA8dUj1SIqywRs2b7SjYcCYS8eefkwdWlpN0DvnecdwHVc3TqyCcUy7K2PMS2l2KZHzZfLCTCPaPq/NVc/Nlc5hVJoFvnNUpKWZcTsxVeHfH1mnELREECq9YES9v6FcvONCxXLQmf0k3S2dyNmsxbvlXM0u7lSqkx81md0rad3E33PPuPpDGM9UiBhSeJn3Sejmx+LdLCiZYcVxow59nCqrUmXGAbsR4O7wVQzyHdL6DX5s8k5BjHXlONz0PaIqS89xMhkYetMw6w7JZ5c/oJBH2jdZPbS6KbR0RpEe16BATLzU4QiHybxArrjBM8MKKP8Zz6MVbg/d8yb76U8nQzCK4Eqa5ombBm7/6xo2dR9O/ByfcU6qDu+efdLFAP4LiCr6C3aihDPjigUYuy0voLuX3Flevl7xXRtRZ4Vc48j2tgA7tK0wqv4OjLwCzZJn9lYIQuScQBEFMBjA6Vj8FTp4h3OphB6g0uA13nTnVLmKQ+zfELl+6znWX5nCWvbwak0t3q4qwWK3MAPKE2vqDEeCsFKvmJ2Ws+VOqnrA+ekCk9jaszBsZd71InADWijT4SHnyVmc55dv5ivXl1fED4vwNrxbiZHWeGinS3ImcoDAT1vGiLpP/D3NaiIPq9A2h5DT5SgaCVCh0JKu7DKsHjW9ZAACRxHgTSo5jrVWUJfGKweg2auQuittVidB+JaCdwYd0x9oJ4jyI5UygrB9Nzi2gbLVcCnpu+1ytsiWCbJb1Xxas8FhG/EX86taG6flZZauhaGnpRyfBB5ojGdsdPBVHEtb8R951oaNTvKXK7CddSeWaeOi2FIDPEhWhAk19RzuR9wSKEwvvi8nQFz649+fUlBMuDL7VmUBSsC1ExWwqY+uSdNKowEkpsBb+/KpWl6oGxymyR/e4uKjipBJrVPXg0nE2j6HL2JbCHNh01lV+/+6FUglhV8GTypzdvdfhYc7t0ZYtkyH/17wDakU7r1GAdUIXXmtxamhK2FdelBa4BPryblCC9gJG9htJue9LMrNS7mM6gbRA1xSFnWNsziDuGZeS3Dcu4bjsWaIebrgNnxpl/pLGxV5EtkFwDeh8fPyfPU8CZAM/Ljk3+Vi7jUtNZmZM8+f7d4wlUIkTHiAULRUKu0ODFIeyk20BiqLB7vvAT342SIDP+z5FPaa6Tjyqh/AsX2jFhbeIXKxDMb8fid0jHAWk6JKhswbtvtP6bDz+lYjvXIPwV1Y+nyft2uM8c1aUxmDHAUmZnJBvZXT43mxjXDHP05R1/dKfoExcgcYzv3wO5mazi7ugS01z6oUmByKtfQ6fA2+MQynPCoDHcp1eDtag/E3HQpHMWAgGkNh9wWR5Y48YG0W4CgvOrngI111j/x+MIuH5xFlVkxqptSjW+hnVbt9qxtXndEH5RtnxWfd9eP+kli/x3LU1WGsZVAkVElXD274LBGK0bMveEUbj/6EpnocEnvRSlglpE4GiAO5S4JdYb4uYd6oeK8vuZvTQaWMS3dEIJ2ssCxWz8DqYmc/b38ynz0DWCCeF1gCyipaLG2Kq9wqfHz3S6m7CS+H42nmDYAz2dYcx77M8purGOS5tQ4aykJXIDQBwHjIGSU+52M+1OV53rp4B3JbIXecQWEjfk9gkVoz8T6HJbIhFgm3quNMk+cIyRHlj/BdURXY8o7H7dBQfsdpLJhAsxS/1JtMkY8JoP4YdyOxzJY5x/+A9scOTXvPVoQAMqgmP899s6GvRtzNFGXLX7VHSnUj7VPO8K1qxaS/a/6v/YhRlUtNgnqnth3Jo/DKbdhdPn6HgB9YjU5GuN1uPyUXZJDZYfFwMfdqNPVoI8d1csoHMK5tquGoK060mIwBHMk3pFGqBosajr9g/5kBPrrtuIIEPFZnaAKSCQqLdeQq2B6Bs8WxD8+DfzGJ2nu0Xeb58spPoiHZAVV+I5lRUseUE0IA4E844UzFYADNYcLBW3zsP7aWzLnUZoQPuIDR3FX3bkM5mCunvXaPSi4PRkKnItEv8/OYiq8RSKQcaTwxX9YgdNbgPuXLwb5ARofv0Zj3WpHhNnlTq2Qu/lwvM3PUaqv8L7kpFqQR9aRaXfFanbLgbyxJ2kAx9oA1kRMyH3JXI06oQhRiZQ1LtWz+QKKxme0zAgI2q6/dmYApsA7WGeBae5+Y3eqkqDjXyS7Q+LzYgrM3EiqGHsibaKZKgFecxpGiMLXY5+kkuDKBdMkj2Bd8uTKI+aTWpu97gNp78fm891zYuT68sIEzE5JggpWjlWFSpzYayxvnOxJ3JYK/q8WbCy14KhtCFhdLOxCEAvyqXN3K+oP52ZzdxHiCAac5LX2TO5CTmkxp6zCT5JZDIBgnnmQU8GBowEvogfPni17fE1sljd55P2C4mWCNDr8l3hMH+4zpyZqp3iFbJx20nGtU+9LJozl0OxNrk/c0C9chEe+k4vUECnUaXbS8JqdnymqbZ1SCI+4+1BYMW4nzYKDLaqL3Nm08C/Ug7zNg2BuwhWepXrkqaRX58LCWLPDQyUzn369E1drtekeuNcI4SgdmyQZ/7xhXZ6sOKg9G/HEiJQsriRQThvHz4BhaFaXic4nlrz4LhUthGBLbnnB6tufJizYx4c6b2rY1E63pLDA8QdZsTOD7euNMku1a0T2nNQ9rOPBYPDyksaP+EmKTvqcgRycKMtzhHh37mAqVERuzIIMs/zXE9jGBpJBBWb8KCPZne6Sxw0+UFlY6/VeXJUHunHXY1csfc40Tw95XrkpLzxqX/LrsaYM7Y0UQ/Qe6PTjMQUXDseSMhYwHTXCohySQ+1fIjz/yjZWRFI1/a4d9eQzWLoGjz8O8ldPhzhpWFwwlaR0T1gpMP3VeHvDOx4RJocHJOSRQ+H4/nHJsiuXWDKowYZZW8Jk9vUiw2jExedn7glAsC/bgN1NrgIp1y+y3tmLd2V9x7yKVC+QK6MOFq19dlQflj350qUavBULMCTn0BvCRQY4q6VjniU6XHISUsaApCVoQeevAOuCUFcnwWfK+44XDo1qSpPF1wcnbH7N9aO+AzD212PgFlGkXlaQ3Gbfz9XIUMjulgGUREelr6IX+tR2K9H/yep959z5WLXlZ81Z8HCIV8CyU0JKYzkIeFqf6o2ywb2O73oRi7i8F6Vcn2zU1VWZpLfSXgTNkRtqM7r5s13UimLWtAVZs97rLcMRlwXzYp98ZnKvQLj/dpKn8nfNnU9V2Bp90frlQedeKt6zd4mPR53FKQ1J4r95n1G8ph0XG37DC9b185sWbnoyC4Q1iUvyy5IOxBrIqbqn/JSUWzdrlOiZGDJrU5IGuzUl5TaupUTIgFeLfT6uh0gIEJ5nZQ/8XjB0mmEZxTvocrU/BFoOaUvV/N48W3W/aQu5nR3KwsSByfSDAEq6qBqTVTkZtkaAd/1Rie2jkdRlZvxFMu0MGnLc0SHPII8eOz/bjfIhSQhAb38dSRcFmfRb+fpDrDHeazED6EHNayy0kESoRG+XFbJa6xWB6OlbwHVDwdO9Ka7bIOqLRHpZjwXmv/2DR9nu+2xwxE39cBHq/7Vv99HcvH8ZJeGmgHr8mBKQmOCTkvLkxf5k4FrqZuNpaRNhCB3puFuF5d2nnQbhgAaANLMCYAiGsJhX2bFM/r3BGhR/dkGPXeBQUJ4tTARQnVqA07mW/42Dv2k7Wa7hWU/wv7FTIWLwWyHX0Vqdg4BHrlJ7zh+b+T6fH+W3d53LS5rkXK5GIctMIttK+osfGYIvOD0BkkXBJR0EYUmteToIxpoaMVKZmCRC2BbmBLdUTIZiI1kVYKYnq9Q5xMGODu+6vCT2ofvYE0pmGbQ9Ln6wnBDYZUD/BL9rmiPn3n28Zs33OsHUQcLp2vjUEV5sOBLO2ScyescGu0N58y1q1NSNJuXCzI4fu4RWJtSIn3P3+9eAsMo/2NupFeaf70/usLGd2Z0F27EjLoIj+nmJ4/Q5edPFhVNpPURQrUzPALNNzEvx3e82rDtPpbZjugv7Abm2q2vMGwz5W+hGH0hkCzXdZhPFbLk0sR5vVhScLgAPdZIVZIjTuzwIKVuWmvpMr7Gwxgiglpy8ecfOAZcCpXRzG6lNuRB64D4G9AWD9vQi/crWV4Xq5VjJnRjQc3g4bJe+MmksjEctghn27n5i5PHZvW/gM0BsXzo8Pou6yOLnp49dGXpK/oLAbOdOel9h+kDqEtZunvsXa9EFomdl0QbDvk+H58SjszCVqVOXSgDpOdZjXWfZpFL6S/fd1Lq8FQS3LklgiNhdvE5GzgSO8uq3gtj8I2o+JzucnrUSrtoxa6IejmVQLGzF3rSCy3fdhBPhZnDdgctC89dRJ+PTfW4ga5WWAyaWspzFg5251FoByB8LUbD3AxhvV6M1ARNXRJ4NhPe2j9WOlu5I2KmCMGvGP5CbHAyZk3YhiuIdtDgOvre9Cz0yOWvHH5FpZQzqzyHE5XkTTFMU2JhG1nvne9SCi9zNvPnGj9h/bQXgpue78rpogXJl8oDSfMwz9fp4ocyOxEV1JCEslSsRvodEzPbUsMUYWDERNzR6f45Ku6EmW3qdD48dcFQtc9rr2wF3o85edZ/2SY0BSkOdQX1ahwPVBP554Q1Z4lbd0d/vrRCO5k3QBWOb3iML0vI4MRkiKwqt735Q2fkq0Xl1pI3nk4ll51cSEHOrFTctkxwLOiQl6HJh2q3iqHFmtOCSo0A4YLl+mllolm7FLpe/79gMoe7A5cbFPCbX9Z3GhI43FgBbWoq8pwaIoDlklRimVauOx355pv7v26P0MLrgiqWTOxJaIGO/UhHf7GSOm0r1O5m1sPYYn1bathmEkYfrQLiEWQ2/3IjunsIxgAmi6t4JsxalYxE4YyvD59EpzvswOjZUvSgkHwPZonVtaiMTLXnV3p0dKpCSSz38Kv8QbNFzqLbwbBBRUHw/nHSxNipNm5vtjfkuf06jWRwkctgu8wZqKwS/7IcGnFtmwnbJFPhpGcyV9GVFzCCG+TOeNgAWxOUPgmtLdD8JawVVDV+e3iR8kHuaZXIknncI/3uFnblTd2P/OdWvxl+9CXbqJb1CS8osg2fg/qaA9KvM3FQoZQ79JRZC/Upm90ABPCGzksTWJ7Xy9VHpnPZCgGzAVbJhmurq8tm24BjBvnm1GOKfotvCqXyIXFE1bYTRS1WtzgZrGWgR/oOUDnNgDPXqUfTmyFPfNCD9MX22hvuBans/Kl1DustiTunl9Kravj0NG1Ds5nkTqlQSYOfhgvRIowimmWAYWma55eqvaQL9GvHmuH/hIVB/tiN6s7yOW2iahReL8dNddIbMJ6BLVguJ4n1dnquV3ZNqi6V0H/Vn00j0cE80ERsZTgsHPJ0eUjxYik+eDtaEHnyAsYeR2AjRcGw=="),function(e){return e.charCodeAt(0)}),l=new Uint8Array([177,156,215,89,13,111,230,1]),d=new Uint8Array(r.length),g=new Uint8Array(256),p=0;p<256;p++)g[p]=p;var f,h=0;for(p=0;p<256;p++){h=(h+g[p]+l[p%l.length])%256;var m=[g[h],g[p]];g[p]=m[0],g[h]=m[1]}p=0,h=0;for(var v=0;v<0+r.length;v++){h=(h+g[p=(p+1)%256])%256;var y=[g[h],g[p]];g[p]=y[0],g[h]=y[1],f=g[(g[p]+g[h])%256],v>=0&&(d[v-0]=r[v-0]^f)}return N=!0,new Promise(function(r){(function(e,t){return WebAssembly.instantiate(e,t)})(d.buffer,t).then(function(t){N=!1,u=t.instance.exports,e.__wbindgen_wasm_module=t.module,r()})})}().then(function(){M=C.new(),e(M)})})).then(function(e){T=e}),setInterval(function(){Object(f.getParameter)("UPLOAD_LOG")&&j.info("console log upload")},9e5);var j=function(){var e,t,r,n,o,i,a=null,s=["DEBUG","INFO","WARNING","ERROR","NONE"],c=0,u=function(e,t,r){var n={};Array.isArray(e)||(e=[e]),e=e.map(function(e){return{log_item_id:L++,log_level:e.log_level,payload_str:e.payload}}),n={timestamp:Date.now(),sdk_version:f.VERSION,process_id:Object(h.getProcessId)(),payload:JSON.stringify(e)},T?n.hash=T.get_digest("".concat(n.payload).concat(n.process_id).concat(n.timestamp)):r&&r();try{var o=a,i=a||"https://".concat(Object(f.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2");Object(p.post)(i,n,function(e){"OK"===e?t&&t(e):r&&r(e)},function(e){r&&r(e)},o?{withCredentials:!0}:{withCredentials:!0,"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})}catch(e){r&&r(e)}},l=function(e,t){if(Object(f.getParameter)("UPLOAD_LOG"))try{t=Array.prototype.slice.call(t);var r="";t.forEach(function(e){"object"===d()(e)&&(e=JSON.stringify(e)),r=r+e+" "}),P.push({payload:r,log_level:e}),"free"===D&&function e(t){D="uploading",setTimeout(function(){u(t,function(){x=0,0!==P.length?(k=P.length<10?P.splice(0,P.length):P.splice(0,10),e(k)):D="free"},function(){setTimeout(function(){e(k)},x++<2?200:1e4)})},3e3)}(k=P.length<10?P.splice(0,P.length):P.splice(0,10))}catch(e){}};t=function(){for(var t=[0],r=0;r<arguments.length;r++)t.push(arguments[r]);e.apply(this,t)},r=function(){for(var t=[1],r=0;r<arguments.length;r++)t.push(arguments[r]);e.apply(this,t)},n=function(){for(var t=[2],r=0;r<arguments.length;r++)t.push(arguments[r]);e.apply(this,t)},o=function(){for(var t=[3],r=0;r<arguments.length;r++)t.push(arguments[r]);e.apply(this,t)};var m={};return i=function(e){m[e]||(n.apply(void 0,arguments),m[e]=!0)},{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4,enableLogUpload:function(){Object(f.setParameter)("UPLOAD_LOG",!0)},disableLogUpload:function(){Object(f.setParameter)("UPLOAD_LOG",!1)},setProxyServer:function(e){a=e?"https://".concat(e,"/ls/?h=").concat(Object(f.getParameter)("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v2"):"https://".concat(Object(f.getParameter)("LOG_UPLOAD_SERVER"),"/upload/v2")},setLogLevel:function(e){e>4?e=4:e<0&&(e=0),c=e},log:e=function(){var e=arguments[0],t=arguments;if(t[0]=g()+" Agora-SDK ["+(s[e]||"DEFAULT")+"]:",l(e,t),!(e<c))switch(e){case 0:case 1:console.log.apply(console,t);break;case 2:console.warn.apply(console,t);break;case 3:console.log.apply(console,t);break;default:return void console.log.apply(console,t)}},debug:t,info:r,warning:n,deprecate:i,error:o}}();t.default=j},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){c()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.r(t),r.d(t,"report",function(){return I}),r.d(t,"SESSION_INIT",function(){return v}),r.d(t,"JOIN_CHOOSE_SERVER",function(){return y}),r.d(t,"JOIN_GATEWAY",function(){return E}),r.d(t,"PUBLISH",function(){return _}),r.d(t,"SUBSCRIBE",function(){return S}),r.d(t,"getProcessId",function(){return R});var i,a,s=r(44),c=r.n(s),u=r(7),l=r.n(u),d=r(3),g=r(0),p=r(14),f=r(27),h=r.n(f),m=r(45),v="session_init",y="join_choose_server",E="join_gateway",_="publish",S="subscribe",b=new(r.n(m).a),T={eventType:null,sid:null,lts:null,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},A=null,R=function(){return A||(A="process-"+h()(),g.default.info("processId: "+A)),A},I=(a=0,(i={list:{},setProxyServer:function(e){b.setProxy(e),i.proxyServerURL=e},getUrl:function(){return i.proxyServerURL?"https://".concat(i.proxyServerURL,"/rs/?h=").concat(Object(d.getParameter)("EVENT_REPORT_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(d.getParameter)("EVENT_REPORT_DOMAIN"),":6443/events/message")},getBackUrl:function(){return i.proxyServerURL?"https://".concat(i.proxyServerURL,"/rs/?h=").concat(Object(d.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),"&p=6443&d=events/message"):"https://".concat(Object(d.getParameter)("EVENT_REPORT_BACKUP_DOMAIN"),":6443/events/message")},getSessionStartTime:function(e){return i.list[e]?i.list[e].startTime:(g.default.DEBUG("[getSessionStartTime]: session ".concat(e," no exit")),0)},sessionInit:function(e,t){var r=l()({},T);r.startTime=+new Date,r.sid=e,r.cname=t.cname,i.list[e]=r;var n=l()({},{willUploadConsoleLog:Object(d.getParameter)("UPLOAD_LOG"),areaVersion:"global"},t.extend),o=l()({},r);o.eventType=v,o.appid=t.appid,o.browser=navigator.userAgent,o.build=d.BUILD,o.lts=+new Date,o.elapse=o.lts-o.startTime,o.extend=JSON.stringify(n),o.mode=t.mode,o.process=R(),o.success=t.succ,o.version=d.VERSION,delete o.startTime,i.send({type:"Session",data:o}),i._flushInvokeReport(e)},joinChooseServer:function(e,t,r){if(i.list[e]){t.uid&&(i.list[e].uid=parseInt(t.uid)),t.cid&&(i.list[e].cid=parseInt(t.cid));var n=l()({},i.list[e]);n.eventType=y;var o=t.lts;n.lts=Date.now(),n.eventElapse=n.lts-o,n.chooseServerAddr=t.csAddr,n.errorCode=t.ec,n.elapse=n.lts-n.startTime,n.success=t.succ,n.chooseServerAddrList=JSON.stringify(t.serverList),delete n.startTime,i.send({type:"JoinChooseServer",data:n})}},reqUserAccount:function(e,t){t.vid&&(i.list[e].vid=t.vid);var r=l()({},i.list[e]),n=t.lts;r.eventType="req_user_account",r.lts=Date.now(),r.success=t.success,r.serverAddress=t.serverAddress,r.stringUid=t.stringUid,r.uid=t.uid,r.errorCode=t.errorCode,r.elapse=r.lts-r.startTime,r.eventElapse=r.lts-n,r.extend="string"==typeof t.extend?t.extend:JSON.stringify(t.extend),delete r.startTime,i.send({type:"ReqUserAccount",data:r})},joinGateway:function(e,t){t.vid&&(i.list[e].vid=t.vid);var r=l()({},i.list[e]),n=t.lts;r.eventType=E,r.firstSuccess=t.firstSuccess,r.lts=Date.now(),r.gatewayAddr=t.addr,r.success=t.succ,r.errorCode=t.ec,r.elapse=r.lts-r.startTime,r.eventElapse=r.lts-n,delete r.startTime,i.send({type:"JoinGateway",data:r})},publish:function(e,t){var r=l()({},i.list[e]);r.eventType=_;var n=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-n,r.elapse=r.lts-r.startTime,r.success=t.succ,r.errorCode=t.ec,r.audio=t.audio,r.video=t.video,r.screenshare=t.screenshare,r.publishRequestid=t.publishRequestid,r.p2pid=t.p2pid,t.videoName&&(r.videoName=t.videoName),t.audioName&&(r.audioName=t.audioName),t.screenName&&(r.screenName=t.screenName),delete r.startTime,i.send({type:"Publish",data:r}),i._flushInvokeReport(e)},subscribe:function(e,t){var r=l()({},i.list[e]);r.eventType=S;var n=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-n,r.elapse=r.lts-r.startTime,r.errorCode=t.ec,r.success=t.succ,r.subscribeRequestid=t.subscribeRequestid,r.p2pid=t.p2pid,isFinite(t.peerid)?r.peer=t.peerid:r.peerSuid=""+t.peerid,"boolean"==typeof t.video&&(r.video=t.video),"boolean"==typeof t.audio&&(r.audio=t.audio),delete r.startTime,i.send({type:"Subscribe",data:r}),i._flushInvokeReport(e)},firstRemoteFrame:function(e,t){var r=l()({},i.list[e]);r.eventType="first_remote_frame";var n=t.lts;r.lts=Date.now(),r.eventElapse=r.lts-n,r.elapse=r.lts-r.startTime,r.width=t.width,r.height=t.height,r.success=t.succ,r.errorCode=t.ec,isFinite(t.peerid)?r.peer=t.peerid:r.peerSuid=""+t.peerid,delete r.startTime,i.send({type:"FirstFrame",data:r})},firstVideoReceived:function(e,t){var r=l()({},i.list[e]);r.eventType="first_video_received",r.lts=Date.now(),r.peer=t.peerid,r.uid=t.uid,r.elapse=t.elapse,r.subscribeElapse=t.subscribeElapse,r.subscribeRequestid=t.subscribeRequestid,r.p2pid=t.p2pid,i.send({type:"FirstVideoReceived",data:r})},firstAudioReceived:function(e,t){var r=l()({},i.list[e]);r.eventType="first_audio_received",r.lts=Date.now(),r.peer=t.peerid,r.uid=t.uid,r.elapse=t.elapse,r.subscribeElapse=t.subscribeElapse,r.subscribeRequestid=t.subscribeRequestid,r.p2pid=t.p2pid,i.send({type:"FirstAudioReceived",data:r})},firstVideoDecode:function(e,t){var r=l()({},i.list[e]);r.eventType="first_video_decode",r.lts=Date.now(),r.peer=t.peerid,r.uid=t.uid,r.elapse=t.elapse,r.videowidth=t.width,r.videoheight=t.height,r.subscribeElapse=t.subscribeElapse,r.subscribeRequestid=t.subscribeRequestid,r.p2pid=t.p2pid,i.send({type:"FirstVideoDecode",data:r})},firstAudioDecode:function(e,t){var r=l()({},i.list[e]);r.eventType="first_audio_decode",r.lts=Date.now(),r.uid=t.uid,r.peer=t.peerid,r.elapse=t.elapse,r.subscribeElapse=t.subscribeElapse,r.subscribeRequestid=t.subscribeRequestid,r.p2pid=t.p2pid,i.send({type:"FirstAudioDecode",data:r})},onAddAudioStream:function(e,t){var r=l()({},i.list[e]);r.eventType="on_add_audio_stream",r.lts=Date.now(),r.uid=t.uid,r.peer=t.peerid,i.send({type:"OnAddAudioStream",data:r})},onAddVideoStream:function(e,t){var r=l()({},i.list[e]);r.eventType="on_add_video_stream",r.lts=Date.now(),r.uid=t.uid,r.peer=t.peerid,i.send({type:"OnAddVideoStream",data:r})},onUpdateStream:function(e,t){var r=l()({},i.list[e]);r.eventType="on_update_stream",r.lts=Date.now(),r.uid=t.uid,r.peer=t.peerid,r.audio=t.audio,r.video=t.video,i.send({type:"OnUpdateStream",data:r})},onRemoveStream:function(e,t){var r=l()({},i.list[e]);r.eventType="on_remove_stream",r.lts=Date.now(),r.uid=t.uid,r.peer=t.peerid,i.send({type:"OnRemoveStream",data:r})},streamSwitch:function(e,t){var r=l()({},i.list[e]);r.eventType="stream_switch",r.lts=Date.now(),r.isDual=t.isdual,r.elapse=r.lts-r.startTime,r.success=r.succ,delete r.startTime,i.send({type:"StreamSwitch",data:r})},audioSendingStopped:function(e,t){var r=l()({},i.list[e]);r.eventType="audio_sending_stopped",r.lts=Date.now(),r.elapse=r.lts-r.startTime,r.reason=t.reason,r.success=t.succ,delete r.startTime,i.send({type:"AudioSendingStopped",data:r})},videoSendingStopped:function(e,t){var r=l()({},i.list[e]);r.eventType="video_sending_stopped",r.lts=Date.now(),r.elapse=r.lts-r.startTime,r.reson=t.reason,r.success=t.succ,delete r.startTime,i.send({type:"VideoSendingStopped",data:r})},requestProxyAppCenter:function(e,t){var r=l()({},i.list[e]),n=t.lts;r.eventType="request_proxy_appcenter",r.lts=Date.now(),r.eventElapse=r.lts-n,r.elapse=r.lts-r.startTime,r.extend=t.extend+"",r.APAddr=t.APAddr,r.workerManagerList=t.workerManagerList,r.response=t.response,r.errorCode=t.ec,r.success=t.succ,delete r.startTime,i.send({type:"RequestProxyAppCenter",data:r})},requestProxyWorkerManager:function(e,t){var r=l()({},i.list[e]),n=t.lts;r.eventType="request_proxy_worker_manager",r.lts=Date.now(),r.eventElapse=r.lts-n,r.elapse=r.lts-r.startTime,r.extend=t.extend,r.workerManagerAddr=t.workerManagerAddr,r.response=t.response,r.errorCode=t.ec,r.success=t.succ,delete r.startTime,i.send({type:"RequestProxyWorkerManager",data:r})},requestWorkerEvent:function(e,t){var r=l()({},i.list[e]),n=r.startTime,a=Date.now();delete(r=o({},r,{},t,{elapse:a-n,lts:a,productType:"WebRTC"})).startTime,i.send({type:"WorkerEvent",data:r})},requestApWorkerEvent:function(e,t){var r=l()({},i.list[e]),n=r.startTime,a=Date.now();r=o({},r,{},t,{elapse:a-n,lts:a}),i.send({type:"APWorkerEvent",data:r})},sendCustomReportMessage:function(e,t,r){var n={type:"UserAnalytics",data:o({sid:e},t)},a=i.getUrl(),s=!!i.proxyServerURL;Object(p.post)(a,n,function(e){r&&r()},function(e){var t=i.getBackUrl();Object(p.post)(t,n,function(e){r&&r()},function(e){r&&r("Failed")},s?{timeout:Object(d.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(d.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})},s?{timeout:Object(d.getParameter)("CUSTOMER_REPORT_TIMEOUT")}:{timeout:Object(d.getParameter)("CUSTOMER_REPORT_TIMEOUT"),"Cache-Control":"no-cache, no-store",Pragma:"no-cache",Expires:"0"})},joinChannelTimeOut:function(e){i.send({type:"JoinChannelTimeout",data:o({},e)})},peerPublishStatus:function(e){i.send({type:"PeerPublishStatus",data:o({},e)})},joinWebProxyAP:function(e){i.send({type:"JoinWebProxyAP",data:o({},e)})}}).reportApiInvoke=function(e,t){var r=t.tag,n=t.name,i=t.getStates,s=t.options,c=t.timeout,u=void 0===c?6e4:c,l=t.callback,p=t.reportResult,f=void 0===p||p,h=Date.now(),m=0,v=a++,y=function(){return o({tag:r,invokeId:v,sid:e,name:n,apiInvokeTime:h,options:s},i&&{states:(t=i(),Object.keys(t).reduce(function(e,r){var n=e;return null!=t[r]&&(n[r]=t[r]),n},{}))});var t},E=!!Object(d.getParameter)("SHOW_REPORT_INVOKER_LOG");E&&g.default.info("".concat(n," start"));var _=setTimeout(function(){I._sendApiInvoke(o({},y(),{error:"API_INVOKE_TIMEOUT",success:!1}))},u);return function(e,t){if(clearTimeout(_),++m>1&&(e="EXECUTOR_INVOKE_".concat(m)),e)return I._sendApiInvoke(o({},y(),{success:!1,error:e},i&&{states:i()})),E&&g.default.info("".concat(n," onFailure"),e),l&&l(e);I._sendApiInvoke(o({},y(),{success:!0},f&&{result:t},{},i&&{states:i()})),E&&g.default.info("".concat(n," onSuccess")),l&&l(null,t)}},i._cachedItems=[],i._cacheInvokeReport=function(e){e.lts||(e.lts=Date.now()),i._cachedItems.push(e),i._cachedItems.length>50&&i._cachedItems.shift()},i._flushInvokeReport=function(e){if(i._cachedItems.length){var t=i._cachedItems;i._cachedItems=[],g.default.debug("Flush cached event reporting:",t.length),t.forEach(function(t,r){t.sid=e,setTimeout(function(){i._sendApiInvoke(t)},5e3+500*r)})}},i._sendApiInvoke=function(e){var t=e.tag,r=e.invokeId,n=e.sid,a=e.name,s=e.result,c=e.states,u=e.options,l=e.error,g=e.success,p=e.apiInvokeTime,f=e.lts,h=Object(d.getParameter)("NOT_REPORT_EVENT");if(!(t&&h instanceof Array&&-1!==h.indexOf(t)))if(i.list[n]){var m=i.list[n],v=m.startTime,y=m.cname,E=m.uid,_=m.cid,S=(f=f||Date.now())-v,b=f-p,T="";if(u)try{T=JSON.stringify(u)}catch(e){T=u.toString()}var A=o({invokeId:r,sid:n,cname:y,cid:_,lts:f,uid:E,success:g,elapse:S,apiName:a,execElapse:b},void 0!==u&&{options:T},{},void 0!==c&&{execStates:JSON.stringify(c)},{},void 0!==l&&{errorCode:JSON.stringify(l)},{},void 0!==s&&{execResult:JSON.stringify(s)});i.send({type:"ApiInvoke",data:A})}else i._cacheInvokeReport(arguments[0])},i.sendCache=[],i.sendTimer=null,i.send=function(e){if(e.data){var t=e.data;i._lastLts&&i._lastLts>=t.lts&&(t.lts=i._lastLts+1),i._lastLts=t.lts}if(i.sendCache.push(e),null===i.sendTimer)return function e(){i.sendTimer=setTimeout(function(){if(0!==i.sendCache.length){var t=i.sendCache.length<10?i.sendCache.splice(0,i.sendCache.length):i.sendCache.splice(0,10);return b.sendReportList(t),e()}i.sendTimer=null},Object(d.getParameter)("EVENT_REPORT_SEND_INTERVAL"))}()},i)},function(e,t,r){"use strict";r.r(t),r.d(t,"checkValidObject",function(){return s}),r.d(t,"checkValidString",function(){return c}),r.d(t,"checkValidNumber",function(){return u}),r.d(t,"checkValidArray",function(){return l}),r.d(t,"checkValidFloatNumber",function(){return d}),r.d(t,"checkValidBoolean",function(){return g}),r.d(t,"checkValidEnum",function(){return a}),r.d(t,"checkValidUID",function(){return p}),r.d(t,"isValidString",function(){return f}),r.d(t,"isValidNumber",function(){return h}),r.d(t,"isValidBoolean",function(){return v}),r.d(t,"isASCII",function(){return _}),r.d(t,"isInteger",function(){return S}),r.d(t,"isNumber",function(){return b}),r.d(t,"isString",function(){return T}),r.d(t,"isArray",function(){return A}),r.d(t,"isEmpty",function(){return R}),r.d(t,"isValidToken",function(){return y}),r.d(t,"isValidChannelName",function(){return E});var n=r(11),o=r.n(n),i=r(10),a=function(e,t,r){for(var n=0;n<r.length;n++)if(e===r[n])return!0;throw new Error("".concat(t," can only be set as ").concat(JSON.stringify(r)))},s=function(e,t){if(!e)throw new Error("Invalid param: ".concat(t||"param"," cannot be empty"));if("object"!==o()(e))throw new Error("".concat(t||"This paramter"," is of the object type"));return!0},c=function(e,t,r,n,o){if(R(r)&&(r=1),n=n||255,R(o)&&(o=!0),R(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!f(e,r,n,o))throw new Error("Invalid ".concat(t||"string param",": Length of the string: [").concat(r,",").concat(n,"].").concat(o?" ASCII characters only.":""))},u=function(e,t,r,n){if(R(r)&&(r=1),n=n||1e4,R(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!h(e,r,n))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(r,",").concat(n,"]. integer only"))},l=function(e,t){if(!Array.isArray(e))throw new Error("".concat(t," should be an array"))},d=function(e,t,r,n){if(null==e)throw new Error("".concat(t||"param"," cannot be null"));if(R(r)&&(r=0),n=n||1e4,R(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!m(e,r,n))throw new Error("Invalid ".concat(t||"number param",": The value range is [").concat(r,",").concat(n,"]."))},g=function(e,t){if(R(e))throw new Error("".concat(t||"param"," cannot be empty"));if(!v(e))throw new Error("Invalid ".concat(t||"boolean param",": The value is of the boolean type."))},p=function(e){if(!Object(i.is32Uint)(e)&&!f(e,1,255))throw logger.error("Invalid UID ".concat(e," ").concat(o()(e))),new Error("[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]")},f=function(e,t,r,n){return t||(t=0),r||(r=Number.MAX_SAFE_INTEGER),R(n)&&(n=!0),T(e)&&(!n||_(e))&&e.length>=t&&e.length<=r},h=function(e,t,r){return S(e)&&e>=t&&e<=r},m=function(e,t,r){return b(e)&&e>=t&&e<=r},v=function(e){return"boolean"==typeof e},y=function(e){return f(e,1,2047)},E=function(e){return T(e)&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e)},_=function(e){if("string"==typeof e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<0||r>255)return!1}return!0}},S=function(e){return"number"==typeof e&&e%1==0},b=function(e){return"number"==typeof e},T=function(e){return"string"==typeof e},A=function(e){return e instanceof Array},R=function(e){return null==e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BUILD="v3.3.0-0-g708b56f",t.VERSION="3.3.0";var n=0*Date.now()+11499+86604+5615+6547+846;t.SUPPORT_RESOLUTION_LIST={"90p_1":[160,90,null,null,null,null],"120p_1":[160,120,15,15,30,65],"120p_3":[120,120,15,15,30,50],"120p_4":[212,120,null,null,null,null],"180p_1":[320,180,15,15,30,140],"180p_3":[180,180,15,15,30,100],"180p_4":[240,180,15,15,30,120],"240p_1":[320,240,15,15,40,200],"240p_3":[240,240,15,15,40,140],"240p_4":[424,240,15,15,40,220],"360p_1":[640,360,15,15,80,400],"360p_3":[360,360,15,15,80,260],"360p_4":[640,360,30,30,80,600],"360p_6":[360,360,30,30,80,400],"360p_7":[480,360,15,15,80,320],"360p_8":[480,360,30,30,80,490],"360p_9":[640,360,15,15,80,800],"360p_10":[640,360,24,24,80,800],"360p_11":[640,360,24,24,80,1e3],"480p_1":[640,480,15,15,100,500,1,5],"480p_2":[640,480,30,30,100,1e3,25,30],"480p_3":[480,480,15,15,100,400],"480p_4":[640,480,30,30,100,750],"480p_6":[480,480,30,30,100,600],"480p_8":[848,480,15,15,100,610],"480p_9":[848,480,30,30,100,930],"480p_10":[640,480,10,10,100,400],"720p_1":[1280,720,15,15,120,1130,1,5],"720p_2":[1280,720,30,30,120,2e3,25,30],"720p_3":[1280,720,30,30,120,1710],"720p_5":[960,720,15,15,120,910],"720p_6":[960,720,30,30,120,1380],"1080p_1":[1920,1080,15,15,120,2080,1,5],"1080p_2":[1920,1080,30,30,120,3e3,25,30],"1080p_3":[1920,1080,30,30,120,3150],"1080p_5":[1920,1080,60,60,120,4780],"1440p_1":[2560,1440,30,30,120,4850],"1440p_2":[2560,1440,60,60,120,7350],"4k_1":[3840,2160,30,30,120,8910],"4k_3":[3840,2160,60,60,120,13500]},t.AUDIO_PROFILE_SETTINGS={speech_low_quality:[!1,!1,!0,!0],speech_standard:[!1,!1,!0,!1],music_standard:[!1,!1,!1,!1],standard_stereo:[!1,!0,!1,!1],high_quality:[!0,!1,!1,!1],high_quality_stereo:[!0,!0,!1,!1],default:[!1,!1,!1,!1]};var o={AREA_SETTING:["NORTH_AMERICA","OVERSEA"],WEBCS_DOMAIN:["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],LOG_UPLOAD_SERVER:"logservice-oversea.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1-oversea.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"statscollector-2-oversea.agora.io",ENABLE_LIVE_SERVER_LIST:!1,LIVE_SERVER_LIST:[],ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,GATEWAY_DOMAINS:["edge.agora.io"],WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,LIVESTREAMING_ALIGN:!0,HTTP_CONNECT_TIMEOUT:5e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_TIMEOUT:1e7,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,REPORT_STATS:!0,REPORT_STATS_TIMEOUT:3e3,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],FILEPATH_LENMAX:255,SUBSCRIBE_TCC:!1,PING_PONG_TIME_OUT:10,DUALSTREAM_OPERATION_CHECK:!0,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:1e3,MEDIA_ELEMENT_EXISTS_DEPTH:3,CANDIDATE_TIMEOUT:2e3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,TICKET_RENEW_TIMEOUT:828e5,LIVE_STREAMING_TIMEOUT:12e4,SHOW_REPORT_INVOKER_LOG:!1,STATS_FILTER:{transportId:!0,googTrackId:!0},FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,FORCE_CHANGED_GATEWAY_FLAG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",CHROME_NEW_STATS:!1,AP_BACKOFF_MAX_TIME:8,SET_DEFAULT_TURNSERVER:!0,TURN_SERVER_PASSWORD:n.toString(),PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:"webrtc-cloud-proxy.sd-rtn.com",CR:!0,CRL:10,CRI:6,CUSTOMER_REPORT_TIMEOUT:5e3,LIVE_STREAMING_ADDRESS:""};o.AREA_SETTING=["CHINA","GLOBAL"],o.WEBCS_DOMAIN=["webrtc2-ap-web-1.agora.io","webrtc2-ap-web-2.agoraio.cn"],o.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-ap-web-3.agora.io","webrtc2-ap-web-4.agoraio.cn"],o.PROXY_CS=["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],o.CDS_AP=["cds-ap-web-1.agora.io","cds-ap-web-2.agoraio.cn","cds-ap-web-3.agora.io","cds-ap-web-4.agoraio.cn"],o.ACCOUNT_REGISTER=["sua-ap-web-1.agora.io","sua-ap-web-2.agoraio.cn","sua-ap-web-3.agora.io","sua-ap-web-4.agoraio.cn"],o.UAP_AP=["uap-ap-web-1.agora.io","uap-ap-web-2.agoraio.cn","uap-ap-web-3.agora.io","uap-ap-web-4.agoraio.cn"],o.LOG_UPLOAD_SERVER="logservice.agora.io",o.EVENT_REPORT_DOMAIN="webcollector-1.agora.io",o.EVENT_REPORT_BACKUP_DOMAIN="webcollector-2.agoraio.cn",o.GATEWAY_DOMAINS=["edge.agora.io","edge.agoraio.cn"],t.setParameter=function(e,t){return void 0!==o[e]&&(o[e]=t,!0)},t.getParameter=function(e){return void 0!==o[e]?o[e]:null}},function(e,t,r){"use strict";function n(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}r.r(t),r.d(t,"getBrowserInfo",function(){return y}),r.d(t,"getBrowserVersion",function(){return f}),r.d(t,"getBrowserOS",function(){return h}),r.d(t,"isChrome",function(){return i}),r.d(t,"isSafari",function(){return a}),r.d(t,"isFireFox",function(){return c}),r.d(t,"isOpera",function(){return u}),r.d(t,"isEdge",function(){return s}),r.d(t,"isQQBrowser",function(){return l}),r.d(t,"isWeChatBrowser",function(){return d}),r.d(t,"isLegacyChrome",function(){return n}),r.d(t,"isSupportedPC",function(){return g}),r.d(t,"isSupportedMobile",function(){return p}),r.d(t,"getChromeKernelVersion",function(){return v}),r.d(t,"isChromeKernel",function(){return m});var o,i=function(){var e=y();return e.name&&"Chrome"===e.name},a=function(){var e=y();return e.name&&"Safari"===e.name},s=function(){var e=y();return e.name&&"Edge"===e.name},c=function(){var e=y();return e.name&&"Firefox"===e.name},u=function(){var e=y();return e.name&&"OPR"===e.name},l=function(){var e=y();return e.name&&"QQBrowser"===e.name},d=function(){var e=y();return e.name&&"MicroMessenger"===e.name},g=function(){var e=h();return"Linux"===e||"Mac OS X"===e||"Mac OS"===e||-1!==e.indexOf("Windows")},p=function(){var e=h();return"Android"===e||"iOS"===e},f=function(){return y().version},h=function(){return y().os},m=function(){return!!navigator.userAgent.match(/chrome\/[\d]./i)},v=function(){var e=navigator.userAgent.match(/chrome\/[\d]./i);return e&&e[0]&&e[0].split("/")[1]},y=(o=function(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];"Chrome"===r[1]&&null!=(e=t.match(/(OPR(?=\/))\/?(\d+)/i))&&(r=e),"Safari"===r[1]&&null!=(e=t.match(/version\/(\d+)/i))&&(r[2]=e[1]),~t.toLowerCase().indexOf("qqbrowser")&&null!=(e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i))&&(r=e),~t.toLowerCase().indexOf("micromessenger")&&null!=(e=t.match(/(micromessenger(?=\/))\/?(\d+)/i))&&(r=e),~t.toLowerCase().indexOf("edge")&&null!=(e=t.match(/(edge(?=\/))\/?(\d+)/i))&&(r=e),~t.toLowerCase().indexOf("trident")&&null!=(e=/\brv[ :]+(\d+)/g.exec(t)||[])&&(r=[null,"IE",e[1]]);var n=void 0,o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var i in o){var a=o[i];if(a.r.test(navigator.userAgent)){n=a.s;break}}return{name:r[1],version:r[2],os:n}}(),function(){return o})},function(e,t,r){"use strict";r.r(t),r.d(t,"APErrorCode",function(){return n}),r.d(t,"GatewayErrorCode",function(){return o}),r.d(t,"StringUidErrorCode",function(){return i}),r.d(t,"JOIN_GS_TRYNEXT_LIST",function(){return a}),r.d(t,"JOIN_CS_RETRY_LIST",function(){return s}),r.d(t,"JOIN_PROXY_RETRY_LIST",function(){return c}),r.d(t,"INJECT_STREAM_STATUS",function(){return u});var n={1010100:"NO_FLAG_SET",1010101:"FLAG_SET_BUT_EMPTY",1010102:"INVALID_FALG_SET",2010005:"INVALID_VENDOR_KEY",2010007:"INVALID_CHANNEL_NAME",2010008:"INTERNAL_ERROR",2010009:"NO_AUTHORIZED",2010010:"DYNAMIC_KEY_TIMEOUT",2010011:"NO_ACTIVE_STATUS",2010013:"DYNAMIC_KEY_EXPIRED",2010014:"STATIC_USE_DYANMIC_KEY",2010015:"DYNAMIC_USE_STATIC_KEY",2010016:"USER_OVERLOAD",2010018:"FORBIDDEN_REGION",2010019:"CANNOT_MEET_AREA_DEMAND"},o={2e3:"ERR_NO_VOCS_AVAILABLE",2001:"ERR_NO_VOS_AVAILABLE",2002:"ERR_JOIN_CHANNEL_TIMEOUT",2003:"WARN_REPEAT_JOIN",2004:"ERR_JOIN_BY_MULTI_IP",2011:"ERR_NOT_JOINED",2012:"WARN_REPEAT_JOIN",2013:"ERR_INVALID_VENDOR_KEY",2014:"ERR_INVALID_CHANNEL_NAME",2015:"ERR_INVALID_STRINGUID",2016:"ERR_TOO_MANY_USERS",2017:"ERR_SET_CLIENT_ROLE_TIMEOUT",2018:"ERR_SET_CLIENT_ROLE_NO_PERMISSION",2019:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",2020:"ERR_PUBLISH_REQUEST_INVALID",2021:"ERR_SUBSCRIBE_REQUEST_INVALID",2022:"ERR_NOT_SUPPORTED_MESSAGE",2023:"ERR_ILLEAGAL_PLUGIN",2028:"ILLEGAL_AES_PASSWORD",101:"ERR_INVALID_VENDOR_KEY",102:"ERR_INVALID_CHANNEL_NAME",103:"WARN_NO_AVAILABLE_CHANNEL",104:"WARN_LOOKUP_CHANNEL_TIMEOUT",105:"WARN_LOOKUP_CHANNEL_REJECTED",106:"WARN_OPEN_CHANNEL_TIMEOUT",107:"WARN_OPEN_CHANNEL_REJECTED",108:"WARN_REQUEST_DEFERRED",109:"ERR_DYNAMIC_KEY_TIMEOUT",110:"ERR_NO_AUTHORIZED",111:"ERR_VOM_SERVICE_UNAVAILABLE",112:"ERR_NO_CHANNEL_AVAILABLE_CODE",113:"ERR_TOO_MANY_USERS",114:"ERR_MASTER_VOCS_UNAVAILABLE",115:"ERR_INTERNAL_ERROR",116:"ERR_NO_ACTIVE_STATUS",117:"ERR_INVALID_UID",118:"ERR_DYNAMIC_KEY_EXPIRED",119:"ERR_STATIC_USE_DYANMIC_KE",120:"ERR_DYNAMIC_USE_STATIC_KE",2:"K_TIMESTAMP_EXPIRED",3:"K_CHANNEL_PERMISSION_INVALID",4:"K_CERTIFICATE_INVALID",5:"K_CHANNEL_NAME_EMPTY",6:"K_CHANNEL_NOT_FOUND",7:"K_TICKET_INVALID",8:"K_CHANNEL_CONFLICTED",9:"K_SERVICE_NOT_READY",10:"K_SERVICE_TOO_HEAVY",14:"K_UID_BANNED",15:"K_IP_BANNED",16:"K_CHANNEL_BANNED"},i={1:"ERROR_ILLEAGAL_APPID",2:"ERROR_ILLEAGAL_UID",3:"INTERNAL_SERVER_ERROR"},a=["ERR_NO_VOCS_AVAILABLE","ERR_NO_VOS_AVAILABLE","ERR_JOIN_CHANNEL_TIMEOUT","WARN_LOOKUP_CHANNEL_TIMEOUT","WARN_OPEN_CHANNEL_TIMEOUT","ERR_VOM_SERVICE_UNAVAILABLE","ERR_TOO_MANY_USERS","ERR_MASTER_VOCS_UNAVAILABLE","ERR_INTERNAL_ERROR"],s=["NO_SERVICE_AVAILABLE"],c=["NO_SERVICE_AVAILABLE","REQUEST_PROXY_SERVER_FAILED","REQUEST_PROXY_SERVER_TIME_OUT"],u={INJECT_STREAM_STATUS_START_SUCCESS:0,INJECT_STREAM_STATUS_START_ALREADY_EXISTS:1,INJECT_STREAM_STATUS_START_UNAUTHORIZED:2,INJECT_STREAM_STATUS_START_TIMEDOUT:3,INJECT_STREAM_STATUS_START_FAILED:4,INJECT_STREAM_STATUS_STOP_SUCCESS:5,INJECT_STREAM_STATUS_STOP_NOT_FOUND:6,INJECT_STREAM_STATUS_STOP_UNAUTHORIZED:7,INJECT_STREAM_STATUS_STOP_TIMEDOUT:8,INJECT_STREAM_STATUS_STOP_FAILED:9,INJECT_STREAM_STATUS_BROKEN:10};t.default={FAILED:"FAILED",INVALID_KEY:"INVALID_KEY",INVALID_CLIENT_MODE:"INVALID_CLIENT_MODE",INVALID_CLIENT_CODEC:"INVALID_CLIENT_CODEC",CLIENT_MODE_CODEC_MISMATCH:"CLIENT_MODE_CODEC_MISMATCH",WEB_API_NOT_SUPPORTED:"WEB_API_NOT_SUPPORTED",INVALID_PARAMETER:"INVALID_PARAMETER",NO_TRACK_IN_STREAM:"NO_TRACK_IN_STREAM",INVALID_OPERATION:"INVALID_OPERATION",INVALID_LOCAL_STREAM:"INVALID_LOCAL_STREAM",INVALID_REMOTE_STREAM:"INVALID_REMOTE_STREAM",INVALID_DYNAMIC_KEY:"INVALID_DYNAMIC_KEY",DYNAMIC_KEY_TIMEOUT:"DYNAMIC_KEY_TIMEOUT",NO_VOCS_AVAILABLE:"NO_VOCS_AVAILABLE",NO_VOS_AVAILABLE:"ERR_NO_VOS_AVAILABLE",JOIN_CHANNEL_TIMEOUT:"ERR_JOIN_CHANNEL_TIMEOUT",NO_AVAILABLE_CHANNEL:"NO_AVAILABLE_CHANNEL",LOOKUP_CHANNEL_TIMEOUT:"LOOKUP_CHANNEL_TIMEOUT",LOOKUP_CHANNEL_REJECTED:"LOOKUP_CHANNEL_REJECTED",OPEN_CHANNEL_TIMEOUT:"OPEN_CHANNEL_TIMEOUT",OPEN_CHANNEL_REJECTED:"OPEN_CHANNEL_REJECTED",REQUEST_DEFERRED:"REQUEST_DEFERRED",STREAM_ALREADY_PUBLISHED:"STREAM_ALREADY_PUBLISHED",STREAM_NOT_YET_PUBLISHED:"STREAM_NOT_YET_PUBLISHED",JOIN_TOO_FREQUENT:"JOIN_TOO_FREQUENT",SOCKET_ERROR:"SOCKET_ERROR",SOCKET_DISCONNECTED:"SOCKET_DISCONNECTED",PEERCONNECTION_FAILED:"PEERCONNECTION_FAILED",CONNECT_GATEWAY_ERROR:"CONNECT_GATEWAY_ERROR",SERVICE_NOT_AVAILABLE:"SERVICE_NOT_AVAILABLE",JOIN_CHANNEL_FAILED:"JOIN_CHANNEL_FAILED",PUBLISH_STREAM_FAILED:"PUBLISH_STREAM_FAILED",UNPUBLISH_STREAM_FAILED:"UNPUBLISH_STREAM_FAILED",SUBSCRIBE_STREAM_FAILED:"SUBSCRIBE_STREAM_FAILED",UNSUBSCRIBE_STREAM_FAILED:"UNSUBSCRIBE_STREAM_FAILED",NO_SUCH_REMOTE_STREAM:"NO_SUCH_REMOTE_STREAM",ERR_FAILED:"1",ERR_INVALID_VENDOR_KEY:"101",ERR_INVALID_CHANNEL_NAME:"102",WARN_NO_AVAILABLE_CHANNEL:"103",WARN_LOOKUP_CHANNEL_TIMEOUT:"104",WARN_LOOKUP_CHANNEL_REJECTED:"105",WARN_OPEN_CHANNEL_TIMEOUT:"106",WARN_OPEN_CHANNEL_REJECTED:"107",WARN_REQUEST_DEFERRED:"108",ERR_DYNAMIC_KEY_TIMEOUT:"109",ERR_INVALID_DYNAMIC_KEY:"110",ERR_NO_VOCS_AVAILABLE:"2000",ERR_NO_VOS_AVAILABLE:"2001",ERR_JOIN_CHANNEL_TIMEOUT:"2002",IOS_NOT_SUPPORT:"IOS_NOT_SUPPORT",WECHAT_NOT_SUPPORT:"WECHAT_NOT_SUPPORT",SHARING_SCREEN_NOT_SUPPORT:"SHARING_SCREEN_NOT_SUPPORT",STILL_ON_PUBLISHING:"STILL_ON_PUBLISHING",LOW_STREAM_ALREADY_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",LOW_STREAM_NOT_YET_PUBLISHED:"LOW_STREAM_ALREADY_PUBLISHED",HIGH_STREAM_NOT_VIDEO_TRACE:"HIGH_STREAM_NOT_VIDEO_TRACE",NOT_FIND_DEVICE_BY_LABEL:"NOT_FIND_DEVICE_BY_LABEL",ENABLE_DUALSTREAM_FAILED:"ENABLE_DUALSTREAM_FAILED",DISABLE_DUALSTREAM_FAILED:"DISABLE_DUALSTREAM_FAILED",PLAYER_NOT_FOUND:"PLAYER_NOT_FOUND",ELECTRON_NOT_SUPPORT_SHARING_SCREEN:"ELECTRON_NOT_SUPPORT_SHARING_SCREEN",BAD_ENVIRONMENT:"BAD_ENVIRONMENT",LOAD_AUDIO_FAILED:"LOAD_AUDIO_FAILED"}},function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i}),r(0);var n=function(e,t,r){if(["End2EndDelay","TransportDelay","PacketLossRate","RecvLevel","RecvBitrate","CodecType","MuteState","TotalFreezeTime","TotalPlayDuration","RecordingLevel","SendLevel","SamplingRate","SendBitrate","CodecType","MuteState","End2EndDelay","TransportDelay","PacketLossRate","RecvBitrate","RecvResolutionWidth","RecvResolutionHeight","RenderResolutionHeight","RenderResolutionWidth","RenderFrameRate","TotalFreezeTime","TotalPlayDuration","TargetSendBitrate","SendFrameRate","SendFrameRate","SendBitrate","SendResolutionWidth","SendResolutionHeight","CaptureResolutionHeight","CaptureResolutionWidth","EncodeDelay","MuteState","TotalFreezeTime","TotalDuration","CaptureFrameRate","RTT","OutgoingAvailableBandwidth","Duration","UserCount","SendBytes","RecvBytes","SendBitrate","RecvBitrate","accessDelay","audioSendBytes","audioSendPackets","videoSendBytes","videoSendPackets","videoSendPacketsLost","videoSendFrameRate","audioSendPacketsLost","videoSendResolutionWidth","videoSendResolutionHeight","accessDelay","audioReceiveBytes","audioReceivePackets","audioReceivePacketsLost","videoReceiveBytes","videoReceivePackets","videoReceivePacketsLost","videoReceiveFrameRate","videoReceiveDecodeFrameRate","videoReceiveResolutionWidth","videoReceiveResolutionHeight","endToEndDelay","videoReceiveDelay","audioReceiveDelay","FirstFrameTime","VideoFreezeRate","AudioFreezeRate","RenderResolutionWidth","RenderResolutionHeight","VideoPublishDuration","AudioPublishDuration"].indexOf(t)>-1&&("string"==typeof r||isFinite(r)))return e[t]=""+r},o=function(e){var t={};return e.forEach(function(e){e.id&&e.type&&(-1===e.id.indexOf("send")&&-1===e.type.toLowerCase().indexOf("outbound")&&-1===e.id.indexOf("outbound_rtp")&&-1===e.id.indexOf("OutboundRTP")||("audio"===e.mediaType?(n(t,"audioSendBytes",e.bytesSent),n(t,"audioSendPackets",e.packetsSent),n(t,"audioSendPacketsLost",e.packetsLost)):(n(t,"videoSendBytes",e.bytesSent),n(t,"videoSendPackets",e.packetsSent),n(t,"videoSendPacketsLost",e.packetsLost),n(t,"videoSendFrameRate",e.googFrameRateSent),n(t,"videoSendResolutionWidth",e.googFrameWidthSent),n(t,"videoSendResolutionHeight",e.googFrameHeightSent))))}),t},i=function(e){var t={};return e.forEach(function(e){e.id&&e.type&&(-1===e.id.indexOf("recv")&&-1===e.type.toLowerCase().indexOf("inbound")&&-1===e.id.indexOf("inbound_rtp")&&-1===e.id.indexOf("inbound-rtp")&&-1===e.id.indexOf("InboundRTP")||("audio"===e.mediaType?(n(t,"audioReceiveBytes",e.bytesReceived),n(t,"audioReceivePackets",e.packetsReceived),n(t,"audioReceivePacketsLost",e.packetsLost)):(n(t,"videoReceiveBytes",e.bytesReceived),n(t,"videoReceivePacketsLost",e.packetsLost),n(t,"videoReceivePackets",e.packetsReceived),n(t,"videoReceiveFrameRate",e.googFrameRateReceived),n(t,"videoReceiveDecodeFrameRate",e.googFrameRateDecoded),n(t,"videoReceiveResolutionWidth",e.googFrameWidthReceived),n(t,"videoReceiveResolutionHeight",e.googFrameHeightReceived))))}),t}},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"e",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return u});var n=r(0),o=function(){var e={dispatcher:{}};return e.dispatcher.eventListeners={},e.addEventListener=function(t,r){void 0===e.dispatcher.eventListeners[t]&&(e.dispatcher.eventListeners[t]=[]),e.dispatcher.eventListeners[t].push(r)},e.hasListeners=function(t){return!(!e.dispatcher.eventListeners[t]||!e.dispatcher.eventListeners[t].length)},e.on=e.addEventListener,e.removeEventListener=function(t,r){var n;e.dispatcher.eventListeners[t]&&-1!==(n=e.dispatcher.eventListeners[t].indexOf(r))&&e.dispatcher.eventListeners[t].splice(n,1)},e.dispatchEvent=function(t){var r;for(r in e.dispatcher.eventListeners[t.type])if(e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(r)&&"function"==typeof e.dispatcher.eventListeners[t.type][r])try{e.dispatcher.eventListeners[t.type][r](t)}catch(r){n.default.debug("[".concat(e.clientId,"] Error in ").concat(t.type," event"),r)}},e.dispatchSocketEvent=function(t){var r;for(r in e.dispatcher.eventListeners[t.type])e.dispatcher.eventListeners[t.type]&&e.dispatcher.eventListeners[t.type].hasOwnProperty(r)&&"function"==typeof e.dispatcher.eventListeners[t.type][r]&&e.dispatcher.eventListeners[t.type][r](t.msg)},e},i=function(e){var t={};return t.type=e.type,t},a=function(e){var t=i(e);return t.stream=e.stream,t.reason=e.reason,t.msg=e.msg,t},s=function(e){var t=i(e);return t.uid=e.uid,t.attr=e.attr,t.stream=e.stream,t},c=function(e){var t=i(e);return t.msg=e.msg,t},u=function(e){var t=i(e);return t.url=e.url,t.uid=e.uid,t.status=e.status,t.reason=e.reason,t}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(r(68)),u=r(3),l=s(r(0)),d=r(2),g=r(14),p=r(10),f=function(e){function t(t,r){var n=e.call(this)||this;return n._state=E.RELAY_STATE_IDLE,n._onStatus=function(e){l.default.debug("["+n.clientId+"] ChannelMediaStatus: "+JSON.stringify(e)),e&&e.command&&("onAudioPacketReceived"===e.command&&n.emit("event",y.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&n.emit("event",y.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(n._state=E.RELAY_STATE_FAILURE,n.emit("state",E.RELAY_STATE_FAILURE,_.SRC_TOKEN_EXPIRED)),"onDestTokenPrivilegeDidExpire"===e.command&&(n._state=E.RELAY_STATE_FAILURE,n.emit("state",E.RELAY_STATE_FAILURE,_.DEST_TOKEN_EXPIRED,e.channelName?{came:e.channelName}:null)))},n._onClose=function(){return i(n,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:if(l.default.debug("["+this.clientId+"] ChannelMediaSocket onClose"),this.emit("event",y.NETWORK_DISCONNECTED),this.state=E.RELAY_STATE_IDLE,!this._prevChannelMediaConfig)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startChannelMediaRelay(this._prevChannelMediaConfig)];case 2:return t.sent(),[3,4];case 3:return(e=t.sent())instanceof b&&(e.message===m.WS_ABORT||e.message===m.AP_REQUEST_ABORT)?[2]:(this.emit("state",E.RELAY_STATE_FAILURE,_.SERVER_CONNECTION_LOST),[3,4]);case 4:return[2]}})})},n.token=t.appId,n.appId=t.appId,n.cname=t.cname,n.uid=t.uid,n.sid=t.sid,n.clientId=r,n}return o(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){var t=this._state;this._state=e,t!==e&&this.emit("state",e)},enumerable:!0,configurable:!0}),t.prototype.startChannelMediaRelay=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(this.state!==E.RELAY_STATE_IDLE)throw new b(m.BAD_STATE);return this.state=E.RELAY_STATE_CONNECTING,[4,this._connect()];case 1:return t.sent(),l.default.debug("["+this.clientId+"] startChannelMediaRelay: connect success"),[4,this._sendStartRelayMessage(e)];case 2:return t.sent(),this._prevChannelMediaConfig=e,[2]}})})},t.prototype.updateChannelMediaRelay=function(e){return i(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(this.state!==E.RELAY_STATE_RUNNING)throw new b(m.BAD_STATE);return[4,this._sendUpdateMessage(e)];case 1:return t.sent(),this._prevChannelMediaConfig=e,[2]}})})},t.prototype.stopChannelMediaRelay=function(){return i(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,this._sendStopRelayMessage()];case 1:return e.sent(),l.default.debug("["+this.clientId+"] stopChannelMediaRelay: send stop message success"),this.state=E.RELAY_STATE_IDLE,this.dispose(),[2]}})})},t.prototype.dispose=function(){l.default.debug("["+this.clientId+"] disposeChannelMediaRelay"),this.state=E.RELAY_STATE_IDLE,this.emit("dispose"),this._signal&&this._signal.dispose(),this._prevChannelMediaConfig=null,this.removeEvent()},t.prototype._requestOneAP=function(e){var t=this;return new Promise(function(r,n){var o={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:"",ts:+new Date,version:u.VERSION,cname:t.cname,uid:t.uid+"",seq:1,requestId:1},i={service_name:"tele_channel",json_body:JSON.stringify(o)},a="https://"+e;g.post(a,i,function(e){var t=null,o=null;try{t=JSON.parse(e)}catch(e){n(new b(m.AP_JSON_PARSE_ERROR,e))}0!==t.code&&n(new b(m.AP_REQUEST_ERROR,t));try{o=JSON.parse(t.json_body)}catch(e){n(new b(m.AP_JSON_PARSE_ERROR,e))}200!==o.code&&n(new b(m.AP_REQUEST_ERROR,o)),o.servers?r(o.servers):n(new b(m.AP_JSON_PARSE_ERROR,o))},function(e){return n(e)},{"X-Packet-Service-Type":0,"X-Packet-URI":61})})},t.prototype._requestAP=function(){var e=this,t=u.getParameter("UAP_AP");return new Promise(function(r,n){setTimeout(function(){n(new b(m.AP_REQUEST_TIMEOUT))},5e3),e.on("dispose",function(){n(new b(m.AP_REQUEST_ABORT))}),t.forEach(function(t){t+="/api/v1",e._requestOneAP(t).then(function(n){l.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" success: "+JSON.stringify(n));var o=n[0],i="wss://"+o.address.replace(/\./g,"-")+".edge.agora.io:"+o.wss;r(i)}).catch(function(r){l.default.debug("["+e.clientId+"] startChannelMediaRelay request AP "+t+" failed: "+JSON.stringify(r))})})})},t.prototype._connectWebsocket=function(e){return this._signal=new S(this.appId,this.cname,this.uid,this.sid),this._signal.connect(e)},t.prototype._connect=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this._requestAP()];case 1:return e=t.sent(),[4,this._connectWebsocket(e)];case 2:return t.sent(),this._signal.on("close",this._onClose.bind(this)),this._signal.on("status",this._onStatus.bind(this)),this.emit("event",y.NETWORK_CONNECTED),[2]}})})},t.prototype._sendStartRelayMessage=function(e){return i(this,void 0,void 0,function(){var t,r,n,o,i,s;return a(this,function(a){switch(a.label){case 0:return this._checkSignal(),t=this._genMessage(v.StopPacketTransfer),[4,this._signal.request(t)];case 1:return a.sent(),[4,this._signal.waitStatus("Normal Quit")];case 2:return a.sent(),l.default.debug("["+this.clientId+"] startChannelMediaRelay: StopPacketTransfer success"),r=this._genMessage(v.SetSdkProfile,e),[4,this._signal.request(r)];case 3:return a.sent(),l.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSdkProfile success"),n=this._genMessage(v.SetSourceChannel,e),[4,this._signal.request(n)];case 4:return a.sent(),[4,this._signal.waitStatus("SetSourceChannelStatus")];case 5:return a.sent(),this.emit("event",y.PACKET_JOINED_SRC_CHANNEL),l.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceChannel success"),o=this._genMessage(v.SetSourceUserId,e),[4,this._signal.request(o)];case 6:return a.sent(),l.default.debug("["+this.clientId+"] startChannelMediaRelay: SetSourceUserId success"),i=this._genMessage(v.SetDestChannel,e),[4,this._signal.request(i)];case 7:return a.sent(),[4,this._signal.waitStatus("SetDestChannelStatus")];case 8:return a.sent(),this.emit("event",y.PACKET_JOINED_DEST_CHANNEL),l.default.debug("["+this.clientId+"] startChannelMediaRelay: SetDestChannel success"),s=this._genMessage(v.StartPacketTransfer,e),[4,this._signal.request(s)];case 9:return a.sent(),this.emit("event",y.PACKET_SENT_TO_DEST_CHANNEL),this.state=E.RELAY_STATE_RUNNING,l.default.debug("["+this.clientId+"] startChannelMediaRelay: StartPacketTransfer success"),[2]}})})},t.prototype._sendReconnectMessage=function(e){return i(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return this._checkSignal(),t=this._genMessage(v.Reconnect,e),[4,this._signal.request(t)];case 1:return r.sent(),[2]}})})},t.prototype._sendUpdateMessage=function(e){return i(this,void 0,void 0,function(){var t;return a(this,function(r){switch(r.label){case 0:return this._checkSignal(),t=this._genMessage(v.UpdateDestChannel,e),[4,this._signal.request(t)];case 1:return r.sent(),this.emit("event",y.PACKET_UPDATE_DEST_CHANNEL),l.default.debug("["+this.clientId+"] sendUpdateMessage: UpdateDestChannel success"),[2]}})})},t.prototype._sendStopRelayMessage=function(){return i(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return this._checkSignal(),e=this._genMessage(v.StopPacketTransfer),[4,this._signal.request(e)];case 1:return t.sent(),l.default.debug("["+this.clientId+"] sendStopRelayMessage: StopPacketTransfer success"),[2]}})})},t.prototype._genMessage=function(e,t){var r=this,n=[],o=[],i=[],a={appId:this.appId,cname:this.cname,uid:this.uid+"",sdkVersion:u.VERSION,sid:this.sid,ts:+new Date,requestId:0,seq:0,allocate:!0,clientRequest:{}},s=null;switch(e){case v.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case v.SetSourceChannel:return s=t.getSrcChannelMediaInfo(),a.clientRequest={command:"SetSourceChannel",uid:s.uid+"",channelName:s.channelName,token:s.token||this.appId},a;case v.SetSourceUserId:return s=t.getSrcChannelMediaInfo(),a.clientRequest={command:"SetSourceUserId",uid:this.uid+""},a;case v.SetDestChannel:return t.getDestChannelMediaInfos().forEach(function(e){n.push(e.channelName),o.push(e.uid+""),i.push(e.token||r.appId)}),a.clientRequest={command:"SetDestChannel",channelName:n,uid:o,token:i},a;case v.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case v.Reconnect:return a.clientRequest={command:"Reconnect"},a;case v.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case v.UpdateDestChannel:return t.getDestChannelMediaInfos().forEach(function(e){n.push(e.channelName),o.push(e.uid+""),i.push(e.token||r.appId)}),a.clientRequest={command:"UpdateDestChannel",channelName:n,uid:o,token:i},a}},t.prototype._checkSignal=function(){if(!this._signal||!this._signal.isConnect())throw new b(m.WS_DISCONNECTED)},t}(c.default);t.default=f;var h=function(){function e(){this.destChannelMediaInfos=new Map}return e.prototype.setSrcChannelInfo=function(e){d.checkValidObject(e,"srcInfo");var t=e.uid,r=e.channelName,n=e.token;if(n&&!d.isValidToken(n))throw new Error("Invalid token in SrcChannelInfo");if(!d.isValidChannelName(r))throw new Error("Invalid channelName in SrcChannelInfo");if(!p.is32Uint(t))throw new Error("Invalid uid in SrcChannelInfo");this.srcChannelMediaInfo=e},e.prototype.setDestChannelInfo=function(e,t){if(!d.isValidChannelName(e))throw new Error("Invalid channelName in DestChannelInfo");d.checkValidObject(t,"destInfo");var r=t.uid,n=t.token,o=t.channelName;if(n&&!d.isValidToken(n))throw new Error("Invalid token in DestChannelInfo");if(!d.isValidChannelName(o))throw new Error("Invalid channelName in DestChannelInfo");if(!p.is32Uint(r))throw new Error("Invalid uid in DestChannelInfo");this.destChannelMediaInfos.set(e,t)},e.prototype.removeDestChannelInfo=function(e){if(!d.isValidChannelName(e))throw new Error("Invalid channelName when invoke removeDestChannelInfo");this.destChannelMediaInfos.delete(e)},e.prototype.getSrcChannelMediaInfo=function(){return this.srcChannelMediaInfo},e.prototype.getDestChannelMediaInfos=function(){return this.destChannelMediaInfos},e}();t.ChannelMediaRelayConfiguration=h;var m,v,y,E,_,S=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i._onOpen=function(){i.emit("open")},i._onClose=function(e){i.emit("close"),i.dispose()},i._onMessage=function(e){var t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(i.emit("status",t.serverStatus),void i.emit(t.serverStatus.command,t.serverStatus)):void 0;i.emit("req_"+t.requestId,t)},i._requestId=1,i.appId=t,i.cname=r,i.uid=n,i.sid=o,i}return o(t,e),t.prototype.isConnect=function(){return this._ws&&this._ws.readyState===WebSocket.OPEN},t.prototype.sendMessage=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new b(m.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,e.seq=t,this._ws.send(JSON.stringify(e)),t},t.prototype.waitStatus=function(e){var t=this;return new Promise(function(r,n){var o=window.setTimeout(function(){n(new b(m.WAIT_STATUS_TIMEOUT,e))},5e3);t.once(e,function(t){clearTimeout(o),t.state&&0!==t.state?n(new b(m.WAIT_STATUS_ERROR,e)):r()}),t.once("dispose",function(){clearTimeout(o),n(new b(m.WS_ABORT))})})},t.prototype.request=function(e){var t=this;return new Promise(function(r,n){var o=t.sendMessage(e),i=window.setTimeout(function(){t.removeAllListeners("req_"+o),n(new b(m.REQUEST_TIMEOUT))},3e3);t.once("req_"+o,function(e){clearTimeout(i),e&&200===e.code?r(e):n(new b(m.REQUEST_FAILED,e))}),t.once("dispose",function(){clearTimeout(i),n(new b(m.WS_ABORT))})})},t.prototype.connect=function(e){var t=this;return new Promise(function(r,n){t._ws=new WebSocket(e),t._ws.onopen=function(){t._onOpen(),t._prvUrl=e,t._ws.onmessage=t._onMessage,t._ws.onclose=t._onClose,t._startHeartBeatCheck(),r()},t._ws.onclose=function(e){t._ws=null,n(new b(m.CONNECT_FAILED,"websocket error code: "+e.code))},setTimeout(function(){t._ws&&t._ws.readyState!==WebSocket.OPEN&&(t._ws.onopen=null,t._ws.onclose=null,t._ws.close(),t._ws=null,n(new b(m.CONNECT_TIMEOUT)))},5e3),t.once("dispose",function(){n(new b(m.WS_ABORT))})})},t.prototype.dispose=function(){this._clearHeartBeatCheck(),this.emit("dispose"),this.removeEvent(),this._ws&&(this._ws.onopen=null,this._ws.onclose=null,this._ws.onmessage=null,this._ws.close()),this._ws=null},t.prototype._sendPing=function(e){if(!this._ws||this._ws.readyState!==WebSocket.OPEN)throw new b(m.WS_DISCONNECTED);var t=this._requestId++;return e.requestId=t,this._ws.send(JSON.stringify(e)),t},t.prototype._startHeartBeatCheck=function(){var e=this;this._heartBeatTimer=window.setInterval(function(){e._sendPing({command:"ping",appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid,ts:+new Date,requestId:0})},3e3)},t.prototype._clearHeartBeatCheck=function(){window.clearInterval(this._heartBeatTimer)},t}(c.default),b=function(e,t,r){void 0===e&&(e=""),this.code=r,this.data=t,this.message=e};t.ChannelMediaError=b,function(e){e.CONNECT_FAILED="connect failed",e.CONNECT_TIMEOUT="connect timeout",e.WS_DISCONNECTED="websocket disconnected",e.REQUEST_TIMEOUT="request timeout",e.REQUEST_FAILED="request failed",e.WAIT_STATUS_TIMEOUT="wait status timeout",e.WAIT_STATUS_ERROR="wait status error",e.BAD_STATE="bad state",e.WS_ABORT="ws abort",e.AP_REQUEST_TIMEOUT="AP request timeout",e.AP_JSON_PARSE_ERROR="AP json parse error",e.AP_REQUEST_ERROR="AP request error",e.AP_REQUEST_ABORT="AP request abort"}(m=t.CHANNEL_MEDIA_ERROR||(t.CHANNEL_MEDIA_ERROR={})),function(e){e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile"}(v||(v={})),function(e){e[e.NETWORK_DISCONNECTED=0]="NETWORK_DISCONNECTED",e[e.NETWORK_CONNECTED=1]="NETWORK_CONNECTED",e[e.PACKET_JOINED_SRC_CHANNEL=2]="PACKET_JOINED_SRC_CHANNEL",e[e.PACKET_JOINED_DEST_CHANNEL=3]="PACKET_JOINED_DEST_CHANNEL",e[e.PACKET_SENT_TO_DEST_CHANNEL=4]="PACKET_SENT_TO_DEST_CHANNEL",e[e.PACKET_RECEIVED_VIDEO_FROM_SRC=5]="PACKET_RECEIVED_VIDEO_FROM_SRC",e[e.PACKET_RECEIVED_AUDIO_FROM_SRC=6]="PACKET_RECEIVED_AUDIO_FROM_SRC",e[e.PACKET_UPDATE_DEST_CHANNEL=7]="PACKET_UPDATE_DEST_CHANNEL",e[e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=8]="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e[e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=9]="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(y=t.CHANNEL_MEDIA_RELAY_EVENT||(t.CHANNEL_MEDIA_RELAY_EVENT={})),function(e){e[e.RELAY_STATE_IDLE=0]="RELAY_STATE_IDLE",e[e.RELAY_STATE_CONNECTING=1]="RELAY_STATE_CONNECTING",e[e.RELAY_STATE_RUNNING=2]="RELAY_STATE_RUNNING",e[e.RELAY_STATE_FAILURE=3]="RELAY_STATE_FAILURE"}(E=t.CHANNEL_MEDIA_RELAY_STATE||(t.CHANNEL_MEDIA_RELAY_STATE={})),function(e){e[e.RELAY_OK=0]="RELAY_OK",e[e.SERVER_ERROR_RESPONSE=1]="SERVER_ERROR_RESPONSE",e[e.SERVER_NO_RESPONSE=2]="SERVER_NO_RESPONSE",e[e.NO_RESOURCE_AVAILABLE=3]="NO_RESOURCE_AVAILABLE",e[e.FAILED_JOIN_SRC=4]="FAILED_JOIN_SRC",e[e.FAILED_JOIN_DEST=5]="FAILED_JOIN_DEST",e[e.FAILED_PACKET_RECEIVED_FROM_SRC=6]="FAILED_PACKET_RECEIVED_FROM_SRC",e[e.FAILED_PACKET_SENT_TO_DEST=7]="FAILED_PACKET_SENT_TO_DEST",e[e.SERVER_CONNECTION_LOST=8]="SERVER_CONNECTION_LOST",e[e.INTERNAL_ERROR=9]="INTERNAL_ERROR",e[e.SRC_TOKEN_EXPIRED=10]="SRC_TOKEN_EXPIRED",e[e.DEST_TOKEN_EXPIRED=11]="DEST_TOKEN_EXPIRED",e[e.RELAY_ALREADY_START=12]="RELAY_ALREADY_START",e[e.RELAY_NOT_START=13]="RELAY_NOT_START",e[e.OPERATION_ABORT=14]="OPERATION_ABORT"}(_=t.CHANNEL_MEDIA_RELAY_ERROR||(t.CHANNEL_MEDIA_RELAY_ERROR={}))},function(e,t,r){"use strict";function n(){return++h}function o(){return l()().replace(/-/g,"").toUpperCase()}r.r(t),r.d(t,"isLiveTranscodingValid",function(){return y}),r.d(t,"generateSessionId",function(){return o}),r.d(t,"audioLevelHelper",function(){return f}),r.d(t,"vsResHack",function(){return m}),r.d(t,"is32Uint",function(){return v}),r.d(t,"safeCall",function(){return p}),r.d(t,"random",function(){return _}),r.d(t,"popBanTip",function(){return T}),r.d(t,"lengthInUtf8Bytes",function(){return S}),r.d(t,"audioTimerLoop",function(){return b}),r.d(t,"generateId",function(){return n});var i=r(11),a=r.n(i),s=r(4),c=r(0),u=r(27),l=r.n(u),d=r(24),g=r(15),p=function(){var e=arguments[0];if("function"==typeof e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}},f=function(e){return this.audioContext=Object(d.a)(),this.sourceNode=e.otWebkitAudioSource||this.audioContext.createMediaStreamSource(e),this.analyser=this.audioContext.createAnalyser(),this.timeDomainData=new Uint8Array(this.analyser.frequencyBinCount),this.sourceNode.connect(this.analyser),this.getAudioLevel=function(){if(this.analyser){this.analyser.getByteTimeDomainData(this.timeDomainData);for(var e=0,t=0;t<this.timeDomainData.length;t++)e=Math.max(e,Math.abs(this.timeDomainData[t]-128));return e/128}return c.default.warning("can't find analyser in audioLevelHelper"),0},this},h=1e4,m=function(e,t,r){try{c.default.debug("start vsResHack",e);var n=document.createElement("video");n.setAttribute("autoplay",""),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("playsinline",""),n.setAttribute("style","position: absolute; top: 0; left: 0; width:1px; high:1px;"),document.body.appendChild(n),n.addEventListener("playing",function(r){s.isFireFox()?n.videoWidth&&(c.default.debug("[vsResHack] get stream resolution: ","".concat(n.videoWidth," x ").concat(n.videoHeight),e),t(n.videoWidth,n.videoHeight),document.body.removeChild(n)):(c.default.debug("[vsResHack] get stream resolution: ","".concat(n.videoWidth," x ").concat(n.videoHeight),e),t(n.videoWidth,n.videoHeight),document.body.removeChild(n))}),Object(g.setSrcObject)(n,e)}catch(e){r(e)}},v=function(e){return"number"==typeof e&&0<=e&&e<=4294967295},y=function(e){var t=["lowLatency","userConfigExtraInfo","transcodingUsers"];for(var r in e)if("lowLatency"===r&&"boolean"!=typeof e[r]||"userConfigExtraInfo"===r&&"object"!==a()(e[r])||"transcodingUsers"===r&&!E(e[r])||!~t.indexOf(r)&&"number"!=typeof e[r])throw new Error("Param ["+r+"] is inValid");return!0},E=function(e){for(var t=0;t<e.length;t++)for(var r in e[t])if("number"!=typeof e[t][r])throw new Error("Param user["+t+"] - ["+r+"] is inValid");return!0},_=function(e){isNaN(e)&&(e=1e3);var t=+new Date,r=(t=(9301*t+49297)%233280)/233280;return Math.ceil(r*e)},S=function(e){var t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)},b=function(e,t){var r=1/t,n=Object(d.a)(),o=n.createGain();o.gain.value=0,o.connect(n.destination);var i=!1;return function t(){var a=n.createOscillator();a.onended=t,a.connect(o),a.start(0),a.stop(n.currentTime+r),e(n.currentTime),i&&(a.onended=function(){})}(),function(){i=!0}},T=function(){if(!document.getElementById("agora-ban-tip")){var e=document.createElement("div");e.id="agora-ban-tip",e.style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; color: #fff;",document.querySelector("body").prepend(e);var t=document.createElement("div");t.style="background: #000; width: 346px; height: 116px; z-index: 100000; opacity: 0.6; border-radius: 10px; box-shadow: 0 2px 4px #000;",e.append(t);var r=document.createElement("div");r.style="height: 76px; display: flex; justify-content: center; align-items: center;";var n=document.createElement("span");n.style="height: 28px; width: 28px; color: #000; text-align: center; line-height: 30px; background: #fff; border-radius: 50%; font-weight: 600; font-size: 20px;margin-right: 5px;",n.innerText="!";var o=document.createElement("span");o.innerText="This browser does not support webRTC",r.append(n),r.append(o);var i=document.createElement("div");i.style="height: 38px; display: flex; border-top: #fff 1px solid; justify-content: center; align-items: center;",i.innerText="OK",t.append(r),t.append(i),i.onclick=function(){var e=document.getElementById("agora-ban-tip");e.parentNode.removeChild(e)}}}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},function(t,r,n){"use strict";var o=n(13),i=n.n(o),a=n(17),s=n.n(a),c=n(11),u=n.n(c),l=n(31),d=n.n(l),g=n(7),p=n.n(g),f=n(21),h=n(8),m=function(e){e&&e.apply(this,[].slice.call(arguments,1))},v=n(0),y=n(1),E=n(10),_=n(14),S=n(3),b=function(e){var t=Object(h.b)(e);t.needReconnect=!0,t.isTimeout=!1,t.isInit=!0,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),t.lastMsgTime=null,t.clientId=e.clientId,t.hostIndex=0,t.requestID=0,e.host instanceof Array?t.host=e.host:t.host=[e.host],t.getSendBytes=function(){return t.sendbytes},t.getRecvBytes=function(){return t.recvbytes},t.getDuration=function(){return Math.ceil((Date.now()-t.startTime)/1e3)},t.getURL=function(){return t.connection.url},t.reconnect=function(){t.isInit=!0,t.creatConnection()},t.connectNext=function(){t.isInit=!0,++t.hostIndex,v.default.debug("["+t.clientId+"] Gateway length:"+t.host.length+" current index:"+t.hostIndex),t.hostIndex>=t.host.length?t.dispatchEvent(Object(h.d)({type:"recover"})):t.creatConnection()},t.replaceHost=function(e){t.host=e||t.host,t.hostIndex=0,t.creatConnection()},t.creatConnection=function(){if(t.needReconnect=!0,t.lts=(new Date).getTime(),t.connection=new WebSocket("wss://"+t.host[t.hostIndex]),t.connection.binaryType="arraybuffer",t.turnConfig={},t.connection.url){var r=t.connection.url.match(/wss\:\/\/([^:]+):(\d+)/),n=t.host[t.hostIndex].split(":"),o=t.connection.url.match(/h=([^:]+)&p=(\d+)/);r?(t.turnConfig.url=r[1],Object(S.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(r[2])+30),Object(S.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(r[2])+30)):o?(t.turnConfig.url=o[1],Object(S.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(o[2])+30),Object(S.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(o[2])+30)):n&&(t.turnConfig.url=n[0],Object(S.getParameter)("TURN_ENABLE_TCP")&&(t.turnConfig.tcpport=parseInt(n[1])+30),Object(S.getParameter)("TURN_ENABLE_UDP")&&(t.turnConfig.udpport=parseInt(n[1])+30))}t.connection.onopen=function(e){t.needReconnect=!0,t.isTimeout=!1,t.isInit=!1,t.sendbytes=0,t.recvbytes=0,t.startTime=Date.now(),Object(_.resetHTTPByetsCount)(),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(h.d)({type:"onopen",event:e,socket:t}))},t.connection.onmessage=function(e){if(e.data instanceof ArrayBuffer)t.dispatchEvent({type:"onBinaryData",data:e.data});else{t.recvbytes+=Object(E.lengthInUtf8Bytes)(e.data);var r=JSON.parse(e.data);t.lastMsgTime=Date.now(),r.hasOwnProperty("_id")?t.dispatchEvent(Object(h.d)({type:r._id,msg:r})):r.hasOwnProperty("_type")&&t.dispatchSocketEvent(Object(h.d)({type:r._type,msg:r._message}))}},t.connection.onclose=function(r){t.needReconnect?t.isTimeout||t.isInit?(v.default.debug("["+t.clientId+"] websockect connect timeout"),y.report.joinGateway(e.sid,{lts:t.lts,succ:!1,ec:"timeout",addr:t.connection.url}),t.connectNext()):(t.dispatchEvent(Object(h.d)({type:"disconnect",event:r})),t.requests&&t.requests instanceof Array&&(t.requests.map(function(e){e.callback("REQUEST_ABORT")}),t.requests=[])):(v.default.debug("["+t.clientId+"] websockect closeed"),m(e.onFailure,r),clearTimeout(t.timeoutCheck),t.dispatchEvent(Object(h.d)({type:"close",event:r})),t.connection.onopen=void 0,t.connection.onclose=void 0,t.connection.onerror=void 0,t.connection.onmessage=void 0,t.connection=void 0)},t.connection.onerror=function(e){},setTimeout(function(){t.connection&&t.connection.readyState!=WebSocket.OPEN&&(t.isTimeout=!0,t.connection.close())},5e3)},t.creatConnection(),t.sendMessage=function(e,r){if(t.connection&&t.connection.readyState==WebSocket.OPEN){var n=JSON.stringify(e);t.sendbytes+=Object(E.lengthInUtf8Bytes)(n),t.connection.send(n)}else r({error:"Gateway not connected"})},t.disconnect=function(){t.needReconnect=!0,t.connection.close()},t.close=function(){t.needReconnect=!1,t.connection.onclose=void 0,t.connection.close(),clearInterval(t.requestTimer),t.requests&&t.requests instanceof Array&&(t.requests.map(function(e){e.callback("REQUEST_ABORT")}),t.requests=[])},t.sendSignalCommand=function(e,r){e._id="_request_"+t.requestID,t.requestID+=1,"publish_stats"!==e._type&&"subscribe_stats"!==e._type&&"publish_stats_low"!==e._type&&t.on(e._id,function(n){n.msg&&r&&r(n.msg._result,n.msg.message),delete t.dispatcher.eventListeners[e._id]}),t.sendMessage(e,function(e){e.reason="NOT_CONNECTED",r&&r(e.reason,e)})},t.requests=[];var r=function(e){var r=t.requests.findIndex(function(t){return t.id===e.type});if(r>=0)var n=t.requests.splice(r,1)[0];n&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.msg&&n.callback&&n.callback(e.msg._result,e.msg._message)):v.default.warning("Detached Response",e.type,e.msg)},n=function(e){var r=this,n=t.requests.findIndex(function(e){return e.id===r.id});n>=0&&(r=t.requests.splice(n,1)[0]),r&&t.dispatcher.eventListeners[e.type]?(delete t.dispatcher.eventListeners[e.type],e.reason="NOT_CONNECTED",r.callback&&r.callback(e.reason,e)):v.default.warning("handleSendError",r)};return t.sendRequest=function(e,o){e=p()({_id:"_request_"+t.requestID},e),t.requestID+=1;var i={id:e._id,timeoutCounter:0,stalledAt:Date.now(),message:e,callback:o};t.requests.push(i),t.addEventListener(e._id,r),t.sendMessage(e,n.bind(i))},t.checkRequestTimeout=function(){for(var e=Math.ceil(Object(S.getParameter)("SIGNAL_REQUEST_TIMEOUT")/Object(S.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),r=t.requests.length-1;r>=0;r--){var n=t.requests[r];n.timeoutCounter>=e?(t.requests.splice(r,1),v.default.error("Request Timeout",n.timeoutCounter,n.message),n.callback&&n.callback("TIMEOUT")):n.timeoutCounter++}},clearInterval(t.requestTimer),t.requestTimer=setInterval(t.checkRequestTimeout,Object(S.getParameter)("SIGNAL_REQUEST_WATCH_INTERVAL")),t.sendReport=function(e){t.sendMessage(e,function(){})},t},T=function(e,t){var r={connect:function(){t.host=e,r.signal=b(t),r.on=r.signal.on,r.dispatchEvent=r.signal.dispatchEvent,r.signal.on("onopen",function(e){r.signal.onEvent=function(e){r.dispatchEvent(Object(h.d)({type:e.event,msg:e}))},r.dispatchEvent(Object(h.d)({type:"connect",msg:e}))}),r.signal.on("onError",function(e){var t=e.msg;onError(t.code,"error")})},getLastMsgTime:function(){return r.signal&&r.signal.lastMsgTime},getSendBytes:function(){return r.signal.getSendBytes()},getRecvBytes:function(){return r.signal.getRecvBytes()},getDuration:function(){return r.signal.getDuration()},disconnect:function(){r.signal.disconnect()},close:function(){r.signal.close()},getURL:function(){return r.signal.getURL()},reconnect:function(){r.signal.reconnect()},connectNext:function(){r.signal.connectNext()},replaceHost:function(e){r.signal.replaceHost(e)},emitSimpleMessage:function(e,t){r.signal.sendSignalCommand(e,t)},emitRequest:function(e,t){r.signal.sendRequest(e,t)},emitReport:function(e){r.signal.sendReport(e)}};return r.connect(),r},A=n(22),R=n(5),I=n(20),O=n(4),w={ERR_NO_VOCS_AVAILABLE:"tryNext",ERR_NO_VOS_AVAILABLE:"tryNext",ERR_JOIN_CHANNEL_TIMEOUT:"tryNext",WARN_REPEAT_JOIN:"quit",ERR_JOIN_BY_MULTI_IP:"recover",WARN_LOOKUP_CHANNEL_TIMEOUT:"tryNext",WARN_OPEN_CHANNEL_TIMEOUT:"tryNext",ERR_VOM_SERVICE_UNAVAILABLE:"tryNext",ERR_TOO_MANY_USERS:"tryNext",ERR_MASTER_VOCS_UNAVAILABLE:"tryNext",ERR_INTERNAL_ERROR:"tryNext",K_SERVICE_NOT_READY:"recover",K_SERVICE_TOO_HEAVY:"tryNext",notification_test_recover:"recover",notification_test_tryNext:"tryNext",notification_test_retry:"retry"},C={googActualEncBitrate:"A_aeb",googAvailableSendBandwidth:"A_asb",googRetransmitBitrate:"A_rb",googAvailableReceiveBandwidth:"A_arb",googTargetEncBitrate:"A_teb",googBucketDelay:"A_bd",googTransmitBitrate:"A_tb",googCodecName:"A_cn",bytesSent:"bytesSent",packetsLost:"packetsLost",packetsSent:"packetsSent",googAdaptationChanges:"A_ac",googAvgEncodeMs:"A_aem",googEncodeUsagePercent:"A_eup",googFirsReceived:"A_fr",googFrameHeightInput:"A_fhi",googFrameHeightSent:"A_fhs",googFrameRateInput:"A_fri",googFrameRateSent:"A_frs",googFrameWidthInput:"A_fwi",googFrameWidthSent:"A_fws",googNacksReceived:"A_nr",googPlisReceived:"A_pr",googRtt:"A_rtt",aecDivergentFilterFraction:"A_adff",audioInputLevel:"A_ail",googEchoCancellationReturnLoss:"A_ecrl",googEchoCancellationReturnLossEnhancement:"A_ecrle",googResidualEchoLikelihood:"A_rel",googResidualEchoLikelihoodRecentMax:"A_relrm",googTargetDelayMs:"A_tdm",bytesReceived:"bytesReceived",packetsReceived:"packetsReceived",googDecodeMs:"A_dm",googMaxDecodeMs:"A_mdm",googRenderDelayMs:"A_rdm",googFrameWidthReceived:"A_fwr",googFrameHeightReceived:"A_fhr",googFrameRateReceived:"A_frr",googFrameRateDecoded:"A_frd",googFrameRateOutput:"A_fro",googJitterBufferMs:"A_jbm",googCurrentDelayMs:"A_cdm",googMinPlayoutDelayMs:"A_mpdm",googNacksSent:"A_ns",googPlisSent:"A_ps",googFirsSent:"A_fs",audioOutputLevel:"A_aol",googAccelerateRate:"A_ar",googDecodingCNG:"A_dcng",googDecodingCTN:"A_dctn",googDecodingCTSG:"A_dctsg",googDecodingNormal:"A_dn",googDecodingPLC:"A_dplc",googDecodingPLCCNG:"A_dplccng",googExpandRate:"A_er",googJitterReceived:"A_jr",googPreemptiveExpandRate:"A_per",googPreferredJitterBufferMs:"A_pjbm",googSecondaryDecodedRate:"A_sdr",googSpeechExpandRate:"A_ser",uplink_fraction_lost:"B_ufl",uplink_cumulative_lost:"B_ucl",uplink_available_bandwidth:"B_uab",period_fir:"B_fir",access_delay:"B_acd",uplink_network_quality:"B_unq",downlink_network_quality:"B_dnq",pub_audio_lost_ratio_400ms:"B_palr4",pub_video_lost_ratio_400ms:"B_pvlr4",e2e_delay:"B_ed",audio_delay:"B_ad",video_delay:"B_vd",stream_type:"B_st",e2e_audio_lost_ratio_400ms:"B_ealr4",e2e_video_lost_ratio_400ms:"B_evlr4",downlink_estimate_bandwidth:"B_deb",peer_publish_audio_duration:"B_ppad",peer_publish_video_duration:"B_ppvd"},N={};for(var M in C){var L=C[M];N[L]&&v.default.error("Key Conflict: ".concat(L,": ").concat(C[L],"| ").concat(M)),N[L]=M}var D=function(e){return C[e]||e},P=function(e){return N[e]||e},k=n(9),x=n.n(k),j=n(52),U=function t(r){var n=!1,o=function(e){return{_type:"control",_message:e}},a=function(e,t){var r={};return Object.keys(t).forEach(function(e){Object(S.getParameter)("STATS_FILTER")[e]||(r[D(e)]=t[e])}),{_type:"subscribe_related_stats",_message:{stream_type:"high",stream_id:e,stats:r}}},c=function(e){return{_type:"publish",_message:e}},l=function(e,t){var r={};return Object.keys(t).forEach(function(e){Object(S.getParameter)("STATS_FILTER")[e]||(r[D(e)]=t[e])}),{_type:"subscribe_stats",_message:{stream_id:e,stats:r}}},g=t.DISCONNECTED,_=t.CONNECTING,b=t.CONNECTED,C=t.DISCONNECTING,N=g,M=Object(h.b)(r);Object.defineProperty(M,"state",{set:function(e){var r=N;N=e,Object(I._setClientConnectionStateRecord)(M.clientId,e),e!==t.CONNECTED&&e!==t.DISCONNECTING&&(M.hasJoined=!1),r!==e&&M.dispatchEvent({type:"connection-state-change",prevState:t.connetionStateMap[r],curState:t.connetionStateMap[e]})},get:function(){return N}}),M.socket=void 0,M.state=g,M.mode=r.mode,M.role=r.role,M.codec=r.codec,M.config={},M.timers={},M.timer_counter={},M.localStreams={},M.remoteStreams={},M.remoteMuteState={},M.attemps=1,M.p2p_attemps=1,M.audioLevel={},M.activeSpeaker=void 0,M.reconnectMode="tryNext",M.rejoinAttempt=0,M.hasChangeBGPAddress=!1,M.traffic_stats={},M.clientId=r.clientId,M.pingpongCounter=0,M.hasInvokeLeave=!1,M.p2ps=new Map,M.liveStreams=new Map,M.injectLiveStreams=new Map,M.remoteStreamsInChannel=new Set,M.subscribeRequestId=new Map,M.publishRequestId=0,M.hasJoined=!1,M.isFirstSuccess=!0,M.peerPublishDurationMap=new Map,function(e){var t=m;e.makeRequest=function(r,n,o){if(void 0===e.socket)return v.default.debug("[".concat(e.clientId,"] No socket available")),void t(o,R.default.INVALID_OPERATION);try{e.socket.emitRequest(r,function(e,t){var r;"success"===e?"function"==typeof n&&n(t):"function"==typeof o&&(r=t&&t.error_code&&R.GatewayErrorCode[t.error_code]?R.GatewayErrorCode[t.error_code]:t&&t.error_str?t.error_str:t&&t.error_code?"UNKNOW_ERROR_".concat(t.error_code):e,o(r,t))})}catch(n){v.default.debug("[".concat(e.clientId,"] Socket emit message failed ").concat(JSON.stringify(r))),v.default.debug("[".concat(e.clientId,"] "),n),t(o,R.default.SOCKET_ERROR)}},e.makeReport=function(t){void 0===e.socket&&v.default.debug("[".concat(e.clientId,"] No socket available"));try{e.socket.emitReport(t)}catch(r){v.default.debug("[".concat(e.clientId,"] Socket emit report failed ").concat(JSON.stringify(t)))}}}(M),M.inChannelInfo={joinAt:null,duration:0},M._sendMessage=function(e,t){switch(e){case"SubscribeStats":M.makeReport(l.apply(void 0,d()(t)));break;case"SubscribeRelatedStats":M.makeReport(a.apply(void 0,d()(t)))}};var L=m;M.p2pCounter=Object(E.random)(1e5),M.generateP2PId=function(){return++M.p2pCounter},M.audioVolumeIndication={enabled:!1,sortedAudioVolumes:[],smooth:3,interval:2e3},M.remoteVideoStreamTypes={REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2},M.streamFallbackTypes={STREAM_FALLBACK_OPTION_DISABLED:0,STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:1,STREAM_FALLBACK_OPTION_AUDIO_ONLY:2},M.configPublisher=function(e){M.config=e},M.getGatewayInfo=function(e,t){M.makeRequest({_type:"gateway_info"},e,t)},M.setClientRole=function(e,t){v.default.debug("[".concat(M.clientId,"] setClientRole to ").concat(e));var r=y.report.reportApiInvoke(M.joinInfo.sid,{name:"_setClientRole",callback:t});M.makeRequest({_type:"set_client_role",_message:{role:e}},function(){M.role=e,M.dispatchEvent({type:"client-role-changed",role:e}),r&&r(null,{role:e})},function(t,n){if(n&&n.code&&(t=R.GatewayErrorCode[n.code]||"UNKNOW_ERROR_"+n.code),"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE"===t)return r&&r(null);v.default.error("set Client role error to "+e+": "+t),r&&r(t)})},M.join=function(e,t,n,o){M.hasInvokeLeave=!1,e.useProxyServer&&(M.hasChangeBGPAddress=!0);var i=(new Date).getTime(),a=e.uid;if(M.inChannelInfo.joinAt&&(M.inChannelInfo.duration+=i-M.inChannelInfo.joinAt),M.inChannelInfo.joinAt=i,M.state!==_)return v.default.error("[".concat(M.clientId,"] GatewayClient.join Failed: state "),M.state),o&&o(R.default.INVALID_OPERATION),void y.report.joinGateway(e.sid,{lts:i,succ:!1,ec:R.default.INVALID_OPERATION,addr:null});if(null!=a&&parseInt(a)!==a)return v.default.error("[".concat(M.clientId,"] Input uid is invalid")),M.state=g,o&&o(R.default.INVALID_PARAMETER),void y.report.joinGateway(e.sid,{lts:i,succ:!1,ec:R.default.INVALID_PARAMETER,addr:null});var s=B.register(M,{uid:a,cname:e&&e.cname});if(s)return M.state=g,o&&o(s),void y.report.joinGateway(e.sid,{lts:i,succ:!1,ec:s,addr:null});M.joinInfo=p()({},e),M.uid=a,M.key=t,M.pingpongCounter=0,F(e,function(t){if(M.state===C||M.state===g)return o&&o("LEAVE_BEFORE_JOIN_SUCCESS");M.state=b,v.default.debug("[".concat(M.clientId,"] Connected to gateway server")),clearInterval(M.pingTimer),M.pingTimer=setInterval(function(){var e=Object(S.getParameter)("PING_PONG_TIME_OUT");if(++M.pingpongCounter>=e){var t=Date.now();M.socket&&v.default.warning("PINGPONG Timeout. Last Socket Message: ".concat(t-M.socket.getLastMsgTime(),"ms")),M.socket&&M.socket.getLastMsgTime()&&t-M.socket.getLastMsgTime()>Object(S.getParameter)("WEBSOCKET_TIMEOUT_MIN")&&(M.pingpongCounter=0,M.socket.close(),M.socket.dispatchEvent(Object(h.d)({type:"disconnect",event:{msg:"PING_PONG_TIME_OUT"}})))}var r=Date.now();M.makeRequest({_type:"ping"},function(){M.pingpongCounter=0;var e=Date.now()-r;setTimeout(function(){Object(S.getParameter)("REPORT_STATS")&&M.makeRequest({_type:"ping_back",_message:{pingpongElapse:e}})},1e3)},function(e,t){"TIMEOUT"!==e&&(v.default.error("Ping Error ".concat(e," ").concat(JSON.stringify(t))),t&&t.error_code&&M.socket&&M.socket.signal&&M.socket.signal.connection&&M.socket.signal.connection.readyState===WebSocket.OPEN&&(v.default.info("Disconnecting websocket connection"),M.socket.signal.connection.close()))})},3e3),M.makeRequest(function(e){var t=e.role,n=p()({},M.joinInfo.apResponse),o={session_id:M.joinInfo.sid,app_id:r.appId,channel_key:M.key,channel_name:M.joinInfo.cname,sdk_version:S.VERSION,browser:navigator.userAgent,process_id:Object(y.getProcessId)(),mode:M.mode,codec:M.codec,role:t,has_changed_gateway:Object(S.getParameter)("FORCE_CHANGED_GATEWAY_FLAG")||M.hasChangeBGPAddress,ap_response:n,optionalInfo:M.joinInfo.optionalInfo,extend:Object(S.getParameter)("JOIN_EXTEND"),details:{}};if(M.joinInfo.hasOwnProperty("stringUid")&&(o.string_uid=M.joinInfo.stringUid),M.joinInfo.aesmode&&M.joinInfo.aespassword&&(o.aes_mode=M.joinInfo.aesmode,o.aes_secret=Object(j.encryptAES)(M.joinInfo.aespassword,M.joinInfo.uid),o.aes_encrypt=!0),M.socket&&M.socket.signal&&M.socket.signal&&(n.addresses[M.socket.signal.hostIndex]&&(o.ap_response.ticket=n.addresses[M.socket.signal.hostIndex].ticket,delete n.addresses),Object(S.getParameter)("SET_DEFAULT_TURNSERVER")&&M.socket.signal.turnConfig)){var i={username:"test",credential:Object(S.getParameter)("TURN_SERVER_PASSWORD"),forceturn:Object(S.getParameter)("FORCE_TURN")};i.url=M.socket.signal.turnConfig.url,M.socket.signal.turnConfig.tcpport&&(i.tcpport=""+M.socket.signal.turnConfig.tcpport),M.socket.signal.turnConfig.udpport&&(i.udpport=""+M.socket.signal.turnConfig.udpport),!!M.joinInfo.turnServers.find(function(e){if(e.url===i.url)return!0})||M.joinInfo.turnServers.push(i)}return M.dispatchEvent({type:"join-message-hook",joinMessage:o}),{_type:"join",_message:o}}({role:M.role}),function(t){if(y.report.joinGateway(e.sid,{lts:i,succ:!0,ec:null,vid:e.vid,addr:M.socket.getURL(),firstSuccess:M.isFirstSuccess}),M.joinSuccessLts=Date.now(),M.isFirstSuccess=!1,M.rejoinAttempt=0,M.hasJoined=!0,n&&n(t.uid),!0===t.return_vosip||!0===Object(S.getParameter)("ENABLE_LIVE_SERVER_LIST")){var r=null;try{r=M.socket.signal.connection.url}catch(e){v.default.debug("[".concat(M.clientId,"] Can not get gateway ip: ").concat(e))}r?Object(S.setParameter)("LIVE_SERVER_LIST",[r]):Object(S.setParameter)("LIVE_SERVER_LIST",[])}M.dispatchEvent({type:"join"}),clearInterval(M.timers.trafficStats),M.timers.trafficStats=setInterval(function(){M.makeRequest({_type:"traffic_stats"},function(e){var t={};for(var r in e)t[P(r)]=e[r];if(t.peer_delay&&t.peer_delay.length){var n=[];t.peer_delay.forEach(function(e){var t={};for(var r in e)t[P(r)]=e[r];n.push(t)}),t.peer_delay=n}M.traffic_stats=t,M.traffic_stats.timestamp=Date.now();var o=M.joinInfo.stringUid,i=M.localStreams[a]||M.localStreams[o];i&&(i.traffic_stats={access_delay:t.access_delay}),t.peer_delay&&t.peer_delay.forEach(function(e){var r=M.remoteStreams[e.peer_uid];r&&(r.traffic_stats={access_delay:t.access_delay,e2e_delay:e.e2e_delay,audio_delay:e.audio_delay,video_delay:e.video_delay})}),M.dispatchEvent({type:"after-getTrafficStats",trafficStats:t})})},3e3)},function(t,r){if(v.default.error("[".concat(M.clientId,"] User join failed [").concat(t,"]")),"ERR_JOIN_BY_MULTI_IP"===t){try{y.report.joinGateway(e.sid,{lts:i,succ:!1,ec:"ERR_JOIN_BY_MULTI_IP",addr:M.socket.getURL()})}catch(e){}return M.dispatchEvent({type:"onMultiIP",option:r.option})}w[t]&&M.rejoinAttempt<4?M._doWithAction(w[t],n,o):o&&o(t),y.report.joinGateway(e.sid,{lts:i,succ:!1,ec:t,addr:M.socket&&M.socket.getURL()})})},function(t){v.default.error("[".concat(M.clientId,"] User join failed [").concat(t,"]")),o&&o(t),y.report.joinGateway(e.sid,{lts:i,succ:!1,ec:t,addr:M.socket.getURL()})}),this.remoteMuteState={},M.resetAudioVolumeIndication()},M.leave=function(e,t){var r=B.unregister(M);switch(r&&v.default.debug("[".concat(M.clientId,"] "),r),M.p2ps.clear(),M.state){case g:return v.default.debug("[".concat(M.clientId,"] Client Already in DISCONNECTED status")),void L(e);case C:return v.default.debug("[".concat(M.clientId,"] Client Already in DISCONNECTING status")),void L(t,R.default.INVALID_OPERATION);case _:return M.socket&&M.socket.close(),M.socket=void 0,v.default.info("[".concat(M.clientId,"] Client connecting, Leave channel success")),M.state=g,e&&e()}for(var n in M.state=C,M.channelMediaConfig&&(M.channelMediaRelayController&&M.channelMediaRelayController.dispose(),M.channelMediaConfig,M.channelMediaRelayController=null),clearInterval(M.pingTimer),M.timers)M.timers.hasOwnProperty(n)&&clearInterval(M.timers[n]);for(var n in M.inChannelInfo.joinAt&&(M.inChannelInfo.duration+=Date.now()-M.inChannelInfo.joinAt,M.inChannelInfo.joinAt=null),M.hasJoined?M.makeRequest({_type:"leave"},function(t){M.socket.close(),M.socket=void 0,v.default.info("[".concat(M.clientId,"] Leave channel success")),M.state=g,e&&e(t)},function(e){"TIMEOUT"!==e&&"REQUEST_ABORT"!==e&&(v.default.error("[".concat(M.clientId,"] Leave Channel Failed"),e),M.state=b,t&&t(e))}):(M.socket&&(M.socket.close(),M.socket=void 0),v.default.info("[".concat(M.clientId,"] Leave channel before joined")),M.state=g,e&&e()),M.localStreams)if(M.localStreams.hasOwnProperty(n)){var o=M.localStreams[n];delete M.localStreams[n],void 0!==o.pc&&(o.pc.close(),o.pc=void 0)}G()},M.publish=function(e,t,r,n){var i=(new Date).getTime(),a=!1;if(e.publishLTS=i,"object"!==u()(e)||null===e)return v.default.error("[".concat(M.clientId,"] Invalid local stream")),n&&n(R.default.INVALID_LOCAL_STREAM),void y.report.publish(M.joinInfo.sid,{lts:i,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:R.default.INVALID_LOCAL_STREAM});if(!e.stream&&void 0===e.url)return v.default.error("[".concat(M.clientId,"] Invalid local media stream")),n&&n(R.default.INVALID_LOCAL_STREAM),void y.report.publish(M.joinInfo.sid,{lts:i,succ:!1,audio:!1,video:!1,screenshare:!1,audioName:"",videoName:"",screenName:"",ec:R.default.INVALID_LOCAL_STREAM});if(M.state!==b)return v.default.error("[".concat(M.clientId,"] User is not in the session")),n&&n(R.default.INVALID_OPERATION),void y.report.publish(M.joinInfo.sid,{lts:i,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:R.default.INVALID_OPERATION});var s=e.getAttributes()||{};if(e.local&&void 0===M.localStreams[e.getId()]&&(e.hasAudio()||e.hasVideo()||e.hasScreen())){var l=M.generateP2PId();if(M.p2ps.set(l,e),e.p2pId=l,void 0!==e.url)W(c({state:"url",audio:e.hasAudio(),video:e.hasVideo(),attributes:e.getAttributes()},e.url),function(t,r){"success"===t?(e.getUserId()!==r&&e.setUserId(r),M.localStreams[r]=e,e.onClose=function(){M.unpublish(e)}):v.default.error("[".concat(M.clientId,"] Publish local stream failed"),t)});else{M.localStreams[e.getId()]=e,e.connectionSpec={callback:function(s){"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution"),M.makeRequest(c({state:"offer",stream_type:1==t.streamType?"low":"high",p2p_id:l,sdp:s,audio:e.audio||e.screenAudio,video:e.screen||e.video,screen:e.screen,attributes:e.getAttributes(),dtx:e.DTX,hq:e.highQuality,lq:e.lowQuality,stereo:e.stereo,speech:e.speech,codec:M.codec,extend:Object(S.getParameter)("PUB_EXTEND")}),function(t){e.getUserId()!==t.uid&&e.setUserId(t.uid),v.default.info("[".concat(M.clientId,"] Local stream published with uid"),t.uid),e.onClose=function(){M.unpublish(e)},e._onAudioUnmute=function(){M.makeReport(o({action:"unmute_local_audio",stream_id:e.getId()}))},e._onVideoUnmute=function(){M.makeReport(o({action:"unmute_local_video",stream_id:e.getId()}))},e._onAudioMute=function(){M.makeReport(o({action:"mute_local_audio",stream_id:e.getId()}))},e._onVideoMute=function(){M.makeReport(o({action:"mute_local_video",stream_id:e.getId()}))},e.getId()===e.getUserId()&&(e.isAudioOn()||e.hasAudio()&&(v.default.debug("[".concat(M.clientId,"] local stream audio mute")),e._onAudioMute()),e.isVideoOn()||(e.hasVideo()||e.hasScreen())&&(v.default.debug("[".concat(M.clientId,"] local stream video mute")),e._onVideoMute())),e.pc.oniceconnectionstatechange=function(t){if("failed"===t){if(null!=M.timers[e.getId()]&&(clearInterval(M.timers[e.getId()]),clearInterval(M.timers[e.getId()]+"_RelatedStats")),v.default.error("[".concat(M.clientId,"] Publisher connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(l)),M.p2ps.delete(l),v.default.debug("[".concat(M.clientId,"] publish p2p failed: "),M.p2ps),!a)return a=!0,y.report.publish(M.joinInfo.sid,{lts:i,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:R.default.PEERCONNECTION_FAILED,publishRequestid:M.publishRequestId||0,p2pid:l}),M.dispatchEvent(Object(h.a)({type:"pubP2PLost",stream:e})),n&&n(R.default.PEERCONNECTION_FAILED);M.dispatchEvent(Object(h.a)({type:"pubP2PLost",stream:e}))}else if("connected"===t&&(v.default.debug("[".concat(M.clientId,"] publish p2p connected: "),M.p2ps),e.getId()===e.getUserId()&&(e._isAudioMuted()?M.makeReport(o({action:"mute_local_audio",stream_id:e.getId()})):M.makeReport(o({action:"unmute_local_audio",stream_id:e.getId()})),e._isVideoMuted()?M.makeReport(o({action:"mute_local_video",stream_id:e.getId()})):M.makeReport(o({action:"unmute_local_video",stream_id:e.getId()}))),!a))return a=!0,y.report.publish(M.joinInfo.sid,{lts:i,succ:!0,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:null,publishRequestid:M.publishRequestId||0,p2pid:l}),r&&r()},e.pc.processSignalingMessage(t.sdp)},function(t,r){v.default.error("Publish Failed: ".concat(t)),y.report.publish(M.joinInfo.sid,{lts:i,succ:!1,audio:e.hasAudio(),video:e.hasVideo(),screenshare:e.hasScreen(),audioName:e.hasAudio()&&e.audioName,videoName:e.hasVideo()&&e.videoName,screenName:e.hasScreen()&&e.screenName,ec:t,publishRequestid:M.publishRequestId||0,p2pid:l}),"TIMEOUT"!=t&&(M.processPublishFailure(e),n&&n(t))})},audio:e.hasAudio(),video:e.hasVideo(),screen:e.hasScreen(),optimizationMode:e.optimizationMode,isSubscriber:!1,stunServerUrl:M.stunServerUrl,turnServers:M.joinInfo.turnServers,maxAudioBW:s.maxAudioBW,minVideoBW:s.minVideoBW,maxVideoBW:s.maxVideoBW,mode:M.mode,codec:M.codec,isVideoMute:e.userMuteVideo||e.peerMuteVideo,isAudioMute:e.userMuteAudio||e.peerMuteAudio,maxFrameRate:e.attributes.maxFrameRate,agoraStream:e,clientId:M.clientId},e.pc=Object(A.a)(e.connectionSpec),e.pc.addStream(e.stream),v.default.debug("[".concat(M.clientId,"] PeerConnection add stream :"),e.stream),e.pc.onnegotiationneeded=function(r){"motion"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-framerate"),"detail"===e.optimizationMode&&e.pc.setRtpSenderParameters("maintain-resolution");var n={state:"negotiation",stream_type:1===t.streamType?"low":"high",p2p_id:l,sdp:r};M.makeRequest(c(n),function(t){v.default.debug("Negotating Stream ".concat(e.getId())),e.pc.processSignalingMessage(t.sdp)},function(e,t){v.default.error("Negotiation failed ".concat(e),t,n)})},clearInterval(M.timers[e.getId()]),M.timers[e.getId()]=setInterval(function(){if(Object(S.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate(function(r){r.forEach(function(r){if(r&&r.id&&!(/_recv$/.test(r.id)||/^time$/.test(r.id)||~r.type.toLowerCase().indexOf("inbound"))&&e.getUserId()){if(-1===r.id.indexOf("outbound_rtp")&&-1===r.id.indexOf("OutboundRTP")&&-1===r.type.toLowerCase().indexOf("outbound")||"video"!==r.mediaType||(r.googFrameWidthSent=e.videoWidth+"",r.googFrameHeightSent=e.videoHeight+""),"video"===r.mediaType)try{var n=e.stream.getVideoTracks()[0];r.A_vstd=n.enabled?"0":"1"}catch(e){}if("audio"===r.mediaType)try{var o=e.stream.getAudioTracks()[0];r.A_astd=o.enabled?"0":"1"}catch(e){}if(e.getId()==e.getUserId()){var i=200*t;t++,setTimeout(function(){var e=M.socket&&M.socket.getLastMsgTime()&&Date.now()-M.socket.getLastMsgTime();e>Object(S.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishStats report blocked by REPORT_STATS_TIMEOUT ".concat(e)):M.makeReport(function(e){var t={};return Object.keys(e).forEach(function(r){Object(S.getParameter)("STATS_FILTER")[r]||(t[D(r)]=e[r])}),{_type:"publish_stats",_message:{stream_type:"high",stats:t}}}(r))},i)}else i=200*t,t++,setTimeout(function(){var e=M.socket&&M.socket.getLastMsgTime()&&Date.now()-M.socket.getLastMsgTime();e>Object(S.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishStatsLow report blocked by REPORT_STATS_TIMEOUT ".concat(e)):M.makeReport(function(e){var t={};return Object.keys(e).forEach(function(r){Object(S.getParameter)("STATS_FILTER")[r]||(t[D(r)]=e[r])}),{_type:"publish_stats",_message:{stream_type:"low",stats:t}}}(r))},i)}})})}},3e3);var d=function(){Object(S.getParameter)("REPORT_STATS")&&e&&e.pc&&e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats(function(t){var r,n,o=M.socket&&M.socket.getLastMsgTime()&&Date.now()-M.socket.getLastMsgTime();o>Object(S.getParameter)("REPORT_STATS_TIMEOUT")?v.default.debug("PublishRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(o)):e.getId()===e.getUserId()?M.makeReport((r=t,n={},Object.keys(r).forEach(function(e){Object(S.getParameter)("STATS_FILTER")[e]||(n[D(e)]=r[e])}),{_type:"publish_related_stats",_message:{stream_type:"high",stats:n}})):M.makeReport(function(e){var t={};return Object.keys(e).forEach(function(r){Object(S.getParameter)("STATS_FILTER")[r]||(t[D(r)]=e[r])}),{_type:"publish_related_stats",_message:{stream_type:"low",stats:t}}}(t))})};d(),clearInterval(M.timers[e.getId()+"_RelatedStats"]),M.timers[e.getId()+"_RelatedStats"]=setInterval(d,1e3)}}},M.unpublish=function(e,t,r,n){if("object"!==u()(e)||null===e)return v.default.error("[".concat(M.clientId,"] Invalid local stream")),void L(n,R.default.INVALID_LOCAL_STREAM);if(M.state!==b)return v.default.error("[".concat(M.clientId,"] User not in the session")),void L(n,R.default.INVALID_OPERATION);if(null!=M.timers[e.getId()]&&(clearInterval(M.timers[e.getId()]),clearInterval(M.timers[e.getId()+"_RelatedStats"])),void 0!==M.socket)if(e.local&&void 0!==M.localStreams[e.getId()]){delete M.localStreams[e.getId()];var o={stream_id:e.getUserId(),stream_type:1===t.streamType?"low":"high"};M.makeRequest({_type:"unpublish",_message:o}),(e.hasAudio()||e.hasVideo()||e.hasScreen())&&void 0===e.url&&void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,M.p2ps.delete(e.p2pId),r&&r()}else v.default.error("[".concat(M.clientId,"] Invalid local stream")),L(n,R.default.INVALID_LOCAL_STREAM);else v.default.error("[".concat(M.clientId,"] User not in the session")),L(n,R.default.INVALID_OPERATION)},M.subscribe=function(e,t,r){var n=(new Date).getTime();e.subscribeLTS=n;var i=!1;if(v.default.info("[".concat(M.clientId,"] Gatewayclient ").concat(M.uid," Subscribe ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),"object"!==u()(e)||null===e)return v.default.error("[".concat(M.clientId,"] Invalid remote stream")),r&&r(R.default.INVALID_REMOTE_STREAM),void y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:R.default.INVALID_REMOTE_STREAM});if(M.state!==b&&(v.default.error("[".concat(M.clientId,"] User is not in the session")),!i))return i=!0,y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:R.default.INVALID_OPERATION}),r&&r(R.default.INVALID_OPERATION);if(!e.local&&M.remoteStreams.hasOwnProperty(e.getId()))if(e.hasAudio()||e.hasVideo()||e.hasScreen()){var s=M.generateP2PId();M.p2ps.set(s,e),e.p2pId=s,e.pc=Object(A.a)({callback:function(t){var o={stream_id:e.getId(),audio:!e.subscribeOptions||e.subscribeOptions.audio,video:!e.subscribeOptions||e.subscribeOptions.video,codec:M.codec,p2p_id:s,sdp:t,tcc:Object(S.getParameter)("SUBSCRIBE_TCC"),extend:Object(S.getParameter)("SUB_EXTEND")};M.makeRequest({_type:"subscribe",_message:o},function(t){e.pc.processSignalingMessage(t.sdp)},function(t,o){v.default.error("[".concat(M.clientId,"] Subscribe remote stream Failed: ").concat(t,", closing stream "),e.getId(),o),y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:t}),"TIMEOUT"!=t&&(M.processSubscribeFailure(e),r&&r(t))})},nop2p:!0,audio:!0,video:!0,screen:e.hasScreen(),isSubscriber:!0,stunServerUrl:M.stunServerUrl,turnServers:M.joinInfo.turnServers,isVideoMute:e.userMuteVideo,isAudioMute:e.userMuteAudio,uid:e.getId(),agoraStream:e,clientId:M.clientId}),e.pc.onaddstream=function(t,r){if(e._onAudioUnmute=function(){M.makeReport(o({action:"unmute_remote_audio",stream_id:e.getId()}),function(){},function(){})},e._onAudioMute=function(){M.makeReport(o({action:"mute_remote_audio",stream_id:e.getId()}),function(){},function(){})},e._onVideoUnmute=function(){M.makeReport(o({action:"unmute_remote_video",stream_id:e.getId()}),function(){},function(){})},e._onVideoMute=function(){M.makeReport(o({action:"mute_remote_video",stream_id:e.getId()}),function(){},function(){})},"ontrack"===r&&"video"===t.track.kind||"onaddstream"===r){v.default.info("[".concat(M.clientId,"] Remote stream subscribed with uid "),e.getId());var n=M.remoteStreams[e.getId()];if(M.remoteStreams[e.getId()].stream="onaddstream"===r?t.stream:t.streams[0],M.remoteStreams[e.getId()].hasVideo()){if(Object(O.isFireFox)()||Object(O.isSafari)()){var i=M.remoteStreams[e.getId()].stream;Object(E.vsResHack)(i,function(t,r){e.videoWidth=t,e.videoHeight=r},function(e){return v.default.warning("[".concat(M.clientId,"] vsResHack failed: ")+e)})}}else{var a=M.remoteStreams[e.getId()];a.peerMuteVideo=!0,M._adjustPCMuteStatus(a)}n&&n.isPlaying()&&n.elementID&&(v.default.debug("[".concat(M.clientId,"] Reload Player ").concat(n.elementID," StreamId ").concat(n.getId())),e.audioOutput=n.audioOutput,n.stop(),e.play(n.elementID,n.playOptions)),delete e.audioLevelHelper;var s=Object(h.e)({type:"stream-subscribed",stream:M.remoteStreams[e.getId()]});M.dispatchEvent(s)}},clearInterval(M.timers[e.getId()]),M.timers[e.getId()]=setInterval(function(){if(Object(S.getParameter)("REPORT_STATS")){var t=0;e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate(function(r){r.forEach(function(r){if(r&&r.id){if(/_send$/.test(r.id)||/^time$/.test(r.id)||/^bweforvideo$/.test(r.id))return;-1===r.id.indexOf("inbound_rtp")&&-1===r.id.indexOf("inbound-rtp")&&-1===r.type.toLowerCase().indexOf("inbound")||"video"!==r.mediaType||(r.googFrameWidthReceived=e.videoWidth+"",r.googFrameHeightReceived=e.videoHeight+"");var n=200*t;t++;var o=e.getId();setTimeout(function(){var t=M.socket&&M.socket.getLastMsgTime()&&Date.now()-M.socket.getLastMsgTime();if(t>Object(S.getParameter)("REPORT_STATS_TIMEOUT"))v.default.debug("SubscribeStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));else{if("video"===r.mediaType)try{var n=e.stream.getVideoTracks()[0];r.A_vrtd=n.enabled?"0":"1",e.player&&e.player.freezeTimeCounterList.length>0&&(r.A_vrft=e.player.freezeTimeCounterList.splice(0,1)[0].toString())}catch(e){}if("audio"===r.mediaType)try{var i=e.stream.getAudioTracks()[0];r.A_artd=i.enabled?"0":"1"}catch(e){}M.makeReport(l(o,r))}},n)}})})}},3e3),clearInterval(M.timers[e.getId()+"_RelatedStats"]),M.timers[e.getId()+"_RelatedStats"]=setInterval(function(){if(Object(S.getParameter)("REPORT_STATS")&&e&&e.pc){var t=M.socket&&M.socket.getLastMsgTime()&&Date.now()-M.socket.getLastMsgTime();if(t>Object(S.getParameter)("REPORT_STATS_TIMEOUT"))return void v.default.debug("SubscribeRelatedStats report blocked by REPORT_STATS_TIMEOUT ".concat(t));e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats(function(t){e.player&&(e.hasVideo()&&!e.peerMuteVideo&&(t.isFreeze=e.player.freezeCount>e.player.lastFreezeCount),e.player.lastFreezeCount=e.player.freezeCount),M.makeReport(a(e.getId(),t))}),e.pc.getAudioRelatedStats&&e.pc.getAudioRelatedStats(function(t){M.makeReport(a(e.getId(),t))})}},1e3),M.audioLevel[e.getId()]=0,clearInterval(M.timers[e.getId()+"audio"]),M.timers[e.getId()+"audio"]=setInterval(function(){M.hasListeners("active-speaker")&&e&&e.pc&&"established"===e.pc.state&&e.pc.getStats&&e.pc.getStats(function(t){t.forEach(function(t){if("audio"===t.mediaType){if(t.audioOutputLevel>5e3)for(var r in M.audioLevel[e.getId()]<20&&(M.audioLevel[e.getId()]+=1),M.audioLevel)r!==""+e.getId()&&M.audioLevel[r]>0&&(M.audioLevel[r]-=1);var n=Object.keys(M.audioLevel).sort(function(e,t){return M.audioLevel[t]-M.audioLevel[e]});if(M.activeSpeaker!==n[0]){var o=Object(h.a)({type:"active-speaker",uid:n[0]});M.dispatchEvent(o),M.activeSpeaker=n[0],v.default.debug("[".concat(M.clientId,"] Update active speaker: ").concat(M.activeSpeaker))}}})},50)},50),e.pc.oniceconnectionstatechange=function(o){if("failed"===o)null!=M.timers[e.getId()]&&(clearInterval(M.timers[e.getId()]),clearInterval(M.timers[e.getId()]+"audio")),v.default.error("[".concat(M.clientId,"] Subscriber connection is lost -- streamId: ").concat(e.getId(),", p2pId: ").concat(s)),v.default.debug("[".concat(M.clientId,"] subscribe p2p failed: "),M.p2ps),i||(i=!0,r&&r(R.default.PEERCONNECTION_FAILED),y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:R.default.PEERCONNECTION_FAILED,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:s})),M.remoteStreams[e.getId()]&&M.p2ps.has(s)&&(M.p2ps.delete(s),M.dispatchEvent(Object(h.a)({type:"subP2PLost",stream:e})));else if("connected"===o&&(v.default.debug("[".concat(M.clientId,"] subscribe p2p connected: "),M.p2ps),!i)){i=!0,y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:s}),M._adjustPCMuteStatus(e);var a=!1,c=!1,u=!1,l=setInterval(function(){a&&c||(e.pc?e.pc.getStats(function(t){t.forEach(function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"audio"===t.mediaType){if((t.googDecodingNormal>0||t.audioOutputLevel>0)&&!a){a=!0,M.dispatchEvent({type:"first-audio-frame-decode",stream:e}),a&&c&&clearInterval(l);var r=Date.now(),n=y.report.getSessionStartTime(M.joinInfo.sid);y.report.firstAudioDecode(M.joinInfo.sid,{peerid:e.uintId,uid:M.uid,elapse:r-n,subscribeElapse:r-e.subscribeLTS,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:s})}parseInt(t.packetsReceived)>0&&!c&&(c=!0,M.dispatchEvent({type:"first-audio-packet-received",stream:e}),a&&c&&clearInterval(l),r=Date.now(),n=y.report.getSessionStartTime(M.joinInfo.sid),y.report.firstAudioReceived(M.joinInfo.sid,{peerid:e.uintId,uid:M.uid,elapse:r-n,subscribeElapse:r-e.subscribeLTS,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:s}))}})},100):clearInterval(l))},100),d=!1,g=!1,p=setInterval(function(){d&&g||(e.pc?e.pc.getStats(function(t){t.forEach(function(t){if((-1!==t.id.indexOf("recv")||t.type&&-1!==t.type.toLowerCase().indexOf("inbound")||-1!==t.id.indexOf("inbound_rtp")||-1!==t.id.indexOf("inbound-rtp")||-1!==t.id.indexOf("InboundRTP"))&&"video"===t.mediaType){if((t.framesDecoded>0||t.googFramesDecoded>0)&&!d){d=!0,M.dispatchEvent({type:"first-video-frame-decode",stream:e}),d&&g&&clearInterval(p);var r=Date.now(),n=y.report.getSessionStartTime(M.joinInfo.sid);e.firstFrameTime=(new Date).getTime()-e.subscribeLTS,y.report.firstVideoDecode(M.joinInfo.sid,{peerid:e.uintId,width:parseInt(t.googFrameWidthReceived)||0,height:parseInt(t.googFrameHeightReceived)||0,uid:M.uid,elapse:r-n,subscribeElapse:r-e.subscribeLTS,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:s})}t.packetsReceived>0&&!g&&(g=!0,M.dispatchEvent({type:"first-video-packet-received",stream:e}),d&&g&&clearInterval(p),r=Date.now(),n=y.report.getSessionStartTime(M.joinInfo.sid),y.report.firstVideoReceived(M.joinInfo.sid,{peerid:e.uintId,uid:M.uid,elapse:r-n,subscribeElapse:r-e.subscribeLTS,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:s}))}})},100):clearInterval(p))},100),f=setInterval(function(){if(!u){var t=e.getId(),r=M.traffic_stats;if(r&&r.peer_delay){var n=r.peer_delay.find(function(e){return e.peer_uid==t});if(n){if(u=!0,M.peerPublishDurationMap.get(e.getId()))return void clearInterval(f);var o=n.peer_publish_audio_duration,i=n.peer_publish_video_duration;if(void 0===o||void 0===i)return;M.peerPublishDurationMap.set(e.getId(),!0);var a=y.report.getSessionStartTime(M.joinInfo.sid),s=(o||i)+(Date.now()-r.timestamp),c=Date.now();y.report.peerPublishStatus({audiotag:o?1:-1,videotag:i?1:-1,lts:c,sid:M.joinInfo.sid,cname:M.joinInfo.cname,cid:M.joinInfo.cid,uid:M.joinInfo.uid,elapse:c-a,peer:e.uintId,peerPublishDuration:s,joinChannelSuccessElapse:c-M.joinSuccessLts,subscribeElapse:c-e.subscribeLTS}),clearInterval(f)}}}},1e3);return e.sid=M.joinInfo.sid,t&&t()}}}else v.default.error("[".concat(M.clientId,"] Invalid remote stream")),i||(i=!0,r&&r(R.default.INVALID_REMOTE_STREAM),y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:R.default.INVALID_REMOTE_STREAM}));else v.default.error("[".concat(M.clientId,"] No such remote stream")),i||(i=!0,r&&r(R.default.NO_SUCH_REMOTE_STREAM),y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!1,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:R.default.NO_SUCH_REMOTE_STREAM}))},M.subscribeChange=function(e,t,r){var n=Date.now();v.default.info("[".concat(M.clientId,"] Gatewayclient ").concat(M.uid," SubscribeChange ").concat(e.getId(),": ").concat(JSON.stringify(e.subscribeOptions))),M._adjustPCMuteStatus(e);var o={stream_id:e.getId(),audio:e.subscribeOptions.audio,video:e.subscribeOptions.video};M.makeRequest({_type:"subscribe_change",_message:o},function(r){var o=Object(h.e)({type:"stream-subscribe-changed",stream:M.remoteStreams[e.getId()]});y.report.subscribe(M.joinInfo.sid,{lts:n,succ:!0,video:e.subscribeOptions&&e.subscribeOptions.video,audio:e.subscribeOptions&&e.subscribeOptions.audio,peerid:e.getId(),ec:null,subscribeRequestid:M.subscribeRequestId.get(e.getId())||0,p2pid:M.p2ps.get(e.getId())}),M.dispatchEvent(o),t&&t()},function(t,n){v.default.error("[".concat(M.clientId,"] Subscribe Change Failed ").concat(e.getId()),t,n),r&&r(t,n)})},M.processPublishFailure=function(e){e.publishLTS=null,e.p2pId&&M.p2ps.get(e.p2pId)===e&&M.p2ps.delete(e.p2pId),M.localStreams[e.getUserId()]===e&&delete M.localStreams[e.getUserId()],M.localStreams[e.getId()]===e&&delete M.localStreams[e.getId()],e.pc&&(e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},M.processSubscribeFailure=function(e){e.p2pId&&M.p2ps.get(e.p2pId)===e&&M.p2ps.delete(e.p2pId),e.pc&&(e.pc.onaddstream=function(){},e.pc.processSignalingMessage=function(){},e.pc.oniceconnectionstatechange=function(){},e.pc.close(),delete e.pc),delete e.onClose,delete e._onAudioUnmute,delete e._onVideoUnmute,delete e._onAudioMute,delete e._onVideoMute,delete e._onAudioUnmute},M._adjustPCMuteStatus=function(e){v.default.debug("[".concat(M.clientId,"]: use _adjustPCMuteStatus: ").concat(e.getId())),!e.local&&e.pc&&e.pc.peerConnection.getReceivers&&e.pc.peerConnection.getReceivers().forEach(function(t){if(t&&t.track&&"audio"===t.track.kind){var r=!e.userMuteAudio&&!e.peerMuteAudio;e.subscribeOptions&&!e.subscribeOptions.audio&&(r=!1),v.default.debug("[".concat(M.clientId,"]: set receiver audio track: ").concat(r)),t.track.enabled=!!r}else if(t&&t.track&&"video"===t.track.kind){var n=!e.userMuteVideo&&!e.peerMuteVideo;e.subscribeOptions&&!e.subscribeOptions.video&&(n=!1),v.default.debug("[".concat(M.clientId,"]: set receiver video track: ").concat(n)),t.track.enabled=!!n}})},M.unsubscribe=function(e,t,r){if("object"!==u()(e)||null===e)return v.default.error("[".concat(M.clientId,"] Invalid remote stream")),void L(r,R.default.INVALID_REMOTE_STREAM);if(M.state!==b)return v.default.error("[".concat(M.clientId,"] User is not in the session")),void L(r,R.default.INVALID_OPERATION);if(null!=M.timers[e.getId()]&&(clearInterval(M.timers[e.getId()]),clearInterval(M.timers[e.getId()]+"audio")),null!=M.audioLevel[e.getId()]&&delete M.audioLevel[e.getId()],null!=M.timer_counter[e.getId()]&&delete M.timer_counter[e.getId()],M.remoteStreams.hasOwnProperty(e.getId())){if(!M.socket)return v.default.error("[".concat(M.clientId,"] User is not in the session")),void L(r,R.default.INVALID_OPERATION);if(e.local)return v.default.error("[".concat(M.clientId,"] Invalid remote stream")),void L(r,R.default.INVALID_REMOTE_STREAM);e.close(),e.stop();var n={stream_id:e.getId()};M.makeRequest({_type:"unsubscribe",_message:n}),void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e._onAudioMute=void 0,e._onAudioUnute=void 0,e._onVideoMute=void 0,e._onVideoUnmute=void 0,delete e.subscribeOptions,M.p2ps.delete(e.p2pId),v.default.info("[".concat(M.clientId,"] Unsubscribe stream success")),t&&t()}else L(r,R.default.NO_SUCH_REMOTE_STREAM)},M.setRemoteVideoStreamType=function(e,t){if(v.default.debug("[".concat(M.clientId,"] Switching remote video stream ").concat(e.getId()," to ").concat(t)),"object"===u()(e)&&null!==e)if(M.state===b){if(!e.local){switch(t){case M.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_HIGH:case M.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_LOW:case M.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_MEDIUM:break;default:return}var r={stream_id:e.getId(),stream_type:t};M.makeRequest({_type:"switch_video_stream",_message:r},function(){v.default.debug("SwitchVideoStream Success ".concat(r.stream_id," ").concat(r.stream_type))},function(e,t){v.default.error("SwitchVideoStream Error ".concat(e," ").concat(r.stream_id," ").concat(r.stream_type),t)})}}else v.default.error("[".concat(M.clientId,"] User is not in the session"));else v.default.error("[".concat(M.clientId,"] Invalid remote stream"))},M.renewToken=function(e,t,r){e?M.key?M.state!==b?(v.default.debug("[".concat(M.clientId,"] Client is not connected. Trying to rejoin")),M.key=e,M.rejoin(),t&&t()):(v.default.debug("[".concat(M.clientId,"] renewToken from ").concat(M.key," to ").concat(e)),M.makeRequest({_type:"renew_token",_message:{token:e}},t,r)):(v.default.error("[".concat(M.clientId,"] Client is previously joined without token")),r&&r(R.default.INVALID_PARAMETER)):(v.default.error("[".concat(M.clientId,"] Invalid Token ").concat(e)),r&&r(R.default.INVALID_PARAMETER))},M.setStreamFallbackOption=function(e,t){if(v.default.debug("[".concat(M.clientId,"] Set stream fallback option ").concat(e.getId()," to ").concat(t)),"object"===u()(e)&&null!==e)if(M.state===b){if(!e.local){switch(t){case M.streamFallbackTypes.STREAM_FALLBACK_OPTION_DISABLED:case M.streamFallbackTypes.STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:case M.streamFallbackTypes.STREAM_FALLBACK_OPTION_AUDIO_ONLY:break;default:return}var r={stream_id:e.getId(),fallback_type:t};M.makeRequest({_type:"set_fallback_option",_message:r},function(){v.default.debug("SetStreamFallbackOption success ".concat(r.stream_id," ").concat(t))},function(e,n){v.default.error("Failed to SetStreamFallbackOption ".concat(r.stream_id," ").concat(t," ").concat(e),n)})}}else v.default.error("[".concat(M.clientId,"] User is not in the session"));else v.default.error("[".concat(M.clientId,"] Invalid remote stream"))},M.enableAudioVolumeIndicator=function(e,t){M.audioVolumeIndication.enabled=!0,M.audioVolumeIndication.interval=e,M.audioVolumeIndication.smooth=t,M.resetAudioVolumeIndication()},M.resetAudioVolumeIndication=function(){if(clearInterval(M.timers.audioVolumeIndication),clearInterval(M.timers.audioVolumeSampling),M.audioVolumeIndication.enabled&&M.audioVolumeIndication.interval){var e=Math.floor(1e3*M.audioVolumeIndication.smooth/100);clearInterval(M.timers.audioVolumeSampling),M.timers.audioVolumeSampling=setInterval(function(){M.audioVolumeSampling||(M.audioVolumeSampling={});var t={};for(var r in M.remoteStreams){var n=M.remoteStreams[r];if(n.stream&&n.hasAudio()){var o=n.getAudioLevel();o>0&&o<1&&(o*=100);var i=M.audioVolumeSampling[r]||[];for(i.push(o);i.length>e;)i.shift();t[r]=i}}M.audioVolumeSampling=t},100),clearInterval(M.timers.audioVolumeIndication),M.timers.audioVolumeIndication=setInterval(function(){if(M.socket&&M.socket.signal&&M.socket.signal.connection&&M.socket.signal.connection.readyState===WebSocket.OPEN){var e=[];for(var t in M.remoteStreams)if(M.audioVolumeSampling&&M.audioVolumeSampling[t]){var r=M.audioVolumeSampling[t],n=0;r.forEach(function(e){n+=e});var o={uid:t,level:Math.floor(n/r.length)};o.level&&e.push(o)}var i=e.sort(function(e,t){return e.level-t.level});v.default.debug("[".concat(M.clientId,"] volume-indicator "),JSON.stringify(i)),M.audioVolumeIndication.sortedAudioVolumes=i;var a=Object(h.a)({type:"volume-indicator",attr:i});M.dispatchEvent(a)}},M.audioVolumeIndication.interval)}},M.closeGateway=function(){v.default.debug("[".concat(M.clientId,"] close gateway")),M.state=g,M.socket.close(),V()},M.startChannelMediaRelay=function(){var e=s()(i.a.mark(function e(t){var r,n,o,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!M.channelMediaRelayController){e.next=2;break}throw new k.ChannelMediaError("RELAY_ALREADY_START","",k.CHANNEL_MEDIA_RELAY_ERROR.RELAY_ALREADY_START);case 2:return r=function(e){M.dispatchEvent({type:"channel-media-relay-event",code:e})},n=function(e,t,r){e===k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE&&t===k.CHANNEL_MEDIA_RELAY_ERROR.SERVER_CONNECTION_LOST&&(M.channelMediaRelayController.dispose(),M.channelMediaRelayController=null),M.dispatchEvent({type:"channel-media-relay-state",state:e,code:t,data:r})},M.channelMediaRelayController=new x.a(M.joinInfo,M.clientId),M.channelMediaRelayController.on("event",r),M.channelMediaRelayController.on("state",n),e.prev=7,e.next=10,M.channelMediaRelayController.startChannelMediaRelay(t);case 10:e.next=22;break;case 12:throw e.prev=12,e.t0=e.catch(7),v.default.debug("[".concat(M.clientId,"] startChannelMediaRelay exception: ").concat(JSON.stringify(e.t0))),o=k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,a="",a=e.t0 instanceof k.ChannelMediaError?"SetSourceChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetSourceChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_SRC":"SetDestChannelStatus"===e.t0.data||e.t0.data&&e.t0.data.serverResponse&&"SetDestChannel"===e.t0.data.serverResponse.command?"FAILED_JOIN_DEST":e.t0.data&&e.t0.data.serverResponse&&"StartPacketTransfer"===e.t0.data.serverResponse.command?"FAILED_PACKET_SENT_TO_DEST":e.t0.message===k.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.t0.message===k.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.t0.message===k.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.t0.message===k.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.t0.message===k.CHANNEL_MEDIA_ERROR.AP_REQUEST_TIMEOUT?"NO_RESOURCE_AVAILABLE":e.t0.message===k.CHANNEL_MEDIA_ERROR.WS_ABORT||e.t0.message===k.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",M.dispatchEvent({type:"channel-media-relay-state",state:o,code:k.CHANNEL_MEDIA_RELAY_ERROR[a]}),M.channelMediaRelayController&&(M.channelMediaRelayController.dispose(),M.channelMediaConfig=null,M.channelMediaRelayController=null),M.dispatchEvent({type:"channel-media-relay-state",state:k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new k.ChannelMediaError(a,null,k.CHANNEL_MEDIA_RELAY_ERROR[a]);case 22:M.dispatchEvent({type:"channel-media-relay-state",state:k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_RUNNING,code:k.CHANNEL_MEDIA_RELAY_ERROR.RELAY_OK}),M.channelMediaConfig=t;case 24:case"end":return e.stop()}},e,null,[[7,12]])}));return function(t){return e.apply(this,arguments)}}(),M.updateChannelMediaRelay=function(){var t=s()(i.a.mark(function t(r){var n,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(M.channelMediaRelayController){t.next=2;break}throw new k.ChannelMediaError("RELAY_NOT_START",null,k.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,M.channelMediaRelayController.updateChannelMediaRelay(r);case 5:t.next=18;break;case 7:throw t.prev=7,t.t0=t.catch(2),v.default.debug("[".concat(M.clientId,"] updateChannelMediaRelay exception: ").concat(JSON.stringify(e))),n=k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,o="",o=e instanceof k.ChannelMediaError?e.message===k.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===k.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===k.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===k.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":e.message===k.CHANNEL_MEDIA_ERROR.WS_ABORT||e.message===k.CHANNEL_MEDIA_ERROR.AP_REQUEST_ABORT?"OPERATION_ABORT":"INTERNAL_ERROR":"INTERNAL_ERROR",M.dispatchEvent({type:"channel-media-relay-event",code:k.CHANNEL_MEDIA_RELAY_EVENT.PACKET_UPDATE_DEST_CHANNEL_REFUSED}),M.dispatchEvent({type:"channel-media-relay-state",state:n,code:k.CHANNEL_MEDIA_RELAY_ERROR[o]}),M.channelMediaRelayController&&(M.channelMediaRelayController.dispose(),M.channelMediaConfig=null,M.channelMediaRelayController=null),M.dispatchEvent({type:"channel-media-relay-state",state:k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new k.ChannelMediaError(o,null,k.CHANNEL_MEDIA_RELAY_ERROR[o]);case 18:M.channelMediaConfig=r;case 19:case"end":return t.stop()}},t,null,[[2,7]])}));return function(e){return t.apply(this,arguments)}}(),M.stopChannelMediaRelay=s()(i.a.mark(function t(){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(M.channelMediaRelayController){t.next=2;break}throw new k.ChannelMediaError("RELAY_NOT_START",null,k.CHANNEL_MEDIA_RELAY_ERROR.RELAY_NOT_START);case 2:return t.prev=2,t.next=5,M.channelMediaRelayController.stopChannelMediaRelay();case 5:t.next=17;break;case 7:throw t.prev=7,t.t0=t.catch(2),v.default.debug("[".concat(M.clientId,"] stopChannelMediaRelay exception: ").concat(JSON.stringify(e))),r=k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_FAILURE,n="",n=e instanceof k.ChannelMediaError?e.message===k.CHANNEL_MEDIA_ERROR.REQUEST_TIMEOUT||e.message===k.CHANNEL_MEDIA_ERROR.WAIT_STATUS_TIMEOUT?"SERVER_NO_RESPONSE":e.message===k.CHANNEL_MEDIA_ERROR.REQUEST_FAILED||e.message===k.CHANNEL_MEDIA_ERROR.WAIT_STATUS_ERROR?"SERVER_ERROR_RESPONSE":"INTERNAL_ERROR":"INTERNAL_ERROR",M.dispatchEvent({type:"channel-media-relay-state",state:r,code:k.CHANNEL_MEDIA_RELAY_ERROR[n]}),M.channelMediaRelayController&&(M.channelMediaRelayController.dispose(),M.channelMediaConfig=null,M.channelMediaRelayController=null),M.dispatchEvent({type:"channel-media-relay-state",state:k.CHANNEL_MEDIA_RELAY_STATE.RELAY_STATE_IDLE}),new k.ChannelMediaError(n,null,k.CHANNEL_MEDIA_RELAY_ERROR[n]);case 17:M.channelMediaConfig=null,M.channelMediaRelayController=null;case 19:case"end":return t.stop()}},t,null,[[2,7]])})),M.sendMetadata=function(e,t){M.makeRequest(function(e){return{_type:"send_metadata",_message:{session_id:M.joinInfo.sid,metadata:window.btoa(unescape(encodeURIComponent(e)))}}}(e),function(){v.default.debug("[".concat(M.clientId,'] send metadata "').concat(e,'" success')),t&&t(null)},function(r){v.default.error("[".concat(M.clientId,'] send metadata "').concat(e,'" failed'),r),t&&t(r)})};var U=function(){v.default.debug("[".concat(M.clientId,"] Reconnect gateway")),M.state=g,M.socket.close(),V(),M.reconnectMode="recover",M.state=_,$()};M.recover=U;var V=function(){for(var e in M.dispatchEvent({type:"before-clear-connection"}),M.timers)M.timers.hasOwnProperty(e)&&clearInterval(M.timers[e]);for(var e in M.remoteStreams)if(M.remoteStreams.hasOwnProperty(e)){var t=M.remoteStreams[e],r=Object(h.a)({type:"stream-removed",uid:t.getId(),stream:t});M.dispatchEvent(r)}M.p2ps.clear(),G(),H(),clearInterval(M.pingTimer)};M.rejoin=function(){M.socket&&(clearInterval(M.pingTimer),M.socket.close(),M.socket=void 0),M.state=_,$()};var $=function(e,t){M.dispatchEvent(Object(h.a)({type:"rejoin-start"})),e=e||function(e){v.default.info("[".concat(M.clientId,"] User ").concat(e," is re-joined to ").concat(M.joinInfo.cname)),M.dispatchEvent(Object(h.a)({type:"rejoin"})),M.channelMediaConfig&&M.startChannelMediaRelay(M.channelMediaConfig).then(function(){v.default.debug("[".concat(M.clientId,"] restartChannelMediaRelay success"))}).catch(function(e){v.default.debug("[".concat(M.clientId,"] restartChannelMediaRelay failed: ").concat(JSON.stringify(e)))}),M.liveStreams&&M.liveStreams.size&&M.liveStreams.forEach(function(e,t){e&&M.setLiveTranscoding(M.transcoding),M.startLiveStreaming(t,e)}),M.injectLiveStreams&&M.injectLiveStreams.size&&M.injectLiveStreams.forEach(function(e,t){M.addInjectStreamUrl(t,e)})},t=t||function(e){v.default.error("[".concat(M.clientId,"] Re-join to channel failed "),e),M.dispatchEvent(Object(h.e)({type:"error",reason:e}))},M.key?(++M.rejoinAttempt,M.join(M.joinInfo,M.key,e,t)):v.default.error("[".concat(M.clientId,"] Connection recover failed [Invalid channel key]"))},F=function(e,t,r){if(M.onConnect=t,M.socket){if(M.dispatchEvent({type:"reconnect"}),"retry"===M.reconnectMode)v.default.debug("[".concat(M.clientId,"] Retry current gateway")),M.socket.reconnect();else if("tryNext"===M.reconnectMode)v.default.debug("[".concat(M.clientId,"] Try next gateway")),M.socket.connectNext();else if("recover"===M.reconnectMode){v.default.debug("[".concat(M.clientId,"] Recover gateway")),v.default.debug("[".concat(M.clientId,"] Try to reconnect choose server and get gateway list again ")),M.reconnectingCS=!0;var o=M.joinInfo&&M.joinInfo.sid;Object(I.getGatewayList)(M.joinInfo,function(e){v.default.debug("[".concat(M.clientId,"] session:  ").concat(o," get gateway list success")),M.joinInfo.apResponse=e.res,M.reconnectingCS?M.socket.replaceHost(e.gateway_addr):v.default.debug("[".concat(M.clientId,"] session:  ").concat(o," already leave"))})}}else i=e.gatewayAddr,M.socket=T(i,{sid:M.joinInfo.sid,clientId:M.clientId}),M.socket.on("start-connection",function(e){M.ticket=e&&e.msg&&e.msg.ticket}),M.socket.on("on_uplink_stats",function(e){var t={};for(var r in e)t[P(r)]=e[r];if(M.OutgoingAvailableBandwidth=t.uplink_available_bandwidth,M.localStreams[M.uid]){var n=M.localStreams[M.uid].uplinkStats;n&&n.period_fir===t.period_fir||v.default.debug("[".concat(M.clientId,"]: Period fir change to: ").concat(t.period_fir)),M.localStreams[M.uid].uplinkStats=t}}),M.socket.on("connect",function(){M.dispatchEvent({type:"connected"}),M.attemps=1,M.onConnect()}),M.socket.on("recover",function(){M.state=_,v.default.debug("[".concat(M.clientId,"] Try to reconnect choose server and get gateway list again ")),M.reconnectingCS=!0;var e=M.joinInfo&&M.joinInfo.sid;Object(I.getGatewayList)(M.joinInfo,function(t){v.default.debug("[".concat(M.clientId,"] session:  ").concat(e," get gateway list success")),M.reconnectingCS?M.socket.replaceHost(t.gateway_addr):v.default.debug("[".concat(M.clientId,"] session:  ").concat(e," already leave"))})}),M.socket.on("disconnect",function(e){if(v.default.debug("[".concat(M.clientId,"] Receive disconnect message")),M.state!==g){M.state=g;var t=Object(h.e)({type:"error",reason:R.default.SOCKET_DISCONNECTED});if(M.dispatchEvent(t),0===M.p2ps.size?M.reconnectMode="tryNext":M.reconnectMode="retry",V(),M.channelMediaRelayController&&M.channelMediaRelayController.dispose(),M.channelMediaRelayController=null,1!=n){var r,o=(r=M.attemps,1e3*Math.min(30,Math.pow(2,r)-1));if(v.default.error("[".concat(M.clientId,"] Disconnect from server [").concat(JSON.stringify(e),"], attempt to recover [#").concat(M.attemps,"] after ").concat(o/1e3," seconds")),M.hasInvokeLeave)return v.default.debug("[".concat(M.clientId,"] No reconnection because Client.leave has been invoked")),void(M.hasInvokeLeave=!1);setTimeout(function(){M.attemps++,M.state=_,M.inChannelInfo&&Date.now()-M.inChannelInfo.joinAt>Object(S.getParameter)("TICKET_RENEW_TIMEOUT")?(v.default.debug("Recovering to renew ticket"),U()):$()},o)}}}),M.socket.on("on_add_audio_stream",function(e){if(v.default.info("[".concat(M.clientId,"] Newly added audio stream with uid ").concat(e.uid)),M.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),M.remoteStreamsInChannel.has(e.uid)||M.remoteStreamsInChannel.add(e.uid),void 0===M.remoteStreams[e.uid]){var t=Object(f.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});t.peerMuteVideo=!0,M.remoteStreams[e.uid]=t;var r=Object(h.e)({type:"stream-added",stream:t});M.dispatchEvent(r);var n=M.remoteMuteState[e.uid];n&&n.audio&&(r=Object(h.a)({type:"mute-audio",uid:e.uid}),M.dispatchEvent(r)),n&&n.video&&(r=Object(h.a)({type:"mute-video",uid:e.uid}),M.dispatchEvent(r))}y.report.onAddAudioStream(M.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:M.uid})}),M.socket.on("on_update_stream",function(e){var t=M.remoteStreams[e.uid];if(M.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),t){t.audio=e.audio,t.video=e.video,t.screen=e.screen,t.pc&&M._adjustPCMuteStatus(t);var r=Object(h.e)({type:"stream-updated",stream:t});M.dispatchEvent(r)}else v.default.debug("[".concat(M.clientId,"] Ignoring onUpdateStream event before onAddStream for uid ").concat(e.uid));y.report.onUpdateStream(M.joinInfo.sid,{peerid:e.uint_id||e.uid,audio:e.audio,video:e.video,uid:M.uid})}),M.socket.on("on_add_video_stream",function(e){if(v.default.info("[".concat(M.clientId,"] Newly added remote stream with uid ").concat(e.uid,".")),M.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),M.remoteStreamsInChannel.has(e.uid)||M.remoteStreamsInChannel.add(e.uid),void 0===M.remoteStreams[e.uid]){var t=Object(f.a)({streamID:e.uid,local:!1,audio:e.audio,video:e.video,uintUID:e.uint_id||e.uid});M.remoteStreams[e.uid]=t;var r=Object(h.e)({type:"stream-added",stream:t});M.dispatchEvent(r);var n=M.remoteMuteState[e.uid];n&&n.audio&&(r=Object(h.a)({type:"mute-audio",uid:e.uid}),M.dispatchEvent(r)),n&&n.video&&(r=Object(h.a)({type:"mute-video",uid:e.uid}),M.dispatchEvent(r))}else{var o=M.remoteStreams[e.uid];if(o.video=!0,o.peerMuteVideo=!1,o.pc&&M._adjustPCMuteStatus(o),v.default.info("[".concat(M.clientId,"] Stream changed: enable video ").concat(e.uid)),void 0!==o.stream&&o.isPlaying()){var i=o.player.elementID;o.stop(),o.play(i,o.playOptions)}}y.report.onAddVideoStream(M.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:M.uid})}),M.socket.on("on_remove_stream",function(e){M.remoteStreamsInChannel.has(e.uid)&&M.remoteStreamsInChannel.delete(e.uid);var t=M.remoteStreams[e.uid];if(t){delete M.remoteStreams[e.uid],delete M.remoteMuteState[e.uid];var r=Object(h.e)({type:"stream-removed",stream:t});M.dispatchEvent(r),t.close(),void 0!==t.pc&&(t.pc.close(),t.pc=void 0,M.p2ps.delete(t.p2pId)),y.report.onRemoveStream(M.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:M.uid})}else v.default.error("ERROR stream ",e.uid," not found onRemoveStream ",e)}),M.socket.on("on_publish_stream",function(e){var t=M.localStreams[e.uid],r=Object(h.e)({type:"streamPublished",stream:t});M.dispatchEvent(r)}),M.socket.on("mute_audio",function(e){v.default.info("[".concat(M.clientId,"] rcv peer mute audio: ").concat(e.uid)),M.remoteMuteState[e.uid]=M.remoteMuteState[e.uid]||{audio:!1,video:!1},M.remoteMuteState[e.uid].audio=!0;var t=Object(h.a)({type:"mute-audio",uid:e.uid}),r=M.remoteStreams[e.uid];r?(r.peerMuteAudio=!0,r.pc&&M._adjustPCMuteStatus(r),M.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)}),M.socket.on("unmute_audio",function(e){v.default.info("[".concat(M.clientId,"] rcv peer unmute audio: ").concat(e.uid)),M.remoteMuteState[e.uid]=M.remoteMuteState[e.uid]||{audio:!1,video:!1},M.remoteMuteState[e.uid].audio=!1;var t=Object(h.a)({type:"unmute-audio",uid:e.uid}),r=M.remoteStreams[e.uid];r?(r.peerMuteAudio=!1,r.pc&&M._adjustPCMuteStatus(r),M.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)}),M.socket.on("mute_video",function(e){v.default.info("[".concat(M.clientId,"] rcv peer mute video: ").concat(e.uid)),M.remoteMuteState[e.uid]=M.remoteMuteState[e.uid]||{audio:!1,video:!1},M.remoteMuteState[e.uid].video=!0;var t=Object(h.a)({type:"mute-video",uid:e.uid}),r=M.remoteStreams[e.uid];r?(r.peerMuteVideo=!0,r.player&&(r.player.peerVideoReady=!1),r.pc&&M._adjustPCMuteStatus(r),M.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)}),M.socket.on("unmute_video",function(e){v.default.info("[".concat(M.clientId,"] rcv peer unmute video: ").concat(e.uid)),M.remoteMuteState[e.uid]=M.remoteMuteState[e.uid]||{audio:!1,video:!1},M.remoteMuteState[e.uid].video=!1;var t=Object(h.a)({type:"unmute-video",uid:e.uid}),r=M.remoteStreams[e.uid];r?(r.peerMuteVideo=!1,r.pc&&M._adjustPCMuteStatus(r),M.dispatchEvent(t)):v.default.debug("Ignoring event ".concat(e.type),e)}),M.socket.on("on_crypt_error",function(e){v.default.warning("[".concat(M.clientId,"] stream crypt error"));var t=Object(h.a)({type:"crypt-error",cryptType:e.crypt_type});M.dispatchEvent(t)}),M.socket.on("on_user_banned",function(e){v.default.info("[".concat(M.clientId,"] user banned uid: ").concat(e.uid," error: ").concat(e.error_code));var t=Object(h.a)({type:"client-banned",uid:e.uid,attr:e.error_code});M.dispatchEvent(t),n=!0}),M.socket.on("on_stream_fallback_update",function(e){v.default.info("[".concat(M.clientId,"] stream fallback peerId: ").concat(e.stream_id," type: ").concat(e.stream_type));var t=Object(h.a)({type:"stream-fallback",uid:e.stream_id,stream:e.stream_id,attr:e.stream_type});M.dispatchEvent(t)}),M.socket.on("stream_recover",function(e){v.default.info("[".concat(M.clientId,"] stream recover uid: ").concat(e.id," peerId: ").concat(e.peerid," type: ").concat(e.type));var t=Object(h.a)({type:"stream-recover",uid:e.id,stream:e.peerid,attr:e.type});M.dispatchEvent(t)}),M.socket.on("on_p2p_lost",function(e){v.default.debug("[".concat(M.clientId,"] p2plost: "),e,"p2ps:",M.p2ps);var t,r="DTLS failed";(t=M.localStreams[e.uid]||M.remoteStreams[e.uid])?(t.pc&&t.pc.offerCandidates&&0===t.pc.offerCandidates.length&&(r="NO_CANDIDATES_IN_OFFER"),"publish"===e.event&&y.report.publish(M.joinInfo.sid,{lts:t.publishLTS,succ:!1,audio:t.hasAudio(),video:t.hasVideo(),screenshare:t.hasScreen(),audioName:t.hasAudio()&&t.audioName,videoName:t.hasVideo()&&t.videoName,screenName:t.hasScreen()&&t.screenName,ec:r,publishRequestid:M.publishRequestId||0,p2pid:M.p2ps.get(t.getId())}),"subscribe"===e.event&&y.report.subscribe(M.joinInfo.sid,{lts:t.subscribeLTS,succ:!1,video:t.subscribeOptions&&t.subscribeOptions.video,audio:t.subscribeOptions&&t.subscribeOptions.audio,peerid:e.uid+"",ec:r,subscribeRequestid:M.subscribeRequestId.get(t.getId())||0,p2pid:M.p2ps.get(t.getId())})):v.default.warning("P2PLost Stream Not found",e),v.default.debug("[".concat(M.clientId,"] p2plost:"),e.p2pid),(t=M.p2ps.get(e.p2pid))&&(M.p2ps.delete(e.p2pid),t.local?M.dispatchEvent(Object(h.a)({type:"pubP2PLost",stream:t,attr:r})):M.remoteStreams[t.getId()]&&M.dispatchEvent(Object(h.a)({type:"subP2PLost",stream:t,attr:r})))}),M.socket.on("on_token_privilege_will_expire",function(e){v.default.debug("[".concat(M.clientId,"] Received Message onTokenPrivilegeWillExpire")),M.dispatchEvent(Object(h.a)({type:"onTokenPrivilegeWillExpire"}))}),M.socket.on("on_token_privilege_did_expire",function(){v.default.warning("[".concat(M.clientId,"] Received Message onTokenPrivilegeDidExpire, please get new token and join again")),M.closeGateway(),M.dispatchEvent(Object(h.a)({type:"onTokenPrivilegeDidExpire"}))}),M.socket.on("enable_local_video",function(e){M.dispatchEvent(Object(h.a)({type:"enable-local-video",uid:e.uid}))}),M.socket.on("disable_local_video",function(e){M.dispatchEvent(Object(h.a)({type:"disable-local-video",uid:e.uid}))}),M._doWithAction=function(e,t,r){"tryNext"===e?function(e,t){v.default.debug("[".concat(M.clientId,"] Connect next gateway")),M.state=g,M.socket.close(),V(),M.reconnectMode="tryNext",M.state=_,$(e,t)}(t,r):"retry"===e?function(e,t){v.default.debug("[".concat(M.clientId,"] Reconnect gateway")),M.state=g,M.socket.close(),V(),M.reconnectMode="retry",M.state=_,$(e,t)}(t,r):"quit"===e?(v.default.debug("[".concat(M.clientId,"] quit gateway")),M.state=g,M.socket.close(),V()):"recover"===e&&U()},M.socket.on("on_notification",function(e){if(v.default.debug("[".concat(M.clientId,"] Receive notification: "),e),"ERR_JOIN_BY_MULTI_IP"===R.GatewayErrorCode[e.code])return M.dispatchEvent({type:"onMultiIP",option:e.option});e.detail?M._doWithAction(w[R.GatewayErrorCode[e.code]]):e.action&&M._doWithAction(e.action)}),M.socket.on("on_user_offline",function(e){var t=Object(h.a)({type:"peer-leave",uid:e.uid});if(M.remoteStreamsInChannel.has(e.uid)&&M.remoteStreamsInChannel.delete(e.uid),M.remoteStreams.hasOwnProperty(e.uid)&&(t.stream=M.remoteStreams[e.uid]),t.reason=e.reason,M.dispatchEvent(t),v.default.info("[".concat(M.clientId,"] remove remoteMuteState "),e.uid),delete M.remoteMuteState[e.uid],M.remoteStreams.hasOwnProperty(e.uid)){v.default.info("[".concat(M.clientId,"] closing stream on peer leave"),e.uid);var r=M.remoteStreams[e.uid];r.close(),delete M.remoteStreams[e.uid],y.report.onRemoveStream(M.joinInfo.sid,{peerid:e.uint_id||e.uid,uid:M.uid}),void 0!==r.pc&&(r.pc.close(),r.pc=void 0,M.p2ps.delete(r.p2pId))}M.timers.hasOwnProperty(e.uid)&&(clearInterval(M.timers[e.uid]),clearInterval(M.timers[e.uid]+"_RelatedStats"),delete M.timers[e.uid]),null!=M.audioLevel[e.uid]&&delete M.audioLevel[e.uid],null!=M.timer_counter[e.uid]&&delete M.timer_counter[e.uid]}),M.socket.on("onUplinkStats",function(e){}),M.socket.on("liveStreamingStarted",function(e){var t=Object(h.c)({type:"liveStreamingStarted",url:e.url});M.dispatchEvent(t)}),M.socket.on("liveStreamingFailed",function(e){var t=Object(h.c)({type:"liveStreamingFailed",url:e.url});M.dispatchEvent(t)}),M.socket.on("liveStreamingStopped",function(e){var t=Object(h.c)({type:"liveStreamingStopped",url:e.url});M.dispatchEvent(t)}),M.socket.on("liveTranscodingUpdated",function(e){var t=Object(h.c)({type:"liveTranscodingUpdated",reason:e.reason});M.dispatchEvent(t)}),M.socket.on("streamInjectedStatus",function(e){var t=Object(h.c)({type:"streamInjectedStatus",url:e.url,uid:e.uid,status:e.status});M.dispatchEvent(t)}),M.socket.on("on_user_online",function(e){M.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID"),M.dispatchEvent({type:"peer-online",uid:e.uid})}),M.socket.on("receive_metadata",function(e){M.joinInfo.stringUid&&"string"!=typeof e.uid&&v.default.error("StringUID is Mixed with UintUID");var t=decodeURIComponent(escape(window.atob(e.metadata)));v.default.debug("[".concat(M.clientId,"] received ").concat(e.uid," metadata: ").concat(t)),M.dispatchEvent({type:"receive-metadata",uid:e.uid,metadata:t})});var i},W=function(e,t){if(void 0!==M.socket)try{M.socket.emitSimpleMessage(e,function(e,r){t&&t(e,r)})}catch(e){v.default.error("[".concat(M.clientId,"] Error in sendSimpleSdp [").concat(e,"]"))}else v.default.error("[".concat(M.clientId,"] Error in sendSimpleSdp [socket not ready]"))},H=function(){for(var e in M.localStreams)if(void 0!==M.localStreams[e]){var t=M.localStreams[e];delete M.localStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}},G=function(){for(var e in M.remoteStreamsInChannel.clear(),M.remoteStreams)if(M.remoteStreams.hasOwnProperty(e)){var t=M.remoteStreams[e];t.isPlaying()&&t.stop(),t.close(),delete M.remoteStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}};return M},B={_gatewayClients:{},register:function(e,t){if(!t.uid){var r="NO_UID_PROVIDED";return v.default.error("[".concat(e.clientId,"] "),r,t),r}if(t.cname)return this._gatewayClients[t.cname]&&this._gatewayClients[t.cname][t.uid]&&this._gatewayClients[t.cname][t.uid]!==e?(r="UID_CONFLICT",v.default.error("[".concat(e.clientId,"] "),r,t),r):(v.default.debug("[".concat(e.clientId,"] register client Channel"),t.cname,"Uid",t.uid),this._gatewayClients[t.cname]||(this._gatewayClients[t.cname]={}),this._gatewayClients[t.cname][t.uid]=e,null);var r="NO_CHANNEL_PROVIDED";return v.default.error("[".concat(e.clientId,"] "),r,t),r},unregister:function(e){var t=e&&e.uid,r=e.joinInfo&&e.joinInfo.cname;if(!t||!r){var n="INVALID_GATEWAYCLIENT";return v.default.error("[".concat(e.clientId,"] "),n),n}if(this._gatewayClients[r]&&this._gatewayClients[r][t])return this._gatewayClients[r][t]!==e?(n="GATEWAYCLIENT_UID_CONFLICT",v.default.error("[".concat(e.clientId,"] "),n),n):(v.default.debug("[".concat(e.clientId,"] unregister client "),e.uid),delete this._gatewayClients[r][t],null);var n="GATEWEAY_CLIENT_UNREGISTERED";v.default.error("[".concat(e.clientId,"] "),n)}};U.DISCONNECTED=0,U.CONNECTING=1,U.CONNECTED=2,U.DISCONNECTING=3,U.connetionStateMap={0:"DISCONNECTED",1:"CONNECTING",2:"CONNECTED",3:"DISCONNECTING"},r.a=U},function(e,t,r){e.exports=r(63)},function(e,t,r){"use strict";r.r(t),r.d(t,"post",function(){return l}),r.d(t,"shouldUseHttps",function(){return d}),r.d(t,"getHTTPSendBytes",function(){return s}),r.d(t,"getHTTPRecvBytes",function(){return c}),r.d(t,"resetHTTPByetsCount",function(){return u});var n=r(3),o=r(10),i=0,a=0,s=function(){return i},c=function(){return a},u=function(){i=0,a=0},l=function(e,t,r,s,c){var u=new XMLHttpRequest;if(u.timeout=t.timeout||Object(n.getParameter)("HTTP_CONNECT_TIMEOUT"),u.open("POST",e,!0),u.setRequestHeader("Content-type","application/json; charset=utf-8"),c)for(var l in c)"withCredentials"==l?u.withCredentials=!0:u.setRequestHeader(l,c[l]);u.onload=function(e){a+=Object(o.lengthInUtf8Bytes)(u.responseText),r&&r(u.responseText)},u.onerror=function(t){s&&s(t,e)},u.ontimeout=function(t){s&&s(t,e)};var d=JSON.stringify(t);i+=Object(o.lengthInUtf8Bytes)(d),u.send(d)},d=function(){return"https:"==document.location.protocol}},function(e,t,r){"use strict";function n(e){return new Promise(function(t,r){s(e,t,r)})}r.r(t),r.d(t,"RTCPeerConnection",function(){return T}),r.d(t,"getUserMedia",function(){return s}),r.d(t,"attachMediaStream",function(){return c}),r.d(t,"reattachMediaStream",function(){return u}),r.d(t,"setSrcObject",function(){return f}),r.d(t,"getSrcObject",function(){return h}),r.d(t,"webrtcDetectedBrowser",function(){return l}),r.d(t,"webrtcDetectedVersion",function(){return d}),r.d(t,"webrtcMinimumVersion",function(){return g}),r.d(t,"webrtcTesting",function(){return A}),r.d(t,"webrtcUtils",function(){return y});var o=r(11),i=r.n(o),a=r(4),s=null,c=null,u=null,l=null,d=null,g=null,p=null,f=null,h=null,m=null,v={addStream:null},y={log:function(){},extractVersion:function(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r])}};if("object"==("undefined"==typeof window?"undefined":i()(window))?(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype?(f=function(e,t){e.srcObject=t},h=function(e){return e.srcObject}):(f=function(e,t){"mozSrcObject"in e?e.mozSrcObject=t:(e._srcObject=t,e.src=t?URL.createObjectURL(t):null)},h=function(e){return"mozSrcObject"in e?e.mozSrcObject:e._srcObject}),s=window.navigator&&window.navigator.getUserMedia):(f=function(e,t){e.srcObject=t},h=function(e){return e.srcObject}),c=function(e,t){f(e,t)},u=function(e,t){f(e,h(t))},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){for(var E in y.log("This appears to be Firefox"),l="firefox",d=y.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),g=31,m=mozRTCPeerConnection,v)v[E]=m.prototype[E];if(p=function(e,t){if(d<38&&e&&e.iceServers){for(var r=[],n=0;n<e.iceServers.length;n++){var o=e.iceServers[n];if(o.hasOwnProperty("urls"))for(var i=0;i<o.urls.length;i++){var a={url:o.urls[i]};0===o.urls[i].indexOf("turn")&&(a.username=o.username,a.credential=o.credential),r.push(a)}else r.push(e.iceServers[n])}e.iceServers=r}var s=new m(e,t);for(var c in v)s[c]=v[c];return s},window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),s=function(e,t,r){var n=function(e){if("object"!==i()(e)||e.require)return e;var t=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n=e[r]="object"===i()(e[r])?e[r]:{ideal:e[r]};if(void 0===n.min&&void 0===n.max&&void 0===n.exact||t.push(r),void 0!==n.exact&&("number"==typeof n.exact?n.min=n.max=n.exact:e[r]=n.exact,delete n.exact),void 0!==n.ideal){e.advanced=e.advanced||[];var o={};"number"==typeof n.ideal?o[r]={min:n.ideal,max:n.ideal}:o[r]=n.ideal,e.advanced.push(o),delete n.ideal,Object.keys(n).length||delete e[r]}}}),t.length&&(e.require=t),e};return d<38&&(y.log("spec: "+JSON.stringify(e)),e.audio&&(e.audio=n(e.audio)),e.video&&(e.video=n(e.video)),y.log("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,r)},navigator.getUserMedia=s,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},d<41){var _=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return _().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){for(var E in y.log("This appears to be Chrome"),l="chrome",d=y.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),g=38,m=webkitRTCPeerConnection,v)v[E]=m.prototype[E];p=function(e,t){e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var r=new m(e,t);for(var n in v)r[n]=v[n];var o=r.getStats.bind(r);return r.getStats=function(e,t,r){var n=arguments;n.length>0&&"function"==typeof e&&(t?(r=t,t=e,n=[e=null,t,r]):(t=e,n=[e=null,t]));var i=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){r[t]=e.stat(t)}),t[r.id]=r}),t};if(n.length>=2){var a=function(e){n[1](i(e))};return o.apply(this,[a,n[0]])}return o()},r},["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===i()(arguments[0])){var r=1===arguments.length?arguments[0]:void 0;return new Promise(function(n,o){t.apply(e,[n,o,r])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,r=this;return new Promise(function(n,o){t.apply(r,[e[0],function(){n(),e.length>=2&&e[1].apply(null,[])},function(t){o(t),e.length>=3&&e[2].apply(null,[t])}])})}});var S=function(e){if("object"!==i()(e)||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===i()(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var a={};"number"==typeof n.ideal?(a[o("min",r)]=n.ideal,t.optional.push(a),(a={})[o("max",r)]=n.ideal,t.optional.push(a)):(a[o("",r)]=n.ideal,t.optional.push(a))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};if(s=function(e,t,r){return e.audio&&(e.audio=S(e.audio)),e.video&&(e.video=S(e.video)),y.log("chrome: "+JSON.stringify(e)),navigator.webkitGetUserMedia(e,t,r)},navigator.getUserMedia=s,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(r){e(r.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){if((Object(a.getBrowserVersion)()?Number(Object(a.getBrowserVersion)().split(".")[0]):void 0)<46){var b=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return y.log("spec:   "+JSON.stringify(e)),e.audio=S(e.audio),e.video=S(e.video),y.log("chrome: "+JSON.stringify(e)),b(e)}}}else navigator.mediaDevices.getUserMedia=function(e){return n(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){y.log("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){y.log("Dummy mediaDevices.removeEventListener called.")}),c=function(e,t){d>=43?f(e,t):void 0!==e.src?e.src=t?URL.createObjectURL(t):null:y.log("Error attaching stream to element.")},u=function(e,t){d>=43?f(e,h(t)):e.src=t.src}}else navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(y.log("This appears to be Edge"),l="edge",d=y.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),g=12):y.log("Browser does not appear to be WebRTC-capable");else y.log("This does not appear to be a browser"),l="not a browser";var T,A={};try{Object.defineProperty(A,"version",{set:function(e){d=e}})}catch(e){}p?T=p:"undefined"!=typeof window&&(T=window.RTCPeerConnection)},function(e,t,r){"use strict";function n(e){for(var t=new Uint8Array([99,114,121,112,116,105,105]),r=t.length,n=e,o=n.length,i=new Uint8Array(o),a=new Uint8Array(256),s=0;s<256;s++)a[s]=s;for(var c=0,u=0;u<256;u++){var l=[a[c=(c+a[u]+t[u%r])%256],a[u]];a[u]=l[0],a[c]=l[1]}var d,g=0;c=0;for(var p=0;p<0+o;p++){var f=[a[c=(c+a[g=(g+1)%256])%256],a[g]];a[g]=f[0],a[c]=f[1],d=a[(a[g]+a[c])%256],p>=0&&(i[p-0]=n[p-0]^d)}var h=String.fromCharCode.apply(null,i);return Function("var winSize = 5; return `"+h+"`")()}function o(e,t){var r=n(t),o=b.a.createProgramFromSources(e,[n(T),r]),i=e.getAttribLocation(o,"a_position"),a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(i);var s=2,c=e.FLOAT,u=!1,l=0,d=0;e.vertexAttribPointer(i,s,c,u,l,d);var g=e.getAttribLocation(o,"a_texCoord"),p=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(g),s=2,c=e.FLOAT,u=!1,l=0,d=0,e.vertexAttribPointer(g,s,c,u,l,d),o}function i(e,t,r){var n=e.gl;this.program=o(n,A),this.setUniforms=function(){n.getUniformLocation(this.program,"u_image");var e=n.getUniformLocation(this.program,"u_flipY");n.uniform1f(e,1)}}function a(e,t,r){var n=e.gl,i=1/t,a=1/r,s=5;this.program=o(n,R),this.setUniforms=function(){n.getUniformLocation(this.program,"u_image");var e=n.getUniformLocation(this.program,"u_flipY"),t=n.getUniformLocation(this.program,"u_singleStepOffset"),r=n.getUniformLocation(this.program,"u_denoiseLevel");n.uniform2f(t,i,a),n.uniform1f(r,s),n.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(s=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,a=1/t}}function s(e,t,r){var n=e.gl,i=1/t,a=1/r,s=5;this.program=o(n,I),this.setUniforms=function(){n.getUniformLocation(this.program,"u_image");var e=n.getUniformLocation(this.program,"u_flipY"),t=n.getUniformLocation(this.program,"u_singleStepOffset"),r=n.getUniformLocation(this.program,"u_denoiseLevel");n.uniform2f(t,i,a),n.uniform1f(r,s),n.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(s=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,a=1/t}}function c(e,t,r){var n=e.gl,i=1/t,a=1/r,s=5;this.program=o(n,O),this.setUniforms=function(){n.getUniformLocation(this.program,"u_image");var e=n.getUniformLocation(this.program,"u_flipY"),t=n.getUniformLocation(this.program,"u_singleStepOffset"),r=n.getUniformLocation(this.program,"u_denoiseLevel");n.uniform2f(t,i,a),n.uniform1f(r,s),n.uniform1f(e,1)},this.setParameters=function(e){void 0!==e.denoiseLevel&&(s=e.denoiseLevel)},this.setSize=function(e,t){i=1/e,a=1/t}}function u(e,t,r){var n=e.gl,i=5,a=.1,s=.5,c=175/180*3.141593,u=115/180*3.141593,l=173/180*3.141593,d=116/180*3.141593,g=2.04203545,p=0,f=0,h=0,m=[],v=[0,1,3,4,6,7,9,10,12,13,15,16,18,19,21,22,24,26,29,31,34,36,39,41,44,46,49,51,54,56,59,61,64,65,66,67,68,69,70,72,73,74,75,76,77,79,80,81,82,83,84,85,87,88,89,90,91,92,94,95,96,97,98,99,101,102,103,104,105,106,107,109,110,111,112,113,114,116,117,118,119,120,121,123,124,125,126,127,128,129,131,132,133,134,135,136,138,139,140,141,142,143,145,146,147,148,149,150,151,153,154,155,156,157,158,160,161,162,163,164,165,166,168,169,170,171,172,173,175,176,177,178,179,180,182,183,184,185,186,187,188,190,191,192,193,194,195,197,198,199,200,201,202,204,205,206,207,208,209,210,212,213,214,215,216,217,219,220,221,222,223,224,226,226,226,227,227,227,228,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,234,234,235,235,235,236,236,236,237,237,237,238,238,239,239,239,240,240,240,241,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,32,33,35,36,37,39,40,42,43,44,46,47,49,50,51,53,54,56,57,58,59,61,62,63,64,66,67,68,69,71,72,73,74,76,77,78,79,81,82,83,84,86,87,88,90,91,92,93,95,96,97,98,100,101,102,103,105,106,107,108,110,111,112,113,115,116,117,118,120,121,122,124,125,126,127,129,130,131,132,134,135,136,137,139,140,141,142,144,145,146,147,149,150,151,152,154,155,156,158,159,160,161,163,164,165,166,168,169,170,171,173,174,175,176,178,179,180,181,183,184,185,186,188,189,190,192,193,194,195,197,198,199,200,202,203,204,205,207,208,209,210,212,213,214,215,217,218,219,220,222,223,224,226,226,226,227,227,228,228,229,229,230,230,231,231,232,232,233,233,234,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,243,244,244,244,245,245,245,246,246,246,247,247,247,248,248,248,249,249,249,250,250,250,251,251,251,252,252,252,253,253,253,254,254,254,255],E=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,35,36,37,38,39,40,41,43,44,45,46,47,48,50,51,52,53,54,55,56,58,59,60,61,62,63,65,66,67,68,69,70,72,73,74,76,77,78,80,81,83,84,85,87,88,89,91,92,94,95,96,98,99,100,102,103,105,106,107,109,110,111,113,114,116,117,118,120,121,122,124,125,127,128,129,131,132,133,135,136,138,139,140,142,143,144,146,147,149,150,151,153,154,155,157,158,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,192,193,193,194,195,195,196,197,197,198,199,199,200,201,201,202,203,203,204,205,205,206,207,207,208,209,209,210,211,211,212,213,213,214,215,215,216,217,217,218,219,219,220,221,221,222,223,223,224,225,225,226,227,227,228,229,229,230,231,231,232,233,233,234,235,235,236,237,237,238,239,239,240,241,241,242,243,243,244,245,245,246,247,247,248,249,249,250,251,251,252,253,253,254,255];this.program=o(n,w),this.setUniforms=function(){var t=n.getUniformLocation(this.program,"u_flipY"),r=n.getUniformLocation(this.program,"u_denoiseLevel");n.uniform1f(r,i),n.uniform1f(t,1);var o=n.getUniformLocation(this.program,"light");n.uniform1f(o,a);var v=n.getUniformLocation(this.program,"redness");n.uniform1f(v,s);var y=n.getUniformLocation(this.program,"skin_he_max"),E=n.getUniformLocation(this.program,"skin_he_min"),_=n.getUniformLocation(this.program,"skin_hc_max"),S=n.getUniformLocation(this.program,"skin_hc_min"),b=n.getUniformLocation(this.program,"skin_hc_axis"),T=n.getUniformLocation(this.program,"facts_rotate_c"),A=n.getUniformLocation(this.program,"facts_rotate_le"),R=n.getUniformLocation(this.program,"facts_rotate_ge");n.uniform1f(y,c),n.uniform1f(E,u),n.uniform1f(_,l),n.uniform1f(S,d),n.uniform1f(b,g),n.uniform1f(T,p),n.uniform1f(A,f),n.uniform1f(R,h);var I=n.getUniformLocation(this.program,"u_originImage");n.activeTexture(n.TEXTURE2),n.bindTexture(n.TEXTURE_2D,e.inputTexture),n.uniform1i(I,2);for(var O=["lighten_lut"],w=[n.TEXTURE3],C=0;C<O.length;C++){var N=n.getUniformLocation(this.program,O[C]);n.activeTexture(w[C]),n.bindTexture(n.TEXTURE_2D,m[C]),n.uniform1i(N,C+3)}},this.setParameters=function(e){void 0!==e.denoiseLevel&&(i=e.denoiseLevel),void 0!==e.lightLevel&&(a=e.lightLevel),void 0!==e.rednessLevel&&(s=e.rednessLevel,this._updateRedness(s)),void 0!==e.lighteningContrastLevel&&this._updateLut(e.lighteningContrastLevel)},this._updateRedness=function(e){var t,r,n=3.141593,o=e,i=o;o>1&&(o=1),o<0&&(o=0),i>1&&(i=1),i<0&&(i=0),p=.8*o,i<.8&&(i=0),(g=(117-4*i)/180*n)<(d=(116-4*i)/180*n)&&(g=d),d<n/2&&(d=n/2),g<n/2&&(g=n/2),(u=(115-4*i)/180*n)<n/2&&(u=n/2),(l=173/180*n)>n&&(l=n),g>n&&(g=n),(c=175/180*n)>n&&(c=n),r=l-g,h=(t=c-l)>.01?p*r/t:p,r=g-d,f=(t=d-u)>.01?p*r/t:p},this._updateLut=function(e){var t=null;0==e&&(t=y),1==e&&(t=E),2==e&&(t=v);for(var r=[new Uint8Array(t)],o=[256],i=[1],a=0;a<r.length;a++)n.bindTexture(n.TEXTURE_2D,m[a]),n.texImage2D(n.TEXTURE_2D,0,n.LUMINANCE,o[a],i[a],0,n.LUMINANCE,n.UNSIGNED_BYTE,r[a])},this._init=function(){var e=null;e=y;for(var t=[new Uint8Array(e)],r=[256],o=[1],i=0;i<t.length;i++){var a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,n.LUMINANCE,r[i],o[i],0,n.LUMINANCE,n.UNSIGNED_BYTE,t[i]),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),m.push(a)}},this._init()}function l(){this.programs=[];var e=this,t=null,r=null;e.gl=null,e.inputTexture=null;var n=[],o=[],l=0,d=0;e._initGl=function(r,i){e.inputTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR);for(var a=0;a<4;a++){var s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),a<2?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,i,0,t.RGBA,t.UNSIGNED_BYTE,null):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,i,r,0,t.RGBA,t.UNSIGNED_BYTE,null);var c=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,c),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),n.push(s),o.push(c)}t.viewport(0,0,r,i),l=r,d=i},e.render=function(i){if(t){var a=0;d==i.videoWidth&&l===i.videoHeight&&(a=2),t.viewport(0,0,i.videoWidth,i.videoHeight),t.bindTexture(t.TEXTURE_2D,e.inputTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);for(var s=C?e.programs.length-1:0,c=0;c<=s;c++){var u=e.programs[c].program;t.useProgram(u);var g=t.getUniformLocation(u,"u_image");e.programs[c].setUniforms(),t.bindFramebuffer(t.FRAMEBUFFER,o[a+c%2]),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n[a+c%2]),t.uniform1i(g,0)}t.useProgram(r);var p=t.getUniformLocation(r,"u_flipY");t.uniform1f(p,-1),t.bindFramebuffer(t.FRAMEBUFFER,null),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.drawArrays(t.TRIANGLES,0,6)}},e.setEnableBeauty=function(e){C=e},e.init=function(n,o,l){if("undefined"==typeof WebGLRenderingContext)throw new Error("NOT_SUPPORT");t=l.getContext("webgl"),e.gl=t,e._initGl(n,o),e.programs.push(new i(this,n,o)),e.programs.push(new a(this,n,o)),e.programs.push(new s(this,n,o)),e.programs.push(new c(this,n,o)),e.programs.push(new u(this,n,o)),r=e.programs[0].program},e.release=function(){e.gl=null,t=null,r=null,e.inputTexture=null,e.programs=[],n=[],o=[]},e.setDenoiseLevel=function(t){e.programs.forEach(function(e){e.setParameters&&e.setParameters({denoiseLevel:t})})},e.setLightLevel=function(t){e.programs.forEach(function(e){e.setParameters&&e.setParameters({lightLevel:t})})},e.setRednessLevel=function(t){e.programs.forEach(function(e){e.setParameters&&e.setParameters({rednessLevel:t})})},e.setContrastLevel=function(t){e.programs.forEach(function(e){e.setParameters&&e.setParameters({lighteningContrastLevel:t})})},e.setSize=function(t,r){e.programs.forEach(function(e){e.setSize&&e.setSize(t,r)})}}var d=r(13),g=r.n(d),p=r(17),f=r.n(p),h=r(49),m=r.n(h),v=r(4),y=r(1),E=r(2),_=r(0),S=(r(24),r(3),r(5),r(50)),b=r.n(S),T=[31,222,239,159,192,236,164,81,54,227,176,149,2,247,75,141,183,54,213,216,158,92,111,49,228,111,150,6,135,79,35,212,4,155,200,168,37,107,243,110,144,179,51,81,55,78,223,242,191,211,74,119,203,151,142,62,31,41,132,22,35,155,87,123,119,117,216,57,201,53,228,67,201,40,106,24,80,176,187,253,60,63,136,100,20,12,177,99,64,38,101,143,111,176,251,211,145,136,34,23,79,136,202,95,105,199,125,67,180,44,210,179,228,4,85,160,188,64,26,46,6,61,201,103,248,18,97,254,140,36,115,106,48,124,102,216,155,120,36,227,165,217,7,227,191,128,212,157,80,37,117,175,24,214,47,221,183,211,51,174,251,223,159,167,152,53,36,107,199,223,91,62,46,194,11,80,121,188,219,2,99,99,232,229,173,234,21,30,236,177,243,142,97,48,108,56,62,172,56,216,3,42,79,138,23,88,182,39,5,118,68,135,178,56,9,94,189,44,104,9,238,231,174,122,85,247,231,86,74,8,189,147,218,180,58,76,227,17,46,90,194,100,51,178,72,163,151,243,166,130,85,1,223,130,152,242,85,255,28,173,97,252,119,215,177,119,86,104,136,82,40,72,53,11,18,26,240,188,76,110,39,31,189],A=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,152,221,191,124,116,248,106,130,251,59,105,43,91,135,199,181,223,10,51,134,194,240,46,9,3,141,22,35,146,76,23,109,117,208,41,201,45,218,76,203,105,51,58,97,154,145,236,49,18,183,127,27,12,210,122,73,42,37,143,36,207,251,211,145,191,56,10,88,222,181,125,22,238,123,71,177,107,218,254,173,28,34,253,249,67,83,97,73,111,219,43,181,82,38,230,136,109,22,67],R=[11,196,242,139,198,252,188,5,59,170,161,152,17,229,24,141,133,54,214,206,133,26,66,126,255,11,245,10,146,92,52,134,108,155,210,164,99,114,228,96,130,251,59,105,43,91,135,199,181,223,10,51,133,194,247,34,31,39,142,28,2,130,18,109,84,124,223,62,140,52,128,47,208,47,115,39,4,200,220,171,53,36,150,101,10,75,247,121,74,36,35,143,108,176,235,211,135,164,36,11,88,160,148,35,6,221,41,32,166,109,205,171,228,4,26,169,244,82,119,102,86,61,201,103,248,18,97,242,182,34,121,70,28,71,126,197,223,126,14,244,149,192,12,176,187,149,212,156,22,44,36,133,10,216,63,198,213,154,116,230,253,154,154,249,215,55,60,34,196,229,76,50,44,135,22,77,113,247,142,94,60,23,172,145,175,218,81,86,162,239,180,205,63,118,3,110,123,224,127,158,124,15,127,157,27,66,176,33,24,51,53,194,178,56,6,74,191,111,51,78,174,157,229,17,22,178,231,92,25,23,191,157,137,188,54,64,176,13,22,81,207,45,108,203,83,186,130,237,186,153,110,8,196,168,152,161,28,238,46,184,36,185,20,203,183,98,95,41,149,93,105,37,116,91,68,105,164,217,30,42,60,53,173,213,177,216,195,53,204,173,128,243,42,122,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,220,161,39,214,146,183,193,225,23,177,201,243,128,160,33,75,86,126,139,254,232,14,13,85,2,112,17,150,36,180,86,226,225,126,197,17,228,225,142,245,37,170,39,96,187,190,2,35,85,237,11,189,1,79,237,2,1,114,246,109,190,66,54,153,43,218,204,70,6,204,162,247,18,130,123,30,60,165,130,142,210,133,91,127,117,71,38,145,172,7,5,16,220,222,111,98,141,239,208,125,26,238,28,0,216,89,13,7,119,134,194,75,41,67,174,1,217,80,101,40,26,59,28,59,46,108,138,38,157,167,28,234,73,177,42,42,102,108,26,181,27,178,42,43,52,28,110,117,198,173,176,178,101,225,150,36,139,108,105,10,237,222,3,143,126,18,144,115,74,56,114,134,231,159,212,62,126,80,173,216,167,4,81,18,52,17,144,218,32,139,207,104,128,229,99,84,120,31,87,227,154,91,196,63,123,111,125,36,52,57,168,113,150,189,204,24,104,196,237,86,163,68,197,202,170,212,191,81,193,111,255,162,181,202,156,146,196,96,16,118,117,55,71,156,31,163,242,204,239,11,150,27,126,115,154,107,247,134,158,125,255,146,35,183,209,36,116,87,215,172,5,251,133,114,254,141,195,6,145,4,111,182,167,74,154,152,68,18,146,88,106,200,154,15,176,94,86,66,178,101,219,35,188,129,66,28,41,110,174,53,88,174,64,191,206,127,48,126,214,216,93,119,2,166,99,181,222,29,218,28,195,219,125,44,50,16,99,174,225,51,133,120,184,159,168,75,242,162,124,255,81,25,153,109,69,220,176,4,237,196,233,19,8,240,160,39,122,81,29,188,144,249,170,174,137,30,10,93,133,151,199,248,175,38,41,144,229,245,149,25,240,138,179,114,182,84,50,103,95,31,199,31,87,208,203,199,135,49,211,43,52,36,74,59,37,22,136,171,244,126,18,251,39,159,241,66,206,127,149,159,182,143,232,199,136,46,150,32,51,221,74,22,102,93,22,44,132,140,199,43,69,249,77,75,140,70,4,252,98,235,77,190,125,18,56,21,10,244,42,2,246,62,127,241,123,137,22,247,219,177,160,84,18,10,84,97,251,127,102,16,209,181,100,94,56,238,209,207,76,189,95,15,165,139,143,189,96,225,55,112,178,27,218,198,223,251,52,123,94,130,220,142,216,116,237,18,254,49,59,128,41,29,15,179,164,85,76,167,166,151,39,221,2,190,68,167,26,177,114,141,4,67,25,69,182,38,166,160,27,151,148,108,48,227,60,112,48,22,159,76,127,251,63,254,177,113,217,197,95,179,109,128,138,99,27,249,10,174,155,129,80,39,165,252,85,60,131,183,98,107,68,207,19,233,231,55,225,126,77,49,53,145,203,113,29,208,64,237,182,229,165,7,11,169,106,253,116,141,200,62,16,38,121,55,148,91,83,160,140,126,121,12,79,189,72,172,31,243,240,209,229,32,220,91,229,81,94,247,121,153,151,232,182,171,198,50,31,152,245,172,151,130,55,62,125,38,155,229,78,207,148,201,2,78,63,119,107,168,78,139,141,163,177,191,239,141,39,182,174,40,76,226,62,125,209,6,6,34,37,147,85,204,103,51,191,36,248,17,175,20,1,53,16,35,143,237,177,125,86,29,219,235,20,121,205,59,5,250,107,109,32,224,30,152,143,113,151,95,85,19,254,164,135,124,68,136,199,29,31,244,91,10,84,127,101,210,70,226,195,140,70,166,54,217,165,84,42,165,175,100,234,124,121,105,53,101,118,174,101,220,147,68,161,37,0,182,220,142,221,155,230,115,164,10,214,208,120,91,152,66,27,81,184,48,84,70,7,128,153,217,218,249,226,70,130,200,156,61,227,21,164,137,193,221,119,10,134,204,23,20,17,90,94,105,204,39,99,1,64,153,45,213,19,247,97,194,49,35,125,255,195,139,63,209,175,208,147,189,244,204,24,211,99,142,18,92,130,254,182,231,235,93,10,127,175,87,35,62,110,137,184,39,114,200,150,11,190,40,162,168,223,203,110,242,192,234,26,11,54,155,38,48,79,109,101,119,165,187,223,5,20,168,171,241,20,243,108,199,3,155,69,244,149,0,187,110,12,233,42,151,189,139,133,104,3,30,16,200,69,4,123,103,144,12,106,182,1,127,91,125,158,12,144,238,232,209,101,159,56,163,240,179,50,169,120,219,176,87,77,45,247,153,190,82,132,50,137,209,97,19,35,247,161,62,77,16,71,152,72,61,50,99,157,154,56,58,175,27,73,121,229,195,228,132,69,233,169,100,21,123,17,3,164,6,146,106,196,29,3,250,217,164,23,171,203,14,242,239,249,169,116,138,209,98,113,181,122,35,162,216,46,230,4,155,142,118,216,232,229,28,12,158,153,126,149,171,172,231,99,211,57,114,136,183,114,74,35,233,115,127,253,157,38,49,136,141,25,161,255,232,110,101,208,166,186,226,12,185,19,155,53,93,155,39,161,7,124,213,52,223,125,211,242,253,22,13,131,115,167,198,188,90,209,63,224,92,112,118,220,165,31,164,43,58,197,77,17,247,77,164,74,77,218,18,187,41,76,189,127,98,18,226,231,71,115,236,68,183,111,50,168,88,247,9,123,65,180,88,74,44,101,101,173,11],I=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,165,108,122,254,125,130,229,55,109,113,11,210,238,163,213,86,116,156,248,215,63,20,48,173,31,55,133,18,105,32,16,204,35,128,38,212,87,200,97,114,40,12,210,193,171,59,33,158,108,14,75,228,74,65,32,57,192,112,156,234,250,140,189,40,20,6,230,135,52,17,200,123,68,183,44,215,187,234,2,13,169,234,94,115,60,6,107,224,118,254,88,2,235,134,36,120,5,85,94,126,222,223,101,105,227,147,199,64,185,246,143,183,210,30,37,127,226,79,156,118,147,208,131,51,248,232,217,206,181,218,58,61,112,244,227,68,45,41,206,69,12,45,163,205,75,6,23,167,145,250,237,92,84,164,240,253,216,54,85,7,108,62,255,42,217,3,27,0,196,94,28,241,120,80,92,89,135,228,125,2,3,242,39,116,64,248,216,177,122,66,178,180,9,7,33,186,208,213,188,59,78,243,95,123,28,142,45,99,130,7,167,194,156,238,199,10,71,141,251,221,158,16,255,38,181,36,184,20,136,240,55,27,51,191,82,105,55,97,78,74,121,191,161,91,126,105,103,174,139,223,145,150,120,156,240,252,182,105,104,205,65,97,129,194,68,218,91,141,11,224,124,132,138,119,36,201,211,39,203,146,225,246,252,21,161,250,188,137,190,42,4,90,126,211,171,240,113,67,28,92,57,77,200,125,224,19,178,142,112,202,5,233,229,128,235,105,239,102,52,179,224,87,45,68,211,10,187,9,38,190,86,25,43,175,56,231,11,108,220,36,129,131,19,93,163,239,169,118,205,50,77,121,139,139,141,197,170,20,44,39,19,97,205,228,8,106,67,210,135,111,127,141,185,175,123,26,226,42,29,217,16,99,9,46,157,232,22,3,105,174,73,144,23,110,55,84,46,4,116,39,113,205,58,158,242,7,208,75,162,55,115,35,52,124,235,114,178,55,43,98,17,100,33,134,237,190,230,60,184,192,104,146,52,58,79,174,180,81,155,114,0,153,113,90,51,86,150,254,136,205,104,39,11,190,187,233,80,81,81,56,18,222,148,116,155,156,33,132,226,127,84,34,83,28,249,153,18,197,10,116,102,125,45,47,36,235,46,212,166,209,3,125,132,237,124,163,68,197,202,232,152,234,75,235,103,248,160,241,213,151,144,130,37,23,51,48,55,12,227,31,163,242,251,245,22,129,77,20,35,150,20,181,203,138,69,233,215,109,178,209,52,85,96,221,179,56,249,138,111,250,141,134,95,152,92,109,183,174,104,151,156,31,66,211,10,57,141,167,18,177,27,126,74,252,29,143,121,173,203,8,27,44,123,148,57,88,163,68,228,158,62,98,121,192,228,94,92,72,241,33,230,173,0,197,1,194,144,111,91,60,0,106,181,203,51,133,120,250,158,184,93,216,184,126,253,21,22,155,99,80,205,227,69,231,141,165,71,70,252,223,105,51,93,22,165,135,233,177,164,139,53,5,85,151,134,214,165,249,100,24,186,207,245,149,68,218,204,252,32,190,90,48,76,57,31,201,15,52,130,135,152,206,63,198,100,126,36,2,104,116,0,160,163,186,2,91,165,57,149,163,12,239,121,152,209,224,136,248,135,136,46,150,32,51,154,6,105,0,71,30,44,175,147,139,34,91,184,78,31,145,18,3,250,122,166,47,252,109,19,40,10,123,163,99,76,133,119,37,180,38,207,79,171,185,188],O=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,160,96,121,255,120,207,227,114,120,38,72,149,145,165,227,75,122,158,250,232,46,34,52,135,9,30,144,17,110,126,110,130,71,156,46,210,67,202,51,119,97,3,211,214,227,45,109,151,97,21,10,229,53,80,26,51,202,119,128,230,197,140,135,40,14,88,128,202,95,21,208,96,83,185,98,216,242,224,15,25,224,233,86,96,46,80,120,220,48,187,86,30,240,140,46,95,81,48,90,117,140,177,51,107,235,158,137,5,241,191,154,149,219,30,126,85,175,10,216,63,139,216,151,122,251,224,202,220,227,221,53,122,34,213,224,94,45,14,200,68,31,61,175,208,17,120,82,244,138,208,165,21,19,236,232,180,217,50,74,70,126,114,227,62,192,124,9,85,148,33,77,255,117,75,102,87,151,255,87,74,74,181,111,108,9,249,220,174,59,80,254,168,29,30,94,171,133,133,195,105,64,254,68,65,18,158,54,73,203,65,175,151,170,236,138,17,119,128,237,214,189,28,250,38,149,97,242,81,212,254,57,18,120,155,64,96,108,75,78,74,121,191,243,30,42,60,103,165,196,160,195,216,99,182,173,214,182,105,53,231,3,45,212,144,101,217,65,141,44,230,125,151,154,123,57,134,223,98,133,156,238,137,181,80,175,230,167,131,180,13,69,77,44,156,165,252,14,27,85,71,1,82,196,64,243,26,167,146,98,201,6,195,247,200,224,44,177,104,109,187,231,83,118,28,159,92,179,28,14,162,81,84,21,168,34,156,21,127,215,88,218,208,11,92,161,239,239,82,221,59,86,83,201,199,216,151,139,23,54,39,52,103,204,247,24,102,94,157,138,42,49,131,183,208,50,95,236,54,6,211,26,68,72,56,212,134,24,91,114,132,1,217,80,38,47,29,47,0,107,102,99,129,33,140,243,74,251,89,247,103,12,114,58,113,240,72,188,39,48,72,89,45,102,206,245,247,231,56,167,129,122,222,47,40,78,227,159,64,206,34,127,203,127,87,40,108,152,238,147,231,46,104,89,182,180,232,86,89,91,57,10,222,202,59,199,135,60,199,189,40,84,125,28,84,162,210,91,143,34,106,117,118,3,125,126,237,60,131,173,153,69,49,212,204,117,163,31,239,202,232,152,234,3,162,32,176,184,184,196,154,131,144,115,6,53,122,55,69,166,19,230,183,175,244,1,156,11,37,121,134,121,152,142,158,125,229,150,44,183,216,109,7,65,222,169,56,222,140,110,233,157,138,66,208,6,111,166,188,76,208,222,4,104,211,10,57,141,243,65,228,86,85,88,169,91,237,56,249,133,77,21,32,37,230,55,0,184,110,228,158,62,98,45,147,177,19,119,89,164,103,132,239,84,139,68,204,157,49,41,50,89,113,159,203,51,133,120,184,210,237,15,249,187,100,253,50,16,154,112,64,193,254,10,235,200,253,84,31,169,171,39,122,70,46,186,139,212,162,173,158,41,23,86,148,172,196,237,242,58,102,180,150,238,191,25,240,204,252,125,148,29,124,51,95,10,196,55,49,159,138,144,255,126,205,43,49,42,17,59,60,77,139,177,239,64,36,224,98,205,234,70,199,103,139,218,206,207,178,217,255,32,134,59,25,221,74,22,102,82,19,20,170,142,134,42,106,249,64,80,222,28,21,169,50,235,4,237,56,81,87,76,32,251,42,6,173,105,54,191,8,136,5,245,206,239,176,9,116,24],w=[11,196,242,139,198,252,188,5,32,162,171,128,13,160,25,222,172,102,207,244,158,69,103,57,239,111,150,18,157,82,55,210,20,131,156,190,100,112,230,97,199,225,96,74,99,94,248,222,162,213,95,122,158,212,233,42,22,37,217,115,36,152,30,123,116,104,212,109,129,41,220,77,213,97,124,45,4,219,197,171,40,18,149,104,20,4,248,102,64,9,50,217,124,131,180,188,159,170,63,1,84,130,150,117,14,212,118,67,165,97,207,242,251,15,30,187,188,77,79,122,67,101,252,109,244,82,37,191,227,35,114,87,57,71,99,218,155,54,101,239,138,197,13,226,228,176,157,158,87,98,55,251,79,150,64,138,200,135,40,132,135,207,146,252,222,57,58,111,151,225,78,59,36,210,70,29,121,160,210,31,109,67,167,194,177,236,91,108,164,229,130,211,59,66,93,18,107,226,54,210,51,8,77,217,19,73,187,33,30,59,9,135,162,49,5,11,225,111,119,11,247,218,129,115,83,205,170,21,4,69,210,133,134,245,109,15,177,9,81,81,203,105,42,158,12,255,151,165,230,205,5,92,196,251,211,187,27,214,43,186,91,233,85,192,229,15,71,38,220,20,38,101,44,78,7,60,251,186,75,103,108,53,166,220,186,208,194,120,207,230,159,248,22,32,142,124,96,157,222,60,191,65,145,6,239,125,151,147,50,58,130,207,110,131,223,231,137,238,28,182,216,167,198,191,37,67,76,1,144,232,218,79,72,28,65,101,43,216,64,253,16,173,179,123,140,27,233,245,199,230,36,181,102,114,247,162,18,34,20,212,25,171,24,28,143,80,94,40,167,34,209,61,117,130,1,198,196,7,21,252,180,255,92,128,119,9,48,156,138,136,151,143,23,44,52,3,40,197,228,31,123,67,163,140,32,54,204,187,149,80,19,255,82,120,195,12,110,65,56,212,143,22,78,44,234,72,140,29,118,103,18,36,7,122,50,37,139,47,142,243,25,208,88,237,126,50,103,127,19,183,29,169,29,1,55,23,100,32,129,239,243,160,61,178,197,117,199,45,57,26,165,135,92,218,59,0,197,54,13,96,40,141,212,221,131,103,46,22,228,191,167,73,20,86,62,11,147,217,116,205,203,110,134,249,51,6,123,23,86,231,157,8,144,83,126,115,118,35,96,36,229,36,220,228,143,71,45,223,129,48,236,5,145,202,188,208,184,70,241,104,255,188,181,146,210,206,144,53,77,101,120,38,8,245,80,230,165,160,183,83,202,79,127,57,214,126,242,150,208,40,239,148,35,163,201,97,74,70,214,181,63,240,147,33,253,149,140,77,197,82,126,189,231,7,196,212,80,14,151,24,57,144,243,81,234,66,24,19,236,2,137,121,246,129,65,7,99,110,174,54,74,182,81,234,142,37,72,110,220,255,64,119,10,188,111,191,228,1,205,9,204,143,56,62,125,84,106,225,131,97,192,43,240,157,161,75,168,247,44,175,65,81,192,48,21,157,167,80,191,130,161,75,85,186,174,42,117,1,68,252,204,138,254,203,152,21,13,64,144,195,207,238,229,54,103,247,159,245,211,85,191,141,168,32,234,85,46,118,12,5,199,4,19,217,203,202,156,33,143,114,116,60,66,40,58,77,208,237,171,26,72,175,114,205,248,87,137,62,210,143,151,197,167,210,241,122,150,104,122,154,2,70,102,83,19,36,141,136,199,42,79,229,71,86,194,109,31,236,80,166,17,230,109,1,40,28,46,224,56,20,230,47,100,254,116,208,76,169,157,241,175,3,70,85,31,38,245,58,33,80,145,237,8,22,71,224,158,156,31,249,81,87,247,230,199,237,96,167,123,63,243,79,156,206,203,160,54,124,68,253,215,132,235,57,185,92,238,55,59,210,104,71,26,183,180,71,12,255,224,192,65,154,72,244,8,164,10,248,46,207,30,92,1,80,244,31,189,138,88,216,218,63,100,227,116,57,119,94,135,5,126,255,32,191,163,61,209,194,88,248,112,139,173,43,69,134,3,160,151,137,25,98,239,166,19,123,208,180,31,120,30,191,75,183,179,126,180,125,92,107,105,206,138,28,67,139,3,188,230,184,255,121,13,181,45,160,114,202,194,123,87,55,124,97,164,82,95,232,216,117,62,5,90,176,82,167,52,160,153,174,168,105,146,91,248,81,79,249,97,138,133,170,245,229,132,61,5,149,224,246,194,213,61,12,109,44,136,235,95,219,133,220,27,93,36,93,124,180,81,141,152,220,170,163,229,197,124,171,232,48,70,251,106,119,150,20,16,49,119,247,42,132,36,76,254,124,177,66,175,9,1,39,92,127,195,171,198,34,2,64,144,179,72,40,151,110,89,229,42,125,33,238,16,220,228,51,203,8,1,68,145,253,133,118,93,163,129,22,13,248,65,12,4,63,101,210,70,170,138,203,14,246,54,194,195,27,107,241,175,35,171,49,52,106,121,45,36,152,85,215,132,78,167,34,18,167,245,152,133,134,170,120,182,10,146,191,37,2,205,47,125,20,203,44,88,81,32,150,223,220,218,238,254,30,212,167,221,115,156,82,226,137,220,221,97,3,139,202,33,9,27,26,126,40,215,25,126,9,82,208,49,217,14,161,81,196,61,60,87,254,213,194,81,216,161,151,209,166,222,230,24,128,117,140,92,4,203,254,170,253,249,88,90,112,226,18,44,122,39,158,158,56,69,204,159,5,179,51,197,233,139,216,102,226,206,248,15,78,112,214,126,67,28,40,38,98,190,178,206,67,94,245,254,160,101,176,32,157,26,132,83,252,228,87,242,32,127,160,112,210,224,133,149,115,41,30,16,200,69,89,81,77,144,12,106,182,73,54,28,53,195,28,216,179,179,136,35,141,102,234,177,240,34,186,106,145,245,3,84,48,251,157,245,11,217,111,227,138,42,67,114,211,177,37,103,16,71,152,72,117,123,36,213,202,56,124,227,84,8,45,229,149,165,214,69,244,169,55,68,62,94,104,228,74,205,123,222,17,7,172,158,227,74,206,149,67,175,171,251,185,121,151,223,63,35,229,32,49,190,209,120,137,69,213,214,19,150,187,177,28,12,158,153,126,149,171,167,234,120,129,109,32,157,180,75,66,56,233,115,127,230,157,32,34,143,156,31,230,168,174,125,118,195,249,243,165,81,246,10,144,15,103,139,55,173,7,59,136,69,172,54,132,165,140,78,77,230,33,169,129,188,71,209,109,161,8,57,57,199,143,31,164,43,58,130,1,110,145,31,229,13,46,149,94,244,106,76,238,105,107,1,183,177,10,61,225,94,185,116,58,183,95,225,22,119,19,248,28,13,123,125,108,158,64,184,77,245,153,162,217,227,208,41,185,211,235,41,153,181,54,166,165,11,154,55,21,184,209,192,249,44,164,160,29,229,159,82,156,198,241,183,114,83,137,186,151,148,31,21,197,216,145,32,13,50,22,241,137,39,71,28,142,160,215,107,221,45,202,104,227,110,186,12,150,145,240,51,49,44,196,115,224,238,149,189,134,99,67,241,62,157,240,114,247,195,26,200,141,97,147,249,23,150,174,10,13,219,81,73,58,242,96,250,243,15,49,218,58,230,104,252,175,150,123,86,185,84,90,198,6,36,0,99,72,28,166,238,115,231,171,249,179,71,174,68,156,227,17,198,79,73,142,99,144,20,80,62,80,191,142,46,71,9,243,6,8,214,116,72,190,106,161,19,185,100,9,187,64,94,86,203,174,156,245,222,95,54,30,148,19,11,50,112,96,61,237,159,173,7,154,127,175,79,48,97,89,78,126,66,171,204,158,195,27,226,205,222,157,89,251,90,125,37,212,27,97,3,141,247,175,50,121,7,187,68,196,181,202,167,189,57,84,81,222,23,27,84,130,176,98,66,240,207,18,23,28,163,163,194,45,37,129,202,170,97,189,0,81,238,0,39,199,163,35,211,206,247,65,29,116,242,67,102,235,13,136,232,230,114,146,187,7,254,142,26,121,16,237,5,160,201,114,94,178,199,95,212,241,45,112,180,188,72,86,114,189,155,149,149,163,210,112,101,12,69,225,75,202,223,28,242,90,215,156,169,224,245,135,128,92,148,217,131,208,255,25,135,117,136,5,104,185,249,161,228,214,16,105,204,9,182,135,153,220,101,244,160,207,58,182,118,185,240,57,245,123,13,112,182,106,229,220,90,29,86,215,96,147,232,2,55,131,225,137,68,245,89,141,252,97,3,129,155,216,223,98,116,45,78,85,141,161,74,215,7,150,171,225,59,78,221,152,236,14,117,100,208,158,86,13,185,124,87,157,111,40,187,182,124,173,71,173,23,199,52,155,190,134,11,23,64,25,215,39,115,231,173,77,72,114,54,252,116,178,59,221,106,241,119,254,30,226,241,204,233,113,197,96,146,0,41,67,3,231,126,12,218,202,22,171,114,249,176,134,160,19,216,31,229,118,226,62,242,126,126,42,127,130,68,218,218,81,202,106,217,191,25,177,82,97,81,36,232,137,58,90,216,190,117,235,20,194,144,76,178,27,213,13,208,18,29,118,126,49,98,203,179,128,237,100,32,242,189,212,6,210,210,188,161,205,13,124,119,13,215,112,41,183,176,215,168,210,182,111,1,115,2,239,141,8,177,124,112,48,197,2,239,11,99,4,36,77,69,47,244,19,153,61,19,2,96,176,7,112,122,131,169,25,189,116,171,49,12,121,162,79,154,74,251,50,233,182,63,180,224,118,49,253,21,20,16,31,144,184,93,174,231,244,183,13,49,225,189,211,73,185,49,110,142,25,226,45,176,233,204,74,33,16,205,88,131,92,157,170,175,68,170,61,53,116,165,16,27,182,160,181,87,241,15,151,85,107,76,167,129,25,172,127,184,138,153,222,228,125,64,44,45,32,12,227,148,106,152,83,240,166,54,235,32,190,12,242,164,123,189,53,194,141,104,43,202,110,4,168,119,245,232,179,178,198,1,224,87,86,160,31,19,140,233,102,191,204,4,98,138,163,191,106,24,213,47,208,82,137,132,131,16,253,84,25,144,90,159,148,16,196,84,166,61,160,101,229,227,93,118,59,87,66,16,128,59,96,131,250,20,184,150,205,91,227,201,62,35,79,180,172,173,85,197,106,153,238,229,60,204,65,193,230,94,101,177,134,6,165,53,171,142,208,155,2,11,4,202,127,54,17,142,117,227,121,128,204,192,147,147,92,189,5,224,148,72,18,83,101,126,124,228,153,242,123,229,247,92,221,6,73,227,250,87,167,194,129,187,73,38,185,109,217,240,193,88,50,178,180,151,54,197,187,137,190,166,233,1,103,204,88,31,127,185,29,65,1,29,254,223,14,83,167,215,114,248,30,173,89,173,187,69,5,105,117,15,106,94,173,63,227,25,230,190,136,168,177,175,107,91,126,254,34,188,25,118,48,12,226,130,153,162,57,47,181,212,79,160,97,64,157,246,90,53,43,149,76,102,15,195,107,58,242,84,172,29,81,198,113,81,251,138,182,154,111,30,171,129,56,17,45,214,153,112,117,203,174,40,38,234,236,32,4,112,225,26,187,195,246,252,9,218,69,160,223,178,54,148,81,8,134,151,75,248,63,224,240,48,75,250,221,85,46,100,50,3,70,64,102,111,160,155,233,59,147,184,57,61,6,126,79,176,16,185,94,166,33,135,78,42,75,140,208,140,44,153,187,64,103,119,160,236,16,239,74,218,219,212,207,110,53,30,76,248,40,111,98,44,20,113,204,233,109,135,96,107,39,163,203,125,45,157,152,71,239,175,174,159,147,80,111,93,38,253,228,154,225,181,101,12,241,127,65,49,189,5,85,151,237,213,143,14,104,138,54,52,27,4,132,67,35,156,86,157,73,16,229,222,245,110,79,165,179,56,179,53,218,229,100,58,87,149,48,231,64,63,115,67,3,172,6,186,115,154,60,53,214,152,149,89,234,37,143,82,255,64,28,183,93,112,39,70,185,57,0,199,9,61,175,219,41,76,37,176,82,125,65,53,160,214,105,62,153,244,222,96,205,6,178,85,41,240,113,0,96,149,38,3,195,18,152,41,246,3,103,29,110,134,30,101,75,46,103,199,184,20,230,8,55,120,4,229,168,35,43,7,28,161,143,87,27,87,79,255,186,44,195,158,155,181,119,81,172,217,107,95,98,55,243,186,66,105,48,224,123,232,84,156,20,10,156,208,204,52,34,228,136,97,242,200,246,211,67,202,40,241,91,92,253,9,54,72,131,221,106,178,32,44,182,4,225,193,37,20,249,249,231,10,206,18,71,254,221,187,172,88,204,6,127,138,102,7,208,75,147,219,199,177,79,36,170,101,207,177,109,95,143,217,41,199,80,183,201,2,254,12,55,23,198,14,255,69,245,138,155,129,227,167,168,130,156,135,14,96,93,48,99,143,107,126,92,117,143,112,108,193,228,84,13,41,186,27,172,92,201,149,116,19,112,197,116,209,128,102,1,55,152,177,28,37,34,50,83,41,199,74,178,59,111,67,118,35,252,36,33,87,28,170,17,215,47,90,154,124,137,15,14,211,59,75,59,30,77,0,49,37,225,191,87,101,127,214,227,160,99,174,234,82,148,235,16,241,219,147,170,127,221,250,116,39,218,156,72,227,172,55,0,79,188,76,51,222,232,24,36,62,94,154,3,61,230,146,114,253,0,128,58,253,90,72,211,242,38,39,133,153,161,119,105,195,152,225,208,105,140,80,217,186,196,157,21,116,230,116,139,25,159,143,118,128,77,201,238,247,228,15,168,4,133,148,21,148,12,44,241,7,115,17,129,176,202,46,130,122,129,235,141,223,85,21,199,65,181,169,52,174,161,153,62,25,164,115,213,89,138,199,103,79,200,165,135,249,244,27,209,178,240,129,211,61,9,111,157,147,119,36,119,255,110,130,84,49,210,225,247,100,26,121,127,163,160,26,79,99,24,77,65,32,178,109,36,27,253,173,110,183,11,14,211,57,130,254,124,104,165,219,31,70,97,14,194,39,61,26,141,125,228,126,194,184,101,160,204,106,128,144,106,103,171,18,246,129,220,85,172,151,123,5,73,155,192,175,91,157,239,61,237,116,170,65,233,56,19,49,114,168,190,3,214,53,250,90,213,244,88,101,30,229,248,124,15,71,141,27,172,235,21,129,211,72,61,172,112,170,128,135,96,196,221,255,27,176,105,188,183,121,33,37,149,53,131,226,233,29,167,234,218,109,53,185,152,36,248,53,61,235,78,21,201,214,210,163,12,251,187,45,188,137,126,127,237,92,234,91,240,225,38,194,57,213,251,237,171,30,99,52,14,49,84,101,252,237,7,166,122,114,32,107,32,207,239,136,168,178,12,11,241,233,230,146,132,18,83,233,41,172,17,6,161,42,113,87,40,255,185,1,146,128,5,240,126,131,71,42,54,124,205,2,122,71,30,222,229,40,134,142,102,97,239,151,177,1,230,231,49,123,219,28,129,91,152,112,13,154,81,197,226,255,112,158,178,177,55,181,108,138,185,245,29,186,21,73,188,209,154,200,89,116,235,198,144,36,87,248,22,7,200,122,7,148,44,42,87,140,238,204,95,231,252,0,136,0,22,39,70,123,125,165,113,227,172,146,163,128,158,36,52,91,19,36,245,27,150,138,141,11,67,239,224,65,24,116,101,7,39,46,142,172,164,243,148,0,33,226,59,47,203,137,156,241,66,250,157,30,204,101,143,134,98,238,155,226,25,184,136,219,89,100,193,11,143,71,139,243,230,151,0,249,1,78,26,32,93,104,157,67,97,164,248,86,124,146,93,74,222,228,167,55,53,100,135,216,109,13,64,37,106,177,200,200,182,92,251,69,31,243,89,80,198,14,132,203,72,103,28,104,217,24,97,223,113,11,29,178,191,210,46,162,255,68,99,8,237,213,162,152,193,183,121,203,19,108,182,29,86,26,192,103,220,103,205,154,179,197,9,22,73,127,175,146,38,119,210,0,24,180,21,245,215,204,91,186,119,138,183,239,15,155,231,248,133,39,24,101,144,236,10,230,54,174,227,73,21,110,10,160,241,232,131,14,212,127,232,59,122,65,146,54,163,9,189,190,121,88,170,62,194,14,204,152,245,38,131,37,91,81,72,114,29,115,239,182,56,44,156,159,177,180,82,160,93,97,86,183,236,50,95,85,39,71,181,225,152,143,63,123,117,34,44,109,160,166,229,240,91,138,102,54,180,173,44,50,80,42,124,7,50,124,211,239,21,94,197,185,239,213,107,142,64,95,124,125,17,180,97,189,101,52,48,19,112,12,70,9,212,177,54,118,66,84,147,236,248,26,124,95,103,135,254,124,49,112,186,99,120,90,8,194,191,88,57,242,65,61,10,104,246,197,252,19,159,58,194,75,173,242,103,8,115,84,69,238,149,26,15,159,182,141,132,119,70,29,53,20,143,46,163,204,6,236,59,45,185,172,89,119,83,38,144,36,222,96,151,26,99,195,163,170,133,92,159,214,53,150,116,90,176,69,145,130,15,172,140,217,215,101,163,115,161,65,101,8,7,183,113,213,134,58,175,130,251,143,173,248,168,135,60,159,30,194,68,208,119,120,2,40,178,227,247,161,77,47,136,46,244,163,72,65,158,25,225,195,61,132,182,204,177,186,200,81,2,65,105,212,72,94,203,232,217,182,123,251,228,160,1,161,204,123,20,37,1,77,208,179,45,149,181,122,102,190,123,213,164,231,41,216,130,234,248,208,251,252,220,84,209,67,47,61,220,5,142,162,26,236,121,142,248,132,255,65,122,203,196,102,191,187,2,195,127,255,193,92,49,91,186,154,39,156,29,211,172,49,104,245,114,153,223,211,199,249,35,130,160,128,0,152,176,183,20,236,113,193,108,26,255,11,237,102,133,245,94,115,114,10,89,229,214,221,99,149,30,99,37,246,10,26,26,39,92,123,170,73,211,127,227,54,30,86,133,159,112,225,91,148,100,174,149,75,143,14,140,20,44,64,212,5,243,8,116,63,30,97,42,123,20,73,212,85,207,83,122,27,251,233,84,10,17,236,232,83,200,127,119,143,163,204,220,167,59,231,20,106,186,222,191,8,40,234,21,25,180,13,116,250,152,224,174,75,3,205,38,173,215,236,151,185,121,254,244,154,239,17,53,106,164,61,49,116,216,118,94,150,35,181,26,238,66,49,211,221,132,146,166,115,39,136,36,205,230,179,31,197,51,148,165,109,38,70,37,148,52,44,209,250,98,58,246,225,103,198,101,26,25,196,207,8,166,21,88,252,175,253,10,88,107,157,19,225,61,12,246,221,37,239,186,167,137,142,135,222,128,174,62,95,216,38,141,157,45,232,97,217,173,203,234,116,129,69,206,189,94,221,12,54,139,186,247,184,16,200,121,244,104,8,7,35,111,47,188,10,140,92,73,143,206,203,72,122,184,20,102,197,130,64,150,63,96,239,8,132,111,217,84,91,198,32,43,100,138,241,15,160,42,190,253,193,184,164,124,29,210,96,67,224,221,182,29,218,129,149,29,128,174,98,88,88,125,56,40,255,120,5,0,87,174,42,150,90,112,201,183,169,19,57,195,191,12,58,244,235,132,25,145,72,146,214,8,125,100,135,12,5,102,97,248,174,24,159,90,33,43,187,6,61,212,241,225,190,219,252,197,123,129,164,108,123,55,230,4,153,166,105,234,15,85,216,23,56,32,3,41,110,68,146,172,133,202,98,41,7,47,152,35,255,168,106,241,226,222,77,244,52,185,65,252,227,32,66,38,11,172,60,28,28,103,84,1,1,205,182,190,28,189,102,253,43,1,191,148,116,10,227,18,81,93,80,239,157,232,215,180,163,165,161,109,177,71,150,244,144,208,160,110,22,174,60,206,43,103,121,55,103,114,115,173,238,13,10,227,251,41,176,216,158,229,216,55,234,128,128,20,167,106,181,86,163,130,215,110,149,191,10,227,215,8,214,154,178,181,15,19,0,247,250,97,74,43,157,55,94,174,41,41,9,199,97,20,91,32,18,10,43,98,240,247,203,20,250,117,160,44,229,202,187,64,54,124,15,184,169,129,27,160,240,26,61,255,60,166,60,144,209,84,55,187,186,168,13,124,125,29,17,100,249,227,62,205,78,179,163,168,139,168,21,38,83,239,151,74,43,66,2,92,72,71,94,216,134,238,20,45,158,213,164,73,57,80,47,198,184,130,223,227,71,132,133,235,177,85,174,142,124,172,200,54,229,40,126,60,76,92,216,153,56,241,174,66,141,90,226,3,30,68,234,71,187,163,112,146,255,22,143,170,204,3,127,179,81,139,160,37,77,246,128,220,196,158,153,73,177,65,199,119,29,197,144,130,248,206,155,253,108,213,124,7,223,221,162,146,134,242,65,99,162,107,120,247,214,207,96,150,169,131,208,218,221,28,24,112,208,23,1,130,142,232,56,104,45,33,158,95,255,123,31,74,76,120,178,155,213,6,195,164,8,8,69,241,197,127,83,169,21,167,19,94,143,252,33,159,248,241,170,153,147,1,149,199,201,131,170,79,236,212,209,143,107,98,24,123,56,33,193,85,247,64,225,135,210,78,145,57,16,145,71,170,20,133,87,235,4,166,239,100,82,235,81,50,223,9,193,52,49,86,129,190,196,82,165,107,63,115,161,98,33,20,193,29,42,151,205,252,124,72,245,48,181,67,7,13,21,127,59,226,188,144,129,112,244,192,121,213,80,42,196,1,13,107,108,78,0,40,121,225,148,237,234,209,216,238,9,147,226,254,96,89,212,72,193,106,75,135,74,227,67,255,92,191,81,188,124,226,149,152,142,15,159,195,238,114,55,255,166,157,230,59,148,170,166,151,65,213,104,253,253,112,150,82,147,137,27,214,100,247,65,81,92,47,86,217,7,45,120,81,130,31,236,243,76,78,3,45,105,172,220,71,48,220,94,196,249,163,193,133,50,236,205,20,55,2,63,14,127,69,113,212,204,12,58,79,89,86,29,61,199,201,64,149,6,144,182,150,129,31,18,167,120,248,82,107,25,143,128,27,161,28,25,153,183,217,238,78,186,106,92,27,202,219,165,96,0,216,234,169,73,101,39,182,113,217,240,170,116,172,221,250,233,48,49,242,83,227,92,181,184,72,230,180,21,15,108,135,25,38,153,25,124,227,26,149,73,236,39,211,244,149,58,183,132,26,223,219,174,144,117,233,219,165,205,157,159,222,184,52,47,241,201,123,65,24,44,55,215,177,168,250,179,115,190,227,123,158,163,179,224,69,196,66,207,254,243,101,221,193,140,250,4,28,222,52,96,138,160,33,218,64,118,214,234,201,152,148,91,178,111,107,144,142,6,182,102,72,188,34,213,181,26,223,58,255,103,81,17,47,169,11,245,224,123,148,215,237,186,107,75,152,90,202,166,22,149,197,5,246,238,78,76,229,106,199,94,127,195,0,45,82,6,159,103,96,138,231,71,46,107,59,216,39,43,12,221,27,214,56,155,145,66,187,169,250,235,78,211,179,239,183,198,163,93,5,196,24,174,143,225,106,139,89,98,13,127,207,184,194,30,1,165,198,169,8,197,118,86,163,221,138,23,209,61,116,79,99,233,43,130,60,244,85,229,243,172,123,148,200,120,192,127,211,52,11,159,41,95,212,230,188,169,156,137,29,212,12,148,168,148,133,243,44,241,139,127,24,246,220,227,125,209,97,60,52,162,192,146,49,161,92,138,112,189,128,59,126,125,46,207,60,79,231,174,152,209,68,223,205,2,38,14,91,116,159,255,28,27,178,248,164,104,158,79,69,214,234,157,12,75,163,83,253,245,202,61,213,176,6,197,230,29,208,166,253,194,254,235,29,141,241,70,249,15,62,0,148,163,135,52,122,40,96,87,31,179,152,51,216,133,184,122,198,203,60,115,218,191,193,16,178,25,148,252,112,104,103,252,36,92,221,28,179,43,199,198,151,128,100,252,217,161,249,34,201,172,118,52,180,252,104,7,223,44,116,102,212,21,40,224,184,55,163,210,21,207,161,239,51,54,155,41,133,18,67,48,3,165,130,251,4,79,214,57,72,130,157,212,144],C=!1;l._instance=null,l.getInstance=function(){return l._instance||(l._instance=new l),l._instance},t.a={addVideoEffectCapability:function(e){e.videoEffect={canvas:null,video:null,fps:30,stopChromeBackgroundLoop:null,enableBeauty:!1,denoiseLevel:5,lightLevel:.35,rednessLevel:.5,lighteningContrastLevel:1,videoContextInited:!1,originVideoTrack:null,canvasVideoTrack:null,ctx:null},e._initVideoContext=function(){if(e.videoEffect.videoContextInited)throw new Error("Failed to init video context. Already inited");if(!e.stream)throw new Error("Failed to init video context. Local Stream not initialized");e.videoEffect.originVideoTrack=e.stream.getVideoTracks()[0],e.attributes&&e.attributes.maxFrameRate&&(e.videoEffect.fps=e.attributes.maxFrameRate),e.videoEffect.videoContextInited=!0},e._renderWithWebGL=function(t){return new Promise(function(r){e.videoEffect.canvas||(e.videoEffect.canvas=document.createElement("canvas")),e.videoEffect.video||(e.videoEffect.video=document.createElement("video")),e.videoEffect.video.setAttribute("autoplay",""),e.videoEffect.video.setAttribute("muted",""),e.videoEffect.video.muted=!0,e.videoEffect.video.setAttribute("playsinline",""),e.videoEffect.video.setAttribute("style","display:none"),e.videoEffect.video.srcObject=t;var n=t.getVideoTracks()[0].getSettings(),o=n.width,i=n.height;console.log("Width: ".concat(o,", Height: ").concat(i)),e.videoEffect.canvas.setAttribute("width",o),e.videoEffect.canvas.setAttribute("height",i),e.videoEffect.video.setAttribute("width",o),e.videoEffect.video.setAttribute("height",i);var a=l.getInstance();a.init(e.videoEffect.video.width,e.videoEffect.video.height,e.videoEffect.canvas),a.setDenoiseLevel(e.videoEffect.denoiseLevel),a.setLightLevel(e.videoEffect.lightLevel),a.setRednessLevel(e.videoEffect.rednessLevel),a.setContrastLevel(e.videoEffect.lighteningContrastLevel),e.videoEffect.video.addEventListener("playing",function t(){var n=e.videoEffect.canvas.captureStream(e.videoEffect.fps);e.videoEffect.video.removeEventListener("playing",t,!0),r([n.getVideoTracks()[0],e.videoEffect.video])},!0),e.videoEffect.video.play()})},e._disableEffect=function(){e.videoEffect.videoContextInited||e._initVideoContext();var t=e.videoEffect.originVideoTrack;if(!t)return _.default.warning("Video track is null, fail to disable video effect!"),Promise.resolve();if(e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var r=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find(function(e){return e&&e.track&&"video"==e.track.kind});if(r&&r.replaceTrack&&t)return r.replaceTrack(t)}return Promise.resolve()},e._releaseEffect=function(){var t;return t=e.videoEffect.enableBeauty?e._disableEffect():Promise.resolve(),l.getInstance().release(),e.videoEffect.videoContextInited=!1,e.videoEffect.canvasVideoTrack=null,t},e._enableEffect=function(){return e.videoEffect.videoContextInited||e._initVideoContext(),e.videoEffect.originVideoTrack?e.videoEffect.canvasVideoTrack?(e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()):e._renderWithWebGL(e.stream).then(function(t){var r=m()(t,2),n=r[0],o=r[1];e.videoEffect.canvasVideoTrack=n;var i=l.getInstance();return requestAnimationFrame(function t(){e.videoEffect.enableBeauty&&i.render(o),e.videoEffect.videoContextInited&&requestAnimationFrame(t)}),v.isChrome()&&document.addEventListener("visibilitychange",function(){document.hidden,document.hidden?e.videoEffect.stopChromeBackgroundLoop=function(e,t){var r=1/t,n=new AudioContext,o=n.createGain();o.gain.value=0,o.connect(n.destination),function t(){var a=n.createOscillator();a.onended=t,a.connect(o),a.start(0),a.stop(n.currentTime+r),e(n.currentTime),i&&(a.onended=function(){n.close()})}();var i=!1;return function(){i=!0}}(function(){e.videoEffect.enableBeauty&&i.render(o)},e.videoEffect.fps):e.videoEffect.stopChromeBackgroundLoop&&(e.videoEffect.stopChromeBackgroundLoop(),e.videoEffect.stopChromeBackgroundLoop=null)},!1),e._showEffectInLocalPlayer(),e._replaceWithCanvasTrack()}):(_.default.warning("Video track is null, fail to enable video effect!"),Promise.resolve())},e._showEffectInLocalPlayer=function(){if(e.player){var t=e.player.div.children[0];if("none"!==t.style.display&&(e.player.div.appendChild(e.videoEffect.canvas),"video"===t.tagName.toLowerCase())){var r=t.getAttribute("style");e.videoEffect.canvas.setAttribute("style",r),"none"!==t.style.display&&(t.style.display="none")}}},e._removeEffectFromLocalPlayer=function(){if(e.player&&e.player.div&&e.videoEffect.enableBeauty&&e.videoEffect.canvas){e.player.div.removeChild(e.videoEffect.canvas);var t=e.player.div.children[0];"video"===t.tagName.toLowerCase()&&(e.videoEffect.canvas.style.display="none",t.style.display="block")}},e._replaceWithCanvasTrack=function(){var t=null;return e.pc&&e.pc.peerConnection&&e.pc.peerConnection&&(t=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find(function(e){return e&&e.track&&"video"==e.track.kind})),t&&t.replaceTrack&&e.videoEffect.canvasVideoTrack?t.replaceTrack(e.videoEffect.canvasVideoTrack):Promise.resolve()},e.setBeautyEffectOptions=function(){var t=f()(g.a.mark(function t(r,n){var o,i=arguments;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(E.checkValidBoolean)(r,"enabled"),o=l.getInstance(),e.videoEffect.enableBeauty==r){t.next=14;break}if(o.setEnableBeauty(r),!r){t.next=9;break}return t.next=7,e._enableEffect();case 7:t.next=12;break;case 9:return e._removeEffectFromLocalPlayer(),t.next=12,e._releaseEffect();case 12:e.videoEffect.enableBeauty=r,y.report.reportApiInvoke(e.sid,{callback:null,options:i,name:"Stream.setBeautyEffectOptions",tag:"tracer"});case 14:if(r){t.next=16;break}return t.abrupt("return");case 16:if(!n){t.next=20;break}Object(E.checkValidObject)(n,"options"),t.next=21;break;case 20:return t.abrupt("return");case 21:if(void 0!==n.smoothnessLevel&&(Object(E.checkValidFloatNumber)(n.smoothnessLevel,"smoothnessLevel",0,1),e.videoEffect.denoiseLevel=10*n.smoothnessLevel,e.videoEffect.denoiseLevel<.1&&(e.videoEffect.denoiseLevel=.1),o.setDenoiseLevel(e.videoEffect.denoiseLevel)),void 0!==n.lighteningLevel&&(Object(E.checkValidFloatNumber)(n.lighteningLevel,"lighteningLevel",0,1),e.videoEffect.lightLevel=n.lighteningLevel/2,e.videoEffect.lightLevel<.01&&(e.videoEffect.lightLevel=.01),o.setLightLevel(e.videoEffect.lightLevel)),void 0!==n.rednessLevel&&(Object(E.checkValidFloatNumber)(n.rednessLevel,"rednessLevel",0,1),e.videoEffect.rednessLevel=n.rednessLevel,e.videoEffect.rednessLevel<.01&&(e.videoEffect.rednessLevel=.01),o.setRednessLevel(e.videoEffect.rednessLevel)),void 0===n.lighteningContrastLevel){t.next=29;break}if(0===n.lighteningContrastLevel||1===n.lighteningContrastLevel||2===n.lighteningContrastLevel){t.next=27;break}throw new Error("Invalid lighteningContrastLevel: The value should be 0, 1 or 2.");case 27:e.videoEffect.lighteningContrastLevel=parseFloat(n.lighteningContrastLevel),o.setContrastLevel(e.videoEffect.lighteningContrastLevel);case 29:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()},restoreVideoEffect:function(e){return e.videoEffect.enableBeauty?e._enableEffect():Promise.resolve()},disableVideoEffect:function(e){return e._releaseEffect?e._releaseEffect():Promise.resolve()},applyEffectInPlayer:function(e){e.videoEffect.enableBeauty&&e.videoEffect.canvas&&e._showEffectInLocalPlayer()},removeEffectFromLocalPlayer:function(e){e._removeEffectFromLocalPlayer()},replaceWithCanvasTrack:function(e){return e.videoEffect.enableBeauty?e._replaceWithCanvasTrack():Promise.resolve()},checkVideoEffectEnabled:function(e){return!!(e.videoEffect.enableBeauty&&e.videoEffect&&e.videoEffect.videoContextInited)&&(_.default.error("Operation not permitted: ".concat("VIDEO_EFFECT_ENABLED")),"VIDEO_EFFECT_ENABLED")}}},function(e,t){function r(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){function a(e){r(c,o,i,a,s,"next",e)}function s(e){r(c,o,i,a,s,"throw",e)}var c=e.apply(t,n);a(void 0)})}}},function(e,t,r){"use strict";function n(e){return"[object Array]"===u.call(e)}function o(e){return void 0===e}function i(e){return null!==e&&"object"==typeof e}function a(e){return"[object Function]"===u.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var c=r(36),u=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===u.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:i,isUndefined:o,isDate:function(e){return"[object Date]"===u.call(e)},isFile:function(e){return"[object File]"===u.call(e)},isBlob:function(e){return"[object Blob]"===u.call(e)},isFunction:a,isStream:function(e){return i(e)&&a(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function e(){function t(t,n){"object"==typeof r[n]&&"object"==typeof t?r[n]=e(r[n],t):r[n]=t}for(var r={},n=0,o=arguments.length;n<o;n++)s(arguments[n],t);return r},deepMerge:function e(){function t(t,n){"object"==typeof r[n]&&"object"==typeof t?r[n]=e(r[n],t):r[n]="object"==typeof t?e({},t):t}for(var r={},n=0,o=arguments.length;n<o;n++)s(arguments[n],t);return r},extend:function(e,t,r){return s(t,function(t,n){e[n]=r&&"function"==typeof t?c(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,r){"use strict";function n(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",function(){return l});var i=r(7),a=r.n(i),s=r(8),c=r(0),u=r(5),l=new function(){var e=Object(s.b)();return e.devicesHistory={},e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.deviceStates={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},e.deviceReloadTimer=null,e._init=function(t,r){e.state=e.states.INITING,e.devicesHistory={},e._reloadDevicesInfo(function(){e.state=e.states.INITED,e.dispatchEvent({type:"inited"}),t&&t()},function(t){c.default.warning("Device Detection functionality cannot start properly."),e.state=e.states.UNINIT,r&&r(t)})},e._enumerateDevices=function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return c.default.warning("enumerateDevices() not supported."),t&&t("enumerateDevices() not supported");navigator.mediaDevices.enumerateDevices().then(function(t){e&&setTimeout(function(){e(t)},0)}).catch(function(e){t&&t(e)})},e._reloadDevicesInfo=function(t,r){var n=[];e._enumerateDevices(function(r){var o=Date.now();for(var i in r.forEach(function(t){var r=e.devicesHistory[t.deviceId];if((r?r.state:e.deviceStates.INACTIVE)!=e.deviceStates.ACTIVE){var i=r||{initAt:o};i.device=t,i.state=e.deviceStates.ACTIVE,n.push(i),e.devicesHistory[t.deviceId]=i}e.devicesHistory[t.deviceId].lastReloadAt=o}),e.devicesHistory){var s=e.devicesHistory[i];s&&s.state==e.deviceStates.ACTIVE&&s.lastReloadAt!==o&&(s.state=e.deviceStates.INACTIVE,n.push(s)),s.lastReloadAt=o}e.state==e.states.INITED&&n.forEach(function(t){var r=a()({},t);switch(t.device.kind){case"audioinput":r.type="recordingDeviceChanged";break;case"audiooutput":r.type="playoutDeviceChanged";break;case"videoinput":r.type="cameraChanged";break;default:c.default.warning("Unknown device change",r),r.type="unknownDeviceChanged"}e.dispatchEvent(r)}),t&&t()},r)},e.getDeviceById=function(t,r,n){e.getDevices(function(e){for(var o=0;o<e.length;o++){var i=e[o];if(i&&i.deviceId===t)return r&&r(i)}return n&&n()})},e.searchDeviceNameById=function(t){var r=e.devicesHistory[t];return r?r.device.label||r.device.deviceId:null},e.getDevices=function(t,r){e._enumerateDevices(t,function(e){r&&r(e.name+": "+e.message)})},e.getVideoCameraIdByLabel=function(t,r,o){e.getCameras(function(e){var i,a=n(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.label===t)return r&&r(s.deviceId)}}catch(e){a.e(e)}finally{a.f()}return o&&o(u.default.NOT_FIND_DEVICE_BY_LABEL)},o)},e.getRecordingDevices=function(t,r){return e._enumerateDevices(function(e){var r=e.filter(function(e){return"audioinput"==e.kind});t&&t(r)},function(e){r&&r(e)})},e.getPlayoutDevices=function(t,r){return e._enumerateDevices(function(e){var r=e.filter(function(e){return"audiooutput"==e.kind});t&&t(r)},function(e){r&&r(e)})},e.getCameras=function(t,r){return e._enumerateDevices(function(e){var r=e.filter(function(e){return"videoinput"==e.kind});t&&t(r)},function(e){r&&r(e)})},e._init(function(){navigator.mediaDevices&&navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",function(){e._reloadDevicesInfo()}),e.deviceReloadTimer=setInterval(e._reloadDevicesInfo,5e3)}),e}},function(e,t,r){"use strict";r.r(t),r.d(t,"_getReconnectCSTimer",function(){return T}),r.d(t,"_setClientConnectionStateRecord",function(){return A}),r.d(t,"getGatewayList",function(){return I}),r.d(t,"getUserAccount",function(){return w});var n=r(11),o=r.n(n),i=r(13),a=r.n(i),s=r(17),c=r.n(s),u=r(3),l=(r(4),r(0)),d=r(14),g=r(1),p=r(5),f=function(e,t){var r=!1,n=0,o={command:"convergeAllocateEdge",sid:e.sid,appId:e.appId,token:e.token,uid:e.uid,cname:e.cname,ts:Math.floor(Date.now()/1e3),version:u.VERSION,seq:0,requestId:1};Object(u.getParameter)("PROXY_CS").map(function(i){var a=(new Date).getTime();h("https://"+i+"/api/v1",o,function(o,s){if(o)return l.default.debug("["+e.clientId+"] Request proxy server failed: ",o),n++,g.report.requestProxyAppCenter(e.sid,{lts:a,succ:!1,APAddr:i,workerManagerList:null,ec:JSON.stringify(o),response:JSON.stringify({err:o,res:s})}),void(n>=Object(u.getParameter)("PROXY_CS").length&&t&&t("Get proxy server failed: request all failed"));if(!r)if((s=JSON.parse(s)).json_body){var c=JSON.parse(s.json_body);if(l.default.debug("["+e.clientId+"] App return:",c.servers),200!==c.code)o="Get proxy server failed: response code ["+c.code+"], reason [ "+c.reason+"]",l.default.debug("["+e.clientId+"] "+o),g.report.requestProxyAppCenter(e.sid,{lts:a,succ:!1,APAddr:i,workerManagerList:null,ec:o,response:JSON.stringify({err:o,res:s})}),t&&t(o);else{r=!0;var d=v(c.servers);g.report.requestProxyAppCenter(e.sid,{lts:a,succ:!0,APAddr:i,workerManagerList:JSON.stringify(d),ec:null,response:JSON.stringify({res:s})}),t&&t(null,d)}}else l.default.debug("["+e.clientId+"] Get proxy server failed: no json_body"),g.report.requestProxyAppCenter(e.sid,{lts:a,succ:!1,APAddr:i,workerManagerList:null,ec:"Get proxy server failed: no json_body",response:JSON.stringify({res:s})})})})},h=function(e,t,r){var n={service_name:"webrtc_proxy",json_body:JSON.stringify(t)};Object(d.post)(e,n,function(e){r&&r(null,e)},function(e){r&&r(e)},{"X-Packet-Service-Type":0,"X-Packet-URI":61})},m=function(e,t,r){var n=!1,o=0,i={command:"request",gatewayType:"http",appId:e.appId,cname:e.cname,uid:e.uid+"",sdkVersion:"2.3.1",sid:e.sid,seq:1,ts:+new Date,requestId:3,clientRequest:{appId:e.appId,cname:e.cname,uid:e.uid+"",sid:e.sid}};t.map(function(a){var s=(new Date).getTime();!function(e,t,r){Object(d.post)(e,t,function(e){r&&r(null,e)},function(e){r&&r(e)})}("https://"+a+":4000/v2/machine",i,function(i,c){if(i)return l.default.debug("["+e.clientId+"] Request worker manager failed: ",i),o++,g.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!1,workerManagerAddr:a,ec:JSON.stringify(i),response:JSON.stringify({res:c})}),void(o>=t.length&&r&&r("requeet worker manager server failed: request failed"));if(!n){if(!(c=JSON.parse(c)).serverResponse)return r&&r("requeet worker manager server failed: serverResponse is undefined");n=!0,g.report.requestProxyWorkerManager(e.sid,{lts:s,succ:!0,workerManagerAddr:a,ec:JSON.stringify(i),response:JSON.stringify({res:c})}),r&&r(null,{address:a,serverResponse:c.serverResponse})}})})},v=function(e){if(!e||[]instanceof Array==0)return[];var t=[];return e.forEach(function(e){var r;e.address&&e.tcp?(e.address.match(/^[\.\:\d]+$/)?r="".concat(e.address.replace(/[^\d]/g,"-"),".edge.agora.io"):(l.default.info("["+joinInfo.clientId+"] "+"Cannot recognized as IP address ".concat(e.address,". Used As Host instead")),r="".concat(e.address,":").concat(e.tcp)),t.push(r)):l.default.error("["+joinInfo.clientId+"] Invalid address format ",e)}),t},y=function(e,t){var r,n=Object(u.getParameter)("PROXY_CS"),o=0,i=!0;n.map(function(a){var s=Date.now();!function(e,t,r,n){var o={opid:133,flag:1048576,ts:+new Date,key:t.token,cname:t.cname,sid:t.sid,detail:{},uid:t.uid||0};e="https://".concat(e,"/api/v1"),Object(d.post)(e,o,function(n){try{var o=JSON.parse(n);o.res&&(o=o.res);var i=o.code}catch(e){return l.default.error("[".concat(t.clientId,"] requestProxyServer failed with unexpected body ")),r("UNEXPECTED_ERROR")}var a;if(i)return a=new RegExp(/10102\d{2}$/).test(i)?"NO_SERVICE_AVAILABLE":p.APErrorCode[o.code]||i,l.default.error("[".concat(t.clientId,"] requestProxyServer failed: ").concat(a)),r(a);(!o.addresses||!o.addresses instanceof Array)&&r("UNEXPECTED_ERROR");var s=Object(u.getParameter)("GATEWAY_DOMAINS"),c=0;e.indexOf(s[1])>-1&&(c=1);var d=o.addresses.map(function(e){if(e.ip)return e.ip="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(s[c++%s.length]),e});return r(null,d)},function(e,t){r("timeout"===e.type?"REQUEST_PROXY_SERVER_TIME_OUT":"REQUEST_PROXY_SERVER_FAILED")},{"X-Packet-Service-Type":0,"X-Packet-URI":69})}(a,e,function(c,u){var d=Date.now();try{g.report.joinWebProxyAP({lts:d,sid:e.sid,cname:e.cname,cid:e.cid,uid:e.uid,sucess:c?-1:1,elapse:d-s,eventType:"proxy3",apServerAddr:a,turnServerAddrList:JSON.stringify(u),errorCode:c||"0"})}catch(e){}c?(o++,l.default.error("[".concat(e.clientId,"] request ").concat(a," failed: ").concat(c)),c&&-1===p.JOIN_PROXY_RETRY_LIST.indexOf(c)&&(r=c),o===n.length&&(r||(r="RETRYABLE_ERROR"),t(r))):i&&(i=!1,t(null,u))})})},E=r(12),_=r(29),S={},b={},T=function(e){return S[e]},A=function(e,t){b[e]=t},R=function(e,t,r,n,o){var i=(new Date).getTime(),a=t,s="";t.multiIP&&t.multiIP.gateway_ip&&(s={vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]});var c=Object(u.getParameter)("AREA_SETTING").reduce(function(e,t,r){var n=Object(_.getAreaCodeByArea)(t);return n?0===r?n:"".concat(e,",").concat(n):e},""),f={opid:133,flag:4096,ts:+new Date,key:t.token,cname:t.cname,sid:t.sid,detail:{6:t.stringUid,11:c},uid:t.uid||0};s&&(f.detail[5]=JSON.stringify(s)),Object(d.post)(e+"".concat(-1===e.indexOf("?")?"?":"&","action=wrtc_gateway"),f,function(o){try{var s=JSON.parse(o);s.res&&(s=s.res);var c=s.code}catch(e){var d="requestChooseServer failed with unexpected body "+o;return l.default.error("["+a.clientId+"]",d),n(d)}if(c)return v=new RegExp(/10102\d{2}$/).test(c)?"NO_SERVICE_AVAILABLE":p.APErrorCode[s.code]||c,g.report.joinChooseServer(t.sid,{lts:i,succ:!1,csAddr:e,serverList:null,ec:v}),n("Get server node failed ["+v+"]",e,v);var f=[],h=Object(u.getParameter)("GATEWAY_DOMAINS"),m=0;if(e.indexOf(h[1])>-1&&(m=1),s.addresses.forEach(function(e){var t;e.ip&&e.port?(e.ip.match(/^[\.\:\d]+$/)?t="".concat(e.ip.replace(/[^\d]/g,"-"),".").concat(h[m++%h.length],":").concat(e.port):(l.default.info("["+a.clientId+"] "+"Cannot recognized as IP address ".concat(e.ip,". Used As Host instead")),t="".concat(e.ip,":").concat(e.port)),f.push(t)):l.default.error("["+a.clientId+"] Invalid address format ",e)}),!f.length){l.default.error("["+a.clientId+"] Empty Address response",s);var v="EMPTY_ADDRESS_RESPONSE";return g.report.joinChooseServer(t.sid,{lts:i,succ:!1,csAddr:e,serverList:null,ec:v}),n("Get server node failed ["+v+"]",e,v)}var y={gateway_addr:f,uid:s.uid,cid:s.cid,vid:s.detail&&s.detail[8],res:s,uni_lbs_ip:s.detail};return r(y,e)},function(e,r){"timeout"===e.type?(g.report.joinChooseServer(t.sid,{lts:i,succ:!1,csAddr:r,serverList:null,ec:"timeout"}),n("Connect choose server timeout",r)):(g.report.joinChooseServer(t.sid,{lts:i,succ:!1,csAddr:r,serverList:null,ec:"server_wrong"}),n("Connect choose server error",r))},{"X-Packet-Service-Type":0,"X-Packet-URI":69})},I=function(e,t,r){var n=!1,o=null,i=1,a=1,s=e.clientId,c=function t(a,c){if(!n){var d=[];!function(e,t,r){for(var n,o=(new Date).getTime(),i=!1,a=0,s=Object(u.getParameter)("WEBCS_DOMAIN"),c=Object(u.getParameter)("WEBCS_DOMAIN_BACKUP_LIST"),d=function(r,n){if(i)g.report.joinChooseServer(e.sid,{lts:o,succ:!0,csAddr:n,serverList:r.gateway_addr,cid:r.cid+"",uid:r.uid+"",ec:null},!1);else{if(clearTimeout(E),i=!0,e.proxyServer)for(var a=r.gateway_addr,s=0;s<a.length;s++){var c=a[s].split(":");r.gateway_addr[s]=e.proxyServer+"/ws/?h="+c[0]+"&p="+c[1]}t(r),g.report.joinChooseServer(e.sid,{lts:o,succ:!0,csAddr:n,serverList:r.gateway_addr,cid:r.cid+"",uid:r.uid+"",ec:null},!0)}},f=function(t,o,i){a++,l.default.error("["+e.clientId+"]",t,o,i),i&&-1===p.JOIN_CS_RETRY_LIST.indexOf(i)&&(n=i),a===s.length+c.length&&r(n)},h=0;h<s.length;++h){var m;if("string"==typeof s[h]){var v=s[h];m=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(v+"/api/v1"):"https://".concat(v,"/api/v1");var y=Object(_.getAreaCodeByWebCS)(v);l.default.debug("["+e.clientId+"] "+"Connect to choose_server: ".concat(m,", ").concat(y)),R(m,e,d,f)}else l.default.error("["+e.clientId+"] Invalid Host",s[h])}var E=setTimeout(function(){if(!i)for(var t=0;t<c.length;++t)if("string"==typeof c[t]){var r=c[t];m=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(r+"/api/v1"):"https://".concat(r,"/api/v1");var n=Object(_.getAreaCodeByWebCS)(r);l.default.debug("["+e.clientId+"] "+"Connect to backup_choose_server: ".concat(m,", ").concat(n)),R(m,e,d,f)}else l.default.error("["+e.clientId+"] Invalid Host",c[t])},1e3)}(e,function(t){n=!0,d=t,clearTimeout(o),b[s]!==E.a.DISCONNECTED&&b[s]!==E.a.DISCONNECTING?c&&c(d,null):l.default.debug("[".concat(e.clientId,"] Request gateway list success when connection state is ").concat(b[s]))},function(n){if(n)return l.default.info("["+e.clientId+"] Join failed: "+n),void(r&&r(n));if(b[s]===E.a.DISCONNECTED||b[s]===E.a.DISCONNECTING)return l.default.debug("[".concat(e.clientId,"] Request gateway list falied when connection state is ").concat(b[s])),void(r&&r("OPERATION_ABORT"));l.default.debug("["+e.clientId+"] Request gateway list will be restart in "+i+"s"),o=setTimeout(function(){t(a,c)},1e3*i),S[s]=o;var d=Object(u.getParameter)("AP_BACKOFF_MAX_TIME");i=i>=d?d:2*i})}},d=function r(){!function(e,t){f(e,function(r,n){if(r)return t&&t(r);l.default.debug("["+e.clientId+"] getProxyServerList: ",n),m(e,n,t)})}(e,function(n,i){if(n){l.default.debug("["+e.clientId+"]",n),l.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),o=setTimeout(function(){r()},1e3*a),S[s]=o;var d=Object(u.getParameter)("AP_BACKOFF_MAX_TIME");a=a>=d?d:2*a}else{clearTimeout(o);var p=i.address;e.proxyServer=p;var f={mode:"manual",url:i.address,tcpport:i.serverResponse.tcpport||"3433",udpport:i.serverResponse.udpport||"3478",username:i.serverResponse.username||"test",credential:i.serverResponse.password||Object(u.getParameter)("TURN_SERVER_PASSWORD"),forceturn:!0};f.tcpport+="",f.udpport+="",e.turnServers=[],e.turnServers.push(f),g.report.setProxyServer(p),l.default.setProxyServer(p),c(p,t)}})};e.useProxyServer?1==e.proxyServerType?d():2==e.proxyServerType?function r(){!function(e,t){f(e,function(r,n){return r?t&&t(r):(l.default.debug("["+e.clientId+"] getProxyServerList: ",n),t&&t(null,{address:n[0],serverResponse:{tcpport:"443",udpport:"3478",username:"test",password:"111111"}}))})}(e,function(n,i){if(n)return l.default.debug("["+e.clientId+"]",n),l.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),o=setTimeout(function(){r()},1e3*a),S[s]=o,void(a=a>=3600?3600:2*a);clearTimeout(o);var d=Object(u.getParameter)("PROXY_SERVER_TYPE2");e.proxyServer=d;var p={mode:"manual",url:i.address,tcpport:i.serverResponse.tcpport||"3433",udpport:i.serverResponse.udpport||"3478",username:i.serverResponse.username||"test",credential:i.serverResponse.password||"111111",forceturn:!0};p.tcpport+="",p.udpport+="",e.turnServers=[],e.turnServers.push(p),g.report.setProxyServer(d),l.default.setProxyServer(d),c(d,t)})}():3==e.proxyServerType?function n(){y(e,function(i,d){if(i)return"RETRYABLE_ERROR"!==i?r&&r(i):(l.default.debug("["+e.clientId+"]",i),l.default.debug("["+e.clientId+"] Request proxy will be restart in "+a+"s"),o=setTimeout(function(){n()},1e3*a),S[s]=o,void(a=a>=3600?3600:2*a));clearTimeout(o);var p=Object(u.getParameter)("PROXY_SERVER_TYPE3");e.proxyServer=p,e.turnServers=[],d.map(function(t){var r={mode:"manual",url:t.ip,tcpport:t.port||"443",udpport:t.port||"3478",username:t.username||"test",credential:t.password||Object(u.getParameter)("TURN_SERVER_PASSWORD"),forceturn:!0};r.tcpport+="",r.udpport+="",e.turnServers.push(r)}),g.report.setProxyServer(p),l.default.setProxyServer(p),c(p,t)})}():d():c(null,t)},O=function(e,t,r,n,o){var i=Date.now();n=n||t.stringUid;var a={sid:t.sid,opid:10,appid:t.appId,string_uid:n};return new Promise(function(o,s){Object(d.post)(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),a,function(c){try{var u=JSON.parse(c),d=u.code}catch(o){var f="requestUserAccount failed with unexpected body "+c;return l.default.error("["+t.clientId+"]",f),s({retryable:!0,info:f,url:e,error:"UNEXPECTED_ERROR"}),r&&r.dispatchEvent({type:"error",reason:"USER_ACCOUNT_BODY_NOT_JSON"}),void g.report.reqUserAccount(a.sid,{lts:i,success:!1,serverAddress:e,stringUid:n,uid:null,extend:c,errorCode:"USER_ACCOUNT_BODY_NOT_JSON"})}if(d){var h=!1;return"INTERNAL_SERVER_ERROR"===(v=p.StringUidErrorCode[u.code%1e4]||"REQ_ACCOUNT_ERR_".concat(d))&&(h=!0),r&&r.dispatchEvent({type:"error",reason:v}),g.report.reqUserAccount(a.sid,{lts:i,success:!1,serverAddress:e,stringUid:n,uid:null,errorCode:v,extend:a}),s({retryable:h,info:f="Get String Uid Failed ["+v+"]",url:e,error:v})}var m=u.uid;if(!(m>0&&m<Math.pow(2,32))){l.default.error("["+t.clientId+"] "+"Invalid Uint Uid ".concat(n," => ").concat(m),u);var v="INVALID_UINT_UID_".concat(m);return r&&r.dispatchEvent({type:"error",reason:v}),g.report.reqUserAccount(a.sid,{lts:i,success:!1,serverAddress:e,stringUid:n,uid:null,errorCode:v,extend:a}),s({retryable:!0,error:v,info:"Get String Uid failed ["+v+"]",url:e})}o({uid:m,url:e}),g.report.reqUserAccount(a.sid,{lts:i,success:!0,serverAddress:e,stringUid:n,uid:m,errorCode:null,extend:a})},function(e,t){if("timeout"===e.type){var o="USER_ACCOUNT_TIMEOUT";r&&r.dispatchEvent({type:"error",reason:o}),g.report.reqUserAccount(a.sid,{lts:i,success:!1,serverAddress:t,stringUid:n,uid:null,errorCode:o,extend:a}),s({retryable:!0,info:o,url:t,error:o})}else{var c="USER_ACCOUNT_SERVER_WRONG_".concat(e.type);r&&r.dispatchEvent({type:"error",reason:c}),g.report.reqUserAccount(a.sid,{lts:i,success:!1,serverAddress:t,stringUid:n,uid:null,errorCode:c,extend:a}),s({retryable:!0,info:c,url:t,error:c})}},{"X-Packet-Service-Type":0,"X-Packet-URI":72})})},w=function(e,t,r){Date.now();var n,i=Object(u.getParameter)("ACCOUNT_REGISTER"),s=!1,d=Object(u.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT"),g=null,p=null,f=new Promise(function(){var f=c()(a.a.mark(function c(f,h){var m,v,y;return a.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:g=f,p=h,n=0;case 3:if(!(n<Object(u.getParameter)("ACCOUNT_REGISTER_RETRY_COUNT_MAX"))){c.next=33;break}if(!s){c.next=6;break}return c.abrupt("return");case 6:return m=i[n%i.length],v=e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(m+"/api/v1"):"https://".concat(m,"/api/v1"),c.prev=8,c.delegateYield(a.a.mark(function n(){var o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.proxyServer,n.next=3,O(v,e,t,r);case 3:if(o=n.sent,!s){n.next=6;break}return n.abrupt("return",{v:void 0});case 6:s=!0,setTimeout(function(){l.default.debug("Get UserAccount Successfully",o),g(o)},0);case 8:case"end":return n.stop()}},n)})(),"t0",10);case 10:if(y=c.t0,"object"!==o()(y)){c.next=13;break}return c.abrupt("return",y.v);case 13:c.next=30;break;case 15:if(c.prev=15,c.t1=c.catch(8),!s){c.next=19;break}return c.abrupt("return");case 19:if(!c.t1.retryable){c.next=27;break}return(d=Math.ceil(d*Object(u.getParameter)("ACCOUNT_REGISTER_RETRY_RATIO")))>Object(u.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")&&(d=Object(u.getParameter)("ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX")),l.default.error("".concat(c.t1.info," ").concat(c.t1.url," Will Fetch User Account in ").concat(d/1e3," seconds")),c.next=25,new Promise(function(e){setTimeout(e,d)});case 25:c.next=30;break;case 27:l.default.error("Get UserAccount Error: ".concat(c.t1.info," ").concat(c.t1.url),c.t1.error),s=!0,p(c.t1.error);case 30:n++,c.next=3;break;case 33:case"end":return c.stop()}},c,null,[[8,15]])}));return function(e,t){return f.apply(this,arguments)}}());return f.cancel=function(){s||(s=!0,p({info:"Request Cancelled",retryable:!1}))},f.isFinished=function(){return s},f}},function(e,t,r){"use strict";r.d(t,"a",function(){return O}),r.d(t,"b",function(){return w});var n=r(7),o=r.n(n),i=r(4),a=r(8),s=function(e){var t=Object(a.b)(e);return t.url=".",t},c=r(0),u=r(15),l=r(5),d=r(3),g=r(1),p=0,f=function(e){var t=s({});t.id=e.id,t.playerId=p++,t.destroyed=!1,t.fit=e.options&&e.options.fit,"contain"!==t.fit&&"cover"!==t.fit&&(t.fit=null),t.url=e.url,t.stream=e.stream.stream,t.peerVideoReady=!1,t.isFreeze=!1,t.freezeTimeCounterList=[],t.freezeCount=0,t.lastFreezeCount=0,t.lastTimeupdateTime=0,t.elementID=e.elementID,t.setAudioOutput=function(e,r,n){var o=t.video||t.audio;return o?o.setSinkId?void o.setSinkId(e).then(function(){return c.default.debug("["+t.id+"] "+"video ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),o==t.video&&t.audio?t.audio.setSinkId(e):Promise.resolve()}).then(function(){return c.default.debug("["+t.id+"] "+"audio ".concat(t.id," setAudioOutput ").concat(e," SUCCESS")),r&&r()}).catch(function(e){return c.default.error("["+t.id+"] VideoPlayer.setAudioOutput",e),n&&n(e)}):(c.default.error("["+t.id+"] ",l.default.WEB_API_NOT_SUPPORTED),n&&n(l.default.WEB_API_NOT_SUPPORTED)):(c.default.error("["+t.id+"] ",l.default.PLAYER_NOT_FOUND),n&&n(l.default.PLAYER_NOT_FOUND))},t.destroy=function(){c.default.debug("[".concat(t.id,"] destroy ").concat(e.stream.local?"local":"remote"," Player ").concat(t.id)),Object(u.setSrcObject)(t.video,null),Object(u.setSrcObject)(t.audio,null),t.video.load(),t.audio.load(),t.video.pause(),t.freezeCheckInterval&&clearInterval(t.freezeCheckInterval),t.destroyed=!0,delete t.resizer,document.getElementById(t.div.id)&&t.parentNode.contains(t.div)&&t.parentNode.removeChild(t.div),["video","audio"].forEach(function(r){t[r];var n=a[r];clearTimeout(n.playDeferTimeout),n.formerMediaState=null;var o={playerId:t.playerId,stateId:n.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"stop",updatedAt:Date.now()};a[r]=o;var i={type:"player-status-change",playerId:t.playerId,mediaType:r,status:o.status,reason:o.reason,isErrorState:!1,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change Triggered by destroy()"),i),e.stream.dispatchEvent(i),g.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:i,tag:"tracer"})()})},t.div=document.createElement("div"),t.div.setAttribute("id","player_"+t.id),e.stream.video?t.div.setAttribute("style","width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"):t.div.setAttribute("style","width: 100%; height: 100%; position: relative; overflow: hidden;"),t.video=document.createElement("video"),t.video.setAttribute("id","video"+t.id),e.stream.local&&!e.stream.screen?e.stream.mirror?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; transform: rotateY(180deg); object-fit: ".concat(t.fit||"cover",";")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.video?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"cover",";")):e.stream.screen?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: ".concat(t.fit||"contain")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; display: none; object-fit: ".concat(t.fit||"cover"));var r={autoplay:!0,muted:!!e.stream.local||!(!i.isSafari()&&"iOS"!==i.getBrowserOS())&&"video_element_muted",playsinline:!0,controls:!1,volume:null},n=o()({},r,e.options);!0!==n.muted||n.volume||(n.volume=0),t.video.setAttribute("autoplay",""),t.video.setAttribute("muted",""),t.video.muted=!0,t.video.autoplay=!0,n.playsinline&&t.video.setAttribute("playsinline",""),n.controls&&t.video.setAttribute("controls",""),n.contains&&(t.video.controls=!0),Number.isFinite(n.volume)&&(t.video.volume=n.volume),t.audio=document.createElement("audio"),t.audio.setAttribute("id","audio"+t.id),!0===n.muted&&t.audio.setAttribute("muted",""),!0===n.muted&&(t.audio.muted=!0),n.playsinline&&t.audio.setAttribute("playsinline",""),Number.isFinite(n.volume)&&(t.audio.volume=n.volume),void 0!==t.elementID?(document.getElementById(t.elementID).appendChild(t.div),t.container=document.getElementById(t.elementID)):(document.body.appendChild(t.div),t.container=document.body),t.parentNode=t.div.parentNode;var a={video:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()},audio:{playerId:t.playerId,stateId:0,playDeferTimeout:null,error:!1,status:"init",reason:null,updatedAt:Date.now()}};t.mediaElemExists=function(e){for(var t=e,r=0;r<Object(d.getParameter)("MEDIA_ELEMENT_EXISTS_DEPTH")&&t;r++)t=t.parentNode;return!!t};var f=function(e){return t.mediaElemExists(e)?e.paused?"paused":"play":"aborted"},h=function(e,t,r){var n=f(e),o=!0;return"paused"===n?("audio"===t&&!0===r.muted&&(o=!1),r.autoplay||(o=!1)):"play"===n?"video"===t?o=!1:!0===r.muted?e.muted&&(o=!1):e.muted||(o=!1):"aborted"===n&&(o=!1),o},m=function(r){var o,i=this;if(i===t.video?o="video":i===t.audio&&(o="audio"),o){if(r.type||c.default.error("[".concat(t.id,"] Unexpected evt"),r),"video"===o&&i.muted&&i.paused)return c.default.debug("[".concat(t.id,"] auto resume video element")),void i.play();var s=f(i);clearTimeout(a[o].playDeferTimeout),a[o].playDeferTimeout=setTimeout(function(){a[o].playDeferTimeout=null;var u=a[o],l=f(i);if(s===l){var d={playerId:t.playerId,stateId:u.stateId+1,playDeferTimeout:null,error:h(i,o,n),status:f(i),reason:r.type,updatedAt:Date.now()};if(u.status!==d.status){a[o]=d;var p={type:"player-status-change",playerId:t.playerId,mediaType:o,status:d.status,reason:d.reason,isErrorState:d.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),p),e.stream.dispatchEvent(p),g.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:p,tag:"tracer"})()}}else c.default.debug("[".concat(t.id,"] Status Change after event Triggered.")+"Stream ".concat(t.id," PlayerId ").concat(t.playerId," mediaType ").concat(o," Status ").concat(s,"=>").concat(l))},Object(d.getParameter)("PLAYER_STATE_DEFER"))}else c.default.error("[".concat(t.id,"] Unknown media element"),i)};t.video.addEventListener("playing",function(e){!function e(){t.video.videoWidth*t.video.videoHeight>4?c.default.debug("["+t.id+"] video dimensions:",t.video.videoWidth,t.video.videoHeight):setTimeout(e,50)}()});var v=0,y=0,E=0;t.freezeCheckInterval=setInterval(function(){Date.now()-t.lastTimeupdateTime>500&&t.peerVideoReady?(t.isFreeze=!0,t.freezeCount+=1):t.isFreeze=!1},500),t.video.addEventListener("playing",m),t.video.addEventListener("canplay",m),t.video.addEventListener("abort",m),t.video.addEventListener("onerror",m),t.video.addEventListener("suspend",m),t.video.addEventListener("stalled",m),t.video.addEventListener("pause",m),t.audio.addEventListener("playing",m),t.audio.addEventListener("canplay",m),t.audio.addEventListener("abort",m),t.audio.addEventListener("onerror",m),t.audio.addEventListener("suspend",m),t.audio.addEventListener("stalled",m),t.audio.addEventListener("pause",m);var _=t.audio,S="audio";if(e.stream.hasVideo()||e.stream.hasScreen())t.div.appendChild(t.video),t.div.appendChild(t.audio),i.isEdge()?t.video.srcObject=e.stream.stream:(Object(u.attachMediaStream)(t.video,e.stream.stream),Object(u.attachMediaStream)(t.audio,e.stream.stream)),t.video.addEventListener("timeupdate",function(){var e=Date.now();if((v+=1)<10)t.lastTimeupdateTime=e;else for(e-t.lastTimeupdateTime>500&&(t.peerVideoReady?y+=e-t.lastTimeupdateTime:t.peerVideoReady=!0),E+=e-t.lastTimeupdateTime,t.lastTimeupdateTime=e;E>=6e3;)E-=6e3,t.freezeTimeCounterList.push(Math.min(6e3,y)),y-=6e3,y=Math.max(y,0)});else{!1!==n.muted&&"video_element_muted"!==n.muted||(t.video.removeAttribute("muted"),t.video.muted=!1),t.video.removeAttribute("autoplay"),t.video.autoplay=!1,t.div.appendChild(t.video),_=t.video,S="video";var b=a.audio,T={playerId:t.playerId,stateId:b.stateId+1,playDeferTimeout:null,error:!1,status:"aborted",reason:"audioonly",updatedAt:Date.now()};a.audio=T;var A={type:"player-status-change",playerId:t.playerId,mediaType:"audio",status:T.status,reason:T.reason,isErrorState:T.error,streamId:t.id};if(c.default.debug("[".concat(t.id,"] Media Player Status Change"),A),Promise.resolve().then(function(){return e.stream.dispatchEvent(A)}),g.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:A,tag:"tracer"})(),window.MediaStream&&(i.isSafari()||"iOS"===i.getBrowserOS())){var R=new MediaStream(e.stream.stream.getAudioTracks());Object(u.setSrcObject)(t.video,R)}else Object(u.setSrcObject)(t.video,e.stream.stream)}if(n.autoplay&&_){var I=_.play();I&&I.catch&&I.catch(function(r){if(!t.destroyed&&_){var o=a[S],i={playerId:t.playerId,stateId:o.stateId+1,playDeferTimeout:null,error:h(_,S,n),status:f(_),reason:"error",updatedAt:Date.now()};if(o.status!==i.status){c.default.debug("[".concat(t.id,"] Player ").concat(t.playerId," Status Changed Detected by promise error: ").concat(o.status,"=>").concat(i.status),r),a[S]=i;var s={type:"player-status-change",playerId:t.playerId,mediaType:S,status:i.status,reason:i.reason,isErrorState:i.error,streamId:t.id};c.default.debug("[".concat(t.id,"] Media Player Status Change"),s),e.stream.dispatchEvent(s),g.report.reportApiInvoke(e.stream.sid,{name:"Stream.playerStatusChange",options:s,tag:"tracer"})()}}})}return t.setAudioVolume=function(e){var r=parseInt(e)/100;isFinite(r)&&(r<0?r=0:r>1&&(r=1),t.video&&(t.video.volume=r),t.audio&&(t.audio.volume=r))},t},h=r(22),m=r(10),v=r(6),y=r(19),E=r(2),_=r(24),S=r(16),b=r(11),T=r.n(b),A=function(e){Object(E.checkValidString)(e,"profileName"),-1===(e=e.toLowerCase()).indexOf("_")&&(e+="_1"),Object(E.checkValidEnum)(e,"profileName",Object.keys(d.SUPPORT_RESOLUTION_LIST));var t=d.SUPPORT_RESOLUTION_LIST[e];t||(e=Object(d.getParameter)("DEFAULT_PROFILE"),t=d.SUPPORT_RESOLUTION_LIST[e]);var r={profileName:e,video:{width:t[0],height:t[1]},attributes:{resolution:"".concat(t[0],"x").concat(t[1]),minFrameRate:t[2],maxFrameRate:t[3],minVideoBW:t[4],maxVideoBW:t[5]}};return t[2]&&(r.video.frameRate=t[2]),t[6]&&t[7]&&(r.screen={width:t[0],height:t[1],frameRate:{min:t[6],max:t[7]}}),r},R=function(e){return Object.keys(d.SUPPORT_RESOLUTION_LIST).filter(function(t){var r=d.SUPPORT_RESOLUTION_LIST[t],n=["width","height","frameRate"];for(var o in n){var i=n[o];if(e[i]&&r[o]){if("number"==typeof e[i].max&&e[i].max<r[o])return!1;if("number"==typeof e[i].min&&e[i].min>r[o])return!1}}return!0}).reverse()},I=function(e){var t=d.AUDIO_PROFILE_SETTINGS[e]||d.AUDIO_PROFILE_SETTINGS.default;return{highQuality:t[0],stereo:t[1],speech:t[2],lowQuality:t[3]}},O=function(e){function t(){var e={};r.getVideoTrack()===this?(c.default.debug("Video Track Ended"),e.type="videoTrackEnded",e.track=this):r.getAudioTrack()===this?(c.default.debug("Audio Track Ended"),e.type="audioTrackEnded",e.track=this):c.default.debug("Detached Track ended",this.kind,this.label,this),e.type&&r.dispatchEvent(e)}var r=Object(a.b)();if(r.params=o()({},e),r.stream=e.stream,r.url=e.url,r.onClose=void 0,r.local=!1,r.videoSource=e.videoSource,r.audioSource=e.audioSource,e.video=!(!e.videoSource&&!e.video),r.video=e.video,e.audio=!(!e.audioSource&&!e.audio),r.audio=e.audio,r.screen=!!e.screen,r.screenAudio=!!e.screenAudio,r.screenAttributes={width:1920,height:1080,maxFr:5,minFr:1},r.videoSize=e.videoSize,r.player=void 0,r.audioLevelHelper=null,e.attributes=e.attributes||{},r.attributes=e.attributes,r.microphoneId=e.microphoneId,r.cameraId=e.cameraId,r.facingMode=e.facingMode,r.inSwitchDevice=!1,r.userMuteVideo=!1,r.userMuteAudio=!1,r.peerMuteVideo=!1,r.peerMuteAudio=!1,r.lowStream=null,r.videoWidth=0,r.videoHeight=0,r.streamId=e.streamID,r.userId=null,r.uintId=e.uintUID||null,r.mirror=!1!==e.mirror,r.DTX=e.audioProcessing&&e.audioProcessing.DTX,r.audioProcessing=e.audioProcessing,r.optimizationMode=e.optimizationMode,r.highQuality=!1,r.stereo=!1,r.speech=!1,r.screen||delete r.screen,!(void 0===r.videoSize||r.videoSize instanceof Array&&4===r.videoSize.length))throw Error("Invalid Video Size");return r.videoSize=[640,480,640,480],void 0!==e.local&&!0!==e.local||(r.local=!0),r.initialized=!r.local,r._streamInitID=null,function(e){e.audioMixing={audioContextInited:!1,defaultVolume:100,inEarMonitoring:"FILE",sounds:{},states:{IDLE:"IDLE",STARTING:"STARTING",BUSY:"BUSY",PAUSED:"PAUSED"},inEarMonitoringModes:{NONE:"NONE",FILE:"FILE",MICROPHONE:"MOCROPHONE",ALL:"ALL"},ctx:null,mediaStreamSource:null,mediaStreamDest:null,buffer:{}},e._initSoundIfNotExists=function(t,r){e.audioMixing.sounds[t]||(e.audioMixing.sounds[t]={soundId:t,state:"IDLE",muted:e.userMuteAudio,filePath:r,volume:e.audioMixing.defaultVolume,startAt:null,startOffset:null,pauseAt:null,pauseOffset:null,resumeAt:null,resumeOffset:null,stopAt:null,options:null,source:null})},e._initSoundIfNotExists(-1),e.loadAudioBuffer=function(t,r,n){var o=g.report.reportApiInvoke(e.sid,{callback:n,name:"Stream.loadAudioBuffer",options:arguments,tag:"tracer"});Object(E.checkValidString)(r,"url",1,1024,!1),Object(E.checkValidString)(t,"id",1,1024,!1);var i=function(t){c.default.error("[".concat(e.streamId,"] loadAudioBuffer Failed: ")+t),o(l.default.LOAD_AUDIO_FAILED)},a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status>400)i("".concat(a.status," ").concat(a.statusText));else{var r=a.response;e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.ctx.decodeAudioData(r,function(r){e.audioMixing.buffer[t]=r,o(null)},function(t){c.default.error("[".concat(e.streamId,"] decodeAudioData Failed: "),t),o(t)})}},a.onerror=function(){return i("load error")},a.ontimeout=function(){return i("timeout")},a.send()},e.createAudioBufferSource=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.createAudioBufferSource",options:arguments,tag:"tracer"});if(e.audioMixing.buffer[t.id]){var n=e.audioMixing.buffer[t.id],o=e.audioMixing.ctx.createBufferSource();o.buffer=n;var a=e.audioMixing.ctx.createGain();if(o.connect(a),a.connect(e.audioMixing.mediaStreamDest),o.gainNode=a,t.loop)o.loop=!0,o.start(0,t.playTime/1e3);else if(t.cycle>1)if(Object(i.isChrome)()){o.loop=!0;var s=t.cycle*n.duration*1e3-(t.playTime||0);o.start(0,t.playTime/1e3,s/1e3)}else c.default.warning("[".concat(e.streamId,"] Cycle Param is ignored by current browser")),o.start(0,t.playTime/1e3);else o.start(0,t.playTime/1e3);var u=e.audioMixing.sounds[t.soundId];return u.source=o,e._flushAudioMixingMuteStatus(),o.addEventListener("ended",function(){o===u.source&&e.dispatchEvent({type:"audioSourceEnded",soundId:t.soundId,source:o,sound:u})}),r(),o}return c.default.error("[".concat(e.streamId,"] "),"AUDIOBUFFER_NOT_FOUND",t.id),r(!1),!1},e.on("audioSourceEnded",function(t){var r=t.source,n=t.sound;n&&n.state===e.audioMixing.states.BUSY&&!n.pauseAt&&(n.state=e.audioMixing.states.IDLE,n.startAt=null,n.startOffset=null,n.resumeAt=null,n.resumeOffset=null,r.gainNode&&r.gainNode.disconnect&&r.gainNode.disconnect(),r.buffer=null,e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest))}),e.clearAudioBufferSource=function(){e.audioBufferSource.forEach(function(e){e.stop()})},e._isSoundExists=function(t){return!!e.audioMixing.sounds[t.soundId]||(c.default.error("SoundId not exists. #".concat(t.soundId)),!1)},e._initAudioContext=function(){if(e.audioMixing.audioContextInited)throw new Error("Failed to init audio context. Already inited");if(!e.stream)throw new Error("Failed to init audio context. Local Stream not initialized");e.audioMixing.ctx=Object(_.a)(),e.audioMixing.mediaStreamSource=e.audioMixing.ctx.createMediaStreamSource(e.stream),e.audioMixing.mediaStreamDest=e.audioMixing.ctx.createMediaStreamDestination(),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest);var t=e.stream.getVideoTracks()[0];if(t&&e.audioMixing.mediaStreamDest.stream.addTrack(t),e._originStream=e.stream,e._isAudioMuted()?(e._unmuteAudio(),e.stream=e.audioMixing.mediaStreamDest.stream,e._muteAudio()):e.stream=e.audioMixing.mediaStreamDest.stream,e.audioLevelHelper=null,e.pc&&e.pc.peerConnection&&e.pc.peerConnection){var r=(e.pc.peerConnection&&e.pc.peerConnection.getSenders()).find(function(e){return e&&e.track&&"audio"==e.track.kind}),n=e.audioMixing.mediaStreamDest.stream.getAudioTracks()[0];r&&r.replaceTrack&&n&&r.replaceTrack(n)}e.audioMixing.audioContextInited=!0},e._cleanupAudioMixing=function(){if(e.audioMixing.audioContextInited){for(var t in e.audioMixing.sounds){var r=e.audioMixing.sounds[t];r.state!==e.audioMixing.states.BUSY&&r.state!==e.audioMixing.states.PAUSED||e._stopOneEffect({soundId:t})}e.audioLevelHelper=null,e.audioMixing.audioContextInited=!1}},e._reloadInEarMonitoringMode=function(t){if(t){if(!e.audioMixing.inEarMonitoringModes[t])return c.default.error("[".concat(e.streamId,"] Invalid InEarMonitoringMode ").concat(t));e.audioMixing.inEarMonitoring=t}switch(e.audioMixing.audioContextInited||e._initAudioContext(),e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.FILE:e.audioMixing.mediaStreamSource.connectedToDestination&&(e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!1);case e.audioMixing.inEarMonitoringModes.ALL:for(var r in e.audioMixing.sounds){var n=e.audioMixing.sounds[r];n&&n.source&&!n.source.connectedToDestination&&(n.source.gainNode.connect(e.audioMixing.ctx.destination),n.source.connectedToDestination=!0)}}switch(e.audioMixing.inEarMonitoring){case e.audioMixing.inEarMonitoringModes.MICROPHONE:e.audioMixing.source.forEach(function(t){t.connectedToDestination&&(t.gainNode.disconnect(e.audioMixing.ctx.destination),t.connectedToDestination=!1)});case e.audioMixing.inEarMonitoringModes.ALL:e.audioMixing.mediaStreamSource.connectedToDestination||(e.audioMixing.mediaStreamSource.connect(e.audioMixing.ctx.destination),e.audioMixing.mediaStreamSource.connectedToDestination=!0)}},e._startAudioMixingBufferSource=function(t){e.audioMixing.audioContextInited||e._initAudioContext();var r={soundId:t.soundId,id:t.filePath,loop:t.loop,cycle:t.cycle,playTime:t.playTime||0},n=t.replace,o=e.createAudioBufferSource(r);return o.sound=e.audioMixing.sounds[t.soundId],o?(o.addEventListener("ended",e._audioMixingFinishedListener,{once:!0}),e._reloadInEarMonitoringMode(),n&&e.audioMixing.mediaStreamSource.disconnect(e.audioMixing.mediaStreamDest),o):null},e._stopAudioMixingBufferSource=function(t){var r=e.audioMixing.sounds[t.soundId].source;return r?(r.removeEventListener("ended",e._audioMixingFinishedListener),e.audioMixing.mediaStreamSource.connect(e.audioMixing.mediaStreamDest),r.stop(),r.gainNode&&r.gainNode.disconnect&&r.gainNode.disconnect(),r.buffer=null,r):null},e._flushAudioMixingMuteStatus=function(t){for(var r in e.audioMixing.sounds){var n=e.audioMixing.sounds[r];n&&(void 0!==t&&(n.muted=!!t),n.source&&(n.muted?n.source.gainNode.gain.value=0:n.source.gainNode.gain.value=n.volume/100))}},e._handleAudioMixingInvalidStateError=function(t,r,n){var o=e.audioMixing.sounds[r.soundId],i=-1===r.soundId?"INVALID_AUDIO_MIXING_STATE":"INVALID_PLAY_EFFECT_STATE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(i,", state is ").concat(o.state)),n&&n(i)},e._handleAudioMixingNoSourceError=function(t,r,n){e.audioMixing.sounds[r.soundId].state=e.audioMixing.states.IDLE;var o=-1===r.soundId?"NO_AUDIO_MIXING_SOURCE":"NO_EFFECT_SOURCE";c.default.error("[".concat(e.streamId,"] Cannot ").concat(t,": ").concat(o)),n&&n(o)},e._getOneEffectStates=function(t){var r=e.audioMixing.sounds[t.soundId];return function(){return r?{state:r.state,startAt:r.startAt,resumeAt:r.resumeAt,pauseOffset:r.pauseOffset,pauseAt:r.pauseAt,resumeOffset:r.resumeOffset,stopAt:r.stopAt,duration:e._getOneEffectDuration(t),position:e._getOneEffectCurrentPosition(t)}:{}}},e._audioMixingFinishedListener=function(){var t=this.sound;t.state===e.audioMixing.states.IDLE&&e.audioMixing.buffer[t.options.filePath]&&!t.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(t.options.filePath)),delete e.audioMixing.buffer[t.options.filePath]),-1===t.soundId&&e.dispatchEvent({type:"audioMixingFinished"})},e._playOneEffect=function(t,r){Object(E.checkValidObject)(t,"options");var n=t.soundId,o=(t.filePath,t.cacheResource);if(t.cycle,t.loop,t.playTime,t.replace,Object(i.isSafari)()&&Object(i.getBrowserVersion)()<12){var a="BROWSER_NOT_SUPPORT";return c.default.error("[".concat(e.streamId,"] Cannot _playOneEffect: "),a),r(a)}e.audioMixing.audioContextInited||e._initAudioContext(),e._initSoundIfNotExists(n);var s=e.audioMixing.sounds[n];if(s.state===e.audioMixing.states.IDLE){if(void 0!==t.cycle&&!t.cycle>0)return a="Invalid Parmeter cycle: "+t.cycle,c.default.error("[".concat(e.streamId,"] ").concat(n),a),r(a);if(Object(E.isEmpty)(o)&&(t.cacheResource=!0),s.state=e.audioMixing.states.STARTING,s.options=t,e.audioMixing.buffer[t.filePath]){var u=e._startAudioMixingBufferSource(t);if(u)return s.source=u,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),r(null);s.state=e.audioMixing.states.IDLE;var l="CREATE_BUFFERSOURCE_FAILED";if(r)return r(l);c.default.error("[".concat(e.streamId,"] "),l)}else e.loadAudioBuffer(t.filePath,t.filePath,function(n){if(n)s.state=e.audioMixing.states.IDLE,r?r(n):c.default.error("[".concat(e.streamId,"] "),n);else{var o=e._startAudioMixingBufferSource(t);if(o)return s.source=o,s.startAt=Date.now(),s.resumeAt=null,s.pauseOffset=null,s.pauseAt=null,s.resumeOffset=null,s.stopAt=null,s.startOffset=t.playTime||0,s.state=e.audioMixing.states.BUSY,e._flushAudioMixingMuteStatus(),r(null);if(s.state=e.audioMixing.states.IDLE,n="CREATE_BUFFERSOURCE_FAILED",r)return r(n);c.default.error("[".concat(e.streamId,"] "),n)}})}else e._handleAudioMixingInvalidStateError("_playEffect",t,r)},e._stopOneEffect=function(t,r){var n=e.audioMixing.sounds[t.soundId];return e._isSoundExists(t)?n.state===e.audioMixing.states.BUSY||n.state===e.audioMixing.states.PAUSED?(e._stopAudioMixingBufferSource(t),n.stopAt=Date.now(),n.state=e.audioMixing.states.IDLE,e.audioMixing.buffer[n.options.filePath]&&!n.options.cacheResource&&(c.default.debug("Recycled buffer ".concat(n.options.filePath)),delete e.audioMixing.buffer[n.options.filePath]),void(r&&r(null))):void e._handleAudioMixingInvalidStateError("_stopOneEffect",t,r):r("SOUND_NOT_EXISTS")},e._pauseOneEffect=function(t,r){var n=e.audioMixing.sounds[t.soundId];if(n.state===e.audioMixing.states.BUSY)return e._stopAudioMixingBufferSource(t)?(n.pauseAt=Date.now(),n.state=e.audioMixing.states.PAUSED,n.resumeAt?n.pauseOffset=n.pauseAt-n.resumeAt+n.resumeOffset:n.pauseOffset=n.pauseAt-n.startAt+n.startOffset,r&&r(null)):void e._handleAudioMixingNoSourceError("_pauseOneEffect",t,r);e._handleAudioMixingInvalidStateError("_pauseOneEffect",t,r)},e._resumeOneEffect=function(t,r){var n=e.audioMixing.sounds[t.soundId];if(n.state===e.audioMixing.states.PAUSED){var o={soundId:t.soundId,filePath:n.options.filePath,cycle:n.options.cycle,loop:n.options.loop,playTime:n.pauseOffset,replace:n.options.replace},i=e._startAudioMixingBufferSource(o);if(!i){var a="CREATE_BUFFERSOURCE_FAILED";return r(a),void c.default.error("[".concat(e.streamId,"] "),a)}n.source=i,n.resumeAt=Date.now(),n.resumeOffset=n.pauseOffset,n.state=e.audioMixing.states.BUSY,n.pauseAt=null,n.pauseOffset=null,r(null)}else e._handleAudioMixingInvalidStateError("_resumeOneEffect",t,r)},e._getOneEffectDuration=function(t){var r=e.audioMixing.sounds[t.soundId];return r.options&&r.options.filePath&&e.audioMixing.buffer[r.options.filePath]?1e3*e.audioMixing.buffer[r.options.filePath].duration:null},e._getOneEffectCurrentPosition=function(t,r){var n=e.audioMixing.sounds[t.soundId];return n.state===e.audioMixing.states.PAUSED?n.pauseOffset%e._getOneEffectDuration(t):n.state===e.audioMixing.states.BUSY?n.resumeAt?(Date.now()-n.resumeAt+n.resumeOffset)%e._getOneEffectDuration(t):(Date.now()-n.startAt+n.startOffset)%e._getOneEffectDuration(t):void(r&&e._handleAudioMixingInvalidStateError("_getOneEffectCurrentPosition",t))},e._setOneEffectPosition=function(t,r,n){var o=e.audioMixing.sounds[t.soundId];if(o.state===e.audioMixing.states.BUSY){if(!e._stopAudioMixingBufferSource(t))return void e._handleAudioMixingNoSourceError("_setOneEffectPosition",t,n);var i={soundId:t.soundId,filePath:o.options.filePath,loop:o.options.loop,cycle:o.options.cycle,playTime:r},a=e._startAudioMixingBufferSource(i);if(!a){var s="CREATE_BUFFERSOURCE_FAILED";return n&&n(s),void c.default.error("[".concat(e.streamId,"] "),s)}o.source=a,o.startAt=Date.now(),o.startOffset=r,o.resumeAt=null,o.resumeOffset=null,o.pauseOffset=null,o.pauseAt=null}else{if(o.state!==e.audioMixing.states.PAUSED)return void e._handleAudioMixingInvalidStateError("_setOneEffectPosition",t,n);o.pauseOffset=r}n&&n(null)},e.startAudioMixing=function(t,r){var n=g.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return r&&r(t);e.dispatchEvent({type:"audioMixingPlayed"}),r&&r(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.startAudioMixing",options:t});Object(E.checkValidObject)(t,"options");var i=t.filePath,a=t.cacheResource,s=t.cycle,c=t.loop,u=t.playTime,l=t.replace;Object(E.checkValidString)(i,"filePath",1,Object(d.getParameter)("FILEPATH_LENMAX"),!1),Object(E.checkValidNumber)(u,"playTime",0,1e8),!Object(E.isEmpty)(s)&&Object(E.checkValidNumber)(s,"cycle"),!Object(E.isEmpty)(c)&&Object(E.checkValidBoolean)(c,"loop"),!Object(E.isEmpty)(l)&&Object(E.checkValidBoolean)(l,"replace"),!Object(E.isEmpty)(a)&&Object(E.checkValidBoolean)(a,"cacheResource");var p=o()({soundId:-1},t);e._playOneEffect(p,n)},e.stopAudioMixing=function(t){var r=g.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.stopAudioMixing"});e._stopOneEffect({soundId:-1},r)},e.pauseAudioMixing=function(t){var r=g.report.reportApiInvoke(e.sid,{callback:t,getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.pauseAudioMixing"});return e._pauseOneEffect({soundId:-1},r)},e.resumeAudioMixing=function(t){var r=g.report.reportApiInvoke(e.sid,{callback:function(r,n){if(r)return t&&t(r);e.dispatchEvent({type:"audioMixingPlayed"}),t&&t(null)},getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.resumeAudioMixing"});e._resumeOneEffect({soundId:-1},r)},e.adjustAudioMixingVolume=function(t){var r=g.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.adjustAudioMixingVolume",options:arguments,tag:"tracer"});Object(E.checkValidNumber)(t,"volume",0,100),e.audioMixing.sounds[-1].volume=t,e._flushAudioMixingMuteStatus(),r()},e.getAudioMixingDuration=function(){var t=g.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingDuration"}),r=e._getOneEffectDuration({soundId:-1});return t(null,r),r},e.getAudioMixingCurrentPosition=function(){var t=g.report.reportApiInvoke(e.sid,{getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.getAudioMixingCurrentPosition"}),r=e._getOneEffectCurrentPosition({soundId:-1},!0);return t(null,r),r},e.setAudioMixingPosition=function(t,r){var n=g.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",getStates:e._getOneEffectStates({soundId:-1}),name:"Stream.setAudioMixingPosition"});Object(E.checkValidNumber)(t,"position",0,1e8),e._setOneEffectPosition({soundId:-1},t,n)},e.playEffect=function(t,r){var n=g.report.reportApiInvoke(e.sid,{callback:function(t){if(t)return r&&r(t);e.dispatchEvent({type:"effectPlayed"}),r&&r(null)},name:"Stream.playEffect",options:t});Object(E.checkValidObject)(t,"options");var o=t.soundId,i=t.filePath,a=t.cycle;Object(E.checkValidNumber)(o,"soundId",1,1e4),Object(E.checkValidString)(i,"filePath",0,Object(d.getParameter)("FILEPATH_LENMAX"),!1),!Object(E.isEmpty)(a)&&Object(E.checkValidNumber)(a,"cycle"),e._playOneEffect(t,n)},e.stopEffect=function(t,r){var n=g.report.reportApiInvoke(e.sid,{callback:r,getStates:e._getOneEffectStates({soundId:t}),name:"Stream.stopEffect"});Object(E.checkValidNumber)(t,"soundId",1,1e4),e._stopOneEffect({soundId:t},n)},e.stopAllEffects=function(t){var r=g.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.stopAllEffect"}),n=!1,o=0,i=0,a=function(e){n||(e?(r(e),n=!0):o+=1,o===i&&(r(null),n=!0))};for(var s in e.audioMixing.sounds){var c=e.audioMixing.sounds[s];-1!==c.soundId&&(c.state!==e.audioMixing.states.BUSY&&c.state!==e.audioMixing.states.PAUSED||(i++,e._stopOneEffect({soundId:s},a)))}i||r(null)},e.preloadEffect=function(t,r,n){var o=g.report.reportApiInvoke(e.sid,{callback:n,options:arguments,tag:"tracer",name:"Stream.preloadEffect"});Object(E.checkValidNumber)(t,"soundId",1,1e4),Object(E.checkValidString)(r,"filePath",1,Object(d.getParameter)("FILEPATH_LENMAX"),!1),e._initSoundIfNotExists(t,r),e.audioMixing.buffer[r]?o(null):e.loadAudioBuffer(r,r,o)},e.unloadEffect=function(t,r){var n=g.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",name:"Stream.unloadEffect"});Object(E.checkValidNumber)(t,"soundId",1,1e4);var o=e.audioMixing.sounds[t];if(!o){var i="SOUND_NOT_EXISTS";return c.default.error(i,t),void n(i)}var a=o.options?o.options.filePath:o.filePath;if(a)delete e.audioMixing.buffer[a],delete e.audioMixing.sounds[t],n(null);else{var s="SOUND_BUFFER_NOT_FOUND";c.default.error(s,t),n(s)}},e.pauseEffect=function(t,r){var n=g.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",name:"Stream.pauseEffect"});return e._pauseOneEffect({soundId:t},n)},e.pauseAllEffects=function(t){var r=g.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.pauseAllEffects"}),n=!1,o=0,i=0,a=function(e){n||(e?(r(e),n=!0):o+=1,o===i&&(r(null),n=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.BUSY&&(i++,e._pauseOneEffect({soundId:s},a));i||r(null)},e.resumeEffect=function(t,r){Object(E.checkValidNumber)(t,"soundId",1,1e4);var n=g.report.reportApiInvoke(e.sid,{callback:r,options:arguments,tag:"tracer",name:"Stream.resumeEffect"});return e._resumeOneEffect({soundId:t},n)},e.resumeAllEffects=function(t){var r=g.report.reportApiInvoke(e.sid,{callback:t,name:"Stream.resumeAllEffects"}),n=!1,o=0,i=0,a=function(e){n||(e?(r(e),n=!0):o+=1,o===i&&(r(null),n=!0))};for(var s in e.audioMixing.sounds)"-1"!==s&&e.audioMixing.sounds[s].state===e.audioMixing.states.PAUSED&&(i++,e._resumeOneEffect({soundId:s},a));i||r(null)},e.getEffectsVolume=function(){var t=[];for(var r in e.audioMixing.sounds){var n=e.audioMixing.sounds[r];n&&"-1"!==r&&t.push({soundId:parseInt(r),volume:n.volume})}return t},e.setEffectsVolume=function(t,r){var n=g.report.reportApiInvoke(e.sid,{name:"Stream.setEffectsVolume",options:arguments,tag:"tracer",callback:r});for(var o in Object(E.checkValidNumber)(t,"volume",0,100),e.audioMixing.defaultVolume=t,e.audioMixing.sounds){var i=e.audioMixing.sounds[o];"-1"!==o&&(i.volume=t)}e._flushAudioMixingMuteStatus(),n(null)},e.setVolumeOfEffect=function(t,r,n){var o=g.report.reportApiInvoke(e.sid,{name:"Stream.setVolumeOfEffect",options:arguments,tag:"tracer",callback:n});Object(E.checkValidNumber)(t,"soundId",0,1e4),Object(E.checkValidNumber)(r,"volume",0,100),e._initSoundIfNotExists(t),e.audioMixing.sounds[t].volume=r,e._flushAudioMixingMuteStatus(),o(null)}}(r),S.a.addVideoEffectCapability(r),function(e,t){e.videoConstraint={},t.cameraId&&(e.videoConstraint.deviceId={exact:t.cameraId}),t.facingMode&&(e.videoConstraint.facingMode=t.facingMode),e.videoSize&&(e.videoConstraint.width=e.videoSize[0],e.videoConstraint.height=e.videoSize[1]),Object(i.isLegacyChrome)()||(e.videoConstraint.frameRate=30),e.audioConstraint={},t.microphoneId&&(e.audioConstraint.deviceId={exact:t.microphoneId}),Object(i.isLegacyChrome)()||e.audioProcessing&&(void 0!==e.audioProcessing.AGC&&(Object(i.isFireFox)()?e.audioConstraint.autoGainControl=e.audioProcessing.AGC:Object(i.isChrome)()&&(e.audioConstraint.googAutoGainControl=e.audioProcessing.AGC,e.audioConstraint.googAutoGainControl2=e.audioProcessing.AGC)),void 0!==e.audioProcessing.AEC&&(e.audioConstraint.echoCancellation=e.audioProcessing.AEC),void 0!==e.audioProcessing.ANS&&(Object(i.isFireFox)()?e.audioConstraint.noiseSuppression=e.audioProcessing.ANS:Object(i.isChrome)()&&(e.audioConstraint.googNoiseSuppression=e.audioProcessing.ANS))),e.screenConstraint={},t.sourceId&&(e.screenConstraint.sourceId=t.sourceId),t.extensionId&&Object(i.isChrome)()?(e.screenConstraint.extensionId=t.extensionId,e.screenConstraint.mandatory={chromeMediaSource:"desktop",maxWidth:e.screenAttributes.width,maxHeight:e.screenAttributes.height,maxFrameRate:e.screenAttributes.maxFr,minFrameRate:e.screenAttributes.minFr}):(e.screenConstraint.mediaSource="screen",e.screenConstraint.width=e.screenAttributes.width,e.screenConstraint.height=e.screenAttributes.height,e.screenConstraint.frameRate={ideal:e.screenAttributes.maxFr,max:e.screenAttributes.maxFr}),t.mediaSource&&(e.screenConstraint.mediaSource=t.mediaSource),e.setVideoResolution=function(r){var n=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoResolution",options:arguments,tag:"tracer"});if(!(r instanceof Array)){var i=A(r+="");return i&&i.video?(e.videoConstraint=o()(e.videoConstraint,{width:{ideal:i.video.width},height:{ideal:i.video.height}}),t.attributes.resolution=i.attributes.resolution,(a=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&a.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),a.applyConstraints(e.videoConstraint).then(n).catch(n)):n(),!0):(n("NO_PROFILE_".concat(r)),!1)}var a,s=r[0],u=r[1];e.videoConstraint=o()(e.videoConstraint,{width:{ideal:s},height:{ideal:u}}),t.attributes.resolution="".concat(s,"x").concat(u),(a=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0])&&a.applyConstraints?(c.default.debug("setVideoResolution applyConstraints",e.videoConstraint),S.a.disableVideoEffect(e).then(function(){return a.applyConstraints(e.videoConstraint).then(n).catch(n)}).then(function(){return S.a.restoreVideoEffect(e)})):n()},e.setVideoFrameRate=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoFrameRate",options:arguments,tag:"tracer"});if(Object(i.isFireFox)())return r("FIREFOX_NOT_SUPPORTED"),!1;if("object"===T()(t)&&t instanceof Array&&t.length>1){e.videoConstraint=o()(e.videoConstraint,{frameRate:t[0]}),e.attributes.minFrameRate=t[0],e.attributes.maxFrameRate=t[1];var n=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return n&&n.applyConstraints?(c.default.debug("setVideoFrameRate applyConstraints",e.videoConstraint),n.applyConstraints(e.videoConstraint).then(r).catch(r)):r(),!0}return r("INVALID_PARAM_".concat(JSON.stringify(t))),!1},e.setVideoBitRate=function(r){var n=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoBitRate",options:arguments,tag:"tracer"});return"object"===T()(r)&&r instanceof Array&&r.length>1?(t.attributes.minVideoBW=r[0],t.attributes.maxVideoBW=r[1],e.connectionSpec&&(e.connectionSpec.minVideoBW=r[0],e.connectionSpec.maxVideoBW=r[1]),e.pc&&e.pc.renegotiate&&e.pc.renegotiate(),n(),!0):(n("INVALID_PARAM_".concat(JSON.stringify(r))),!1)},e.setScreenBitRate=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.setScreenBitRate",options:arguments,tag:"tracer"});return"object"===T()(t)&&t instanceof Array&&t.length>1?(e.screenAttributes.minVideoBW=t[0],e.screenAttributes.maxVideoBW=t[1],r(),!0):(r("INVALID_PARAM_".concat(JSON.stringify(t))),!1)},e.setScreenProfile=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.setScreenProfile",options:arguments,tag:"tracer"});Object(E.checkValidEnum)(t,"profile",["480p_1","480p_2","720p_1","720p_2","1080p_1","1080p_2"]);var n=A(t);return n&&n.screen?(e.screenConstraint.mandatory?(e.screenConstraint.mandatory.maxWidth=n.screen.width,e.screenConstraint.mandatory.maxHeight=n.screen.height,n.screen.frameRate&&n.screen.frameRate.min&&n.screen.frameRate.max&&(e.screenConstraint.mandatory.minFrameRate=n.screen.frameRate.min,e.screenConstraint.mandatory.maxFrameRate=n.screen.frameRate.max)):e.screenConstraint=o()(e.screenConstraint,n.screen),e.screenAttributes.width=n.screen.width,e.screenAttributes.height=n.screen.height,e.screenAttributes.minFr=n.screen.frameRate.min,e.screenAttributes.maxFr=n.screen.frameRate.max,r(),!0):(r("NO_SCREEN_PROFILE_".concat(JSON.stringify(t))),!1)},e.setVideoProfileCustom=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution(t[0]),e.setVideoFrameRate([t[1],t[1]]),e.setVideoBitRate([t[2],t[2]]),r()},e.setVideoProfileCustomPlus=function(r){var n=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfileCustom",options:arguments,tag:"tracer"});e.setVideoResolution([r.width,r.height]),t.attributes.resolution="".concat(r.width,"x").concat(r.height),e.setVideoFrameRate([r.framerate,r.framerate]),e.setVideoBitRate([r.bitrate,r.bitrate]),n()},e.setVideoProfile=function(r){var n=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoProfile",options:arguments,tag:"tracer"}),a=A(r);if(!a){var s="Invalid Profile ".concat(r);throw new Error(s)}if(e.profile=r,a&&a.video){e.profile=a.profileName,e.videoConstraint=o()(e.videoConstraint,a.video),e.connectionSpec&&a.attributes.maxVideoBW&&(e.connectionSpec.minVideoBW=a.attributes.minVideoBW,e.connectionSpec.maxVideoBW=a.attributes.maxVideoBW),Object(i.isEdge)()&&(e.videoConstraint.frameRate.max=60),Object(i.isFireFox)()&&(e.videoConstraint.frameRate=30),t.attributes=o()(t.attributes,a.attributes),e.pc&&e.pc.renegotiate&&e.pc.renegotiate();var u=e.stream&&e.stream.getVideoTracks&&e.stream.getVideoTracks()[0];return u&&u.applyConstraints?(c.default.debug("setVideoProfile applyConstraints",e.videoConstraint),S.a.disableVideoEffect(e).then(function(){return u.applyConstraints(e.videoConstraint)}).then(function(){return S.a.restoreVideoEffect(e)}).then(function(t){return new Promise(function(r,o){n(t),setTimeout(function(){Object(m.vsResHack)(e.stream,function(t,n){e.videoWidth=t,e.videoHeight=n,r()},function(t){c.default.warning("[".concat(e.streamId,"] vsResHack failed: "),t),o()})},2500)})}).catch(n)):n(),!0}return n("INVALID_VIDEO_PROFILE_".concat(r)),!1},e.setAudioProfile=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.setAudioProfile",options:arguments,tag:"tracer"});Object(E.checkValidEnum)(t,"profile",["speech_low_quality","speech_standard","music_standard","standard_stereo","high_quality","high_quality_stereo"]),e.audioProfile=t;var n=I(t);return e.highQuality=n.highQuality,e.stereo=n.stereo,e.speech=n.speech,e.lowQuality=n.lowQuality,e.stereo&&Object(i.isChrome)()&&(e.audioConstraint.googAutoGainControl=!1,e.audioConstraint.googAutoGainControl2=!1,e.audioConstraint.echoCancellation=!1,e.audioConstraint.googNoiseSuppression=!1),r(),!0},e.setVideoEncoderConfiguration=function(t){Object(E.checkValidObject)(t,"config");var r=g.report.reportApiInvoke(e.sid,{name:"Stream.setVideoEncoderConfiguration",options:t,tag:"tracer"});t.resolution&&(Object(E.checkValidNumber)(t.resolution.width,"config.resolution.width"),Object(E.checkValidNumber)(t.resolution.height,"config.resolution.height"),e.setVideoResolution([t.resolution.width,t.resolution.height])),t.frameRate&&(Object(E.checkValidNumber)(t.frameRate.min,"config.frameRate.min"),Object(E.checkValidNumber)(t.frameRate.max,"config.frameRate.max"),e.setVideoFrameRate([t.frameRate.min,t.frameRate.max])),t.bitrate&&(Object(E.checkValidNumber)(t.bitrate.min,"config.bitrate.min",1,1e7),Object(E.checkValidNumber)(t.bitrate.max,"config.bitrate.max",1,1e7),e.setVideoBitRate([t.bitrate.min,t.bitrate.max])),r()},e.getSupportedProfile=function(t){var r=g.report.reportApiInvoke(e.sid,{name:"Stream.getSupportedProfile",options:arguments,tag:"tracer",callback:t});if(!e.local){var n="ONLY_LOCAL_STREAM_SUPPORTED";return c.default.error(n),r(n)}if(!e.stream)return n="STREAM_NOT_INIT",c.default.error(n),r(n);if(!e.stream.getVideoTracks)return n="TRACK_NOT_SUPPORT",c.default.error(n),r(n);var o=e.stream.getVideoTracks()[0];if(!o)return n="NO_VIDEO_TRACK_FOUND",c.default.error(n),r(n);if(!o.getCapabilities)return n="GETCAPABILITY_NOT_SUPPORT",c.default.error(n),r(n);var i=o.getCapabilities();return r(null,R(i))}}(r,e),r.getId=function(){return r.streamId},r.getUserId=function(){return r.userId},r.checkDualStreamEnabled=function(){return!(!Object(d.getParameter)("DUALSTREAM_OPERATION_CHECK")||!r.isDualStream)&&(c.default.error("Operation not permitted: ".concat("DUAL_STREAM_ENABLED")),"DUAL_STREAM_ENABLED")},r.setUserId=function(e){var t=g.report.reportApiInvoke(r.sid,{name:"Stream.setUserId",options:arguments,tag:"tracer"});r.userId&&c.default.warning("[".concat(r.streamId,"] Stream.userId ").concat(r.userId," => ").concat(e)),r.userId=e,t()},r.getAttributes=function(){return e.screen?r.screenAttributes:e.attributes},r.hasAudio=function(){return!!r.audio},r.hasVideo=function(){return!!r.video},r.hasScreen=function(){return!!r.screen},r.hasScreenAudio=function(){return!!r.screenAudio},r.isVideoOn=function(){return(r.hasVideo()||r.hasScreen())&&!r.userMuteVideo},r.isAudioOn=function(){return r.hasAudio()&&!r.userMuteAudio},r.init=function(n,o){var i=g.report.reportApiInvoke(r.sid,{callback:function(e,t){if(e)return o&&o(e);n&&n(t)},name:"Stream.init",options:arguments,tag:"tracer"}),a=((new Date).getTime(),arguments[2]);if(void 0===a&&(a=2),!0===r.initialized)return i({type:"warning",msg:"STREAM_ALREADY_INITIALIZED"});if(!0!==r.local)return i({type:"warning",msg:"STREAM_NOT_LOCAL"});var s=Math.random().toString().slice(3);r._streamInitID=s,r.videoSource?r.videoName="videoSource":r.video&&(r.videoName=y.a.searchDeviceNameById(e.cameraId)||"default"),r.audioSource?r.audioName="audioSource":r.audio&&(r.audioName=y.a.searchDeviceNameById(e.microphoneId)||"default"),r.screen&&(r.screenName=e.extensionId||"default");try{if(e.audio||e.video||e.screen||e.screenAudio||e.videoSource||e.audioSource){c.default.debug("[".concat(r.streamId,"] Requested access to local media"));var u={streamId:r.streamId};e.videoSource?u.videoSource=e.videoSource:e.screen?u.screen=r.screenConstraint:e.video&&(u.video=r.videoConstraint),e.audioSource?u.audioSource=e.audioSource:e.screenAudio?u.screenAudio=e.screenAudio:e.audio&&(u.audio=r.audioConstraint),Object(h.b)(u,function(n){if(u.screenAudio&&!n.getAudioTracks()[0]&&c.default.warning("[".concat(r.streamId,"] Audio sharing is not selected")),u.screen&&c.default.debug("[".concat(r.streamId,"] User has granted access to screen sharing")),(u.video||u.audio)&&c.default.debug("[".concat(r.streamId,"] User has granted access to local media")),null===r._streamInitID){n.getTracks().forEach(function(e){e.stop()});var o={type:"error",msg:"STREAM_IS_CLOSED",info:"stream is closed and cannot be initialized"};return c.default.error(r.streamId,o.info),void i(o)}if(r._streamInitID!==s)return n.getTracks().forEach(function(e){e.stop()}),o={type:"error",msg:"ABORT_OTHER_INIT",info:"stream initialization is aborted because of another stream.init"},c.default.error(r.streamId,o.info),void i(o);r.dispatchEvent({type:"accessAllowed"}),r.stream=n,r.initialized=!0,r.reloadDeviceName(),r.hasVideo()&&Object(m.vsResHack)(n,function(e,t){r.videoWidth=e,r.videoHeight=t},function(e){c.default.warning("[".concat(r.streamId,"] vsResHack failed: "),e)}),e.screen&&r.stream&&r.stream.getVideoTracks()[0]&&(r.stream.getVideoTracks()[0].onended=function(){r.dispatchEvent({type:"stopScreenSharing"})}),r.stream&&r.stream.getTracks&&r.stream.getTracks().forEach(function(n){n&&!n.onended&&(n.onended=t),"video"===n.kind&&e.optimizationMode&&(n.contentHint=e.optimizationMode,n.contentHint===e.optimizationMode&&c.default.debug("[".concat(r.streamId,"] set content hint to"),e.optimizationMode))}),i()},function(e){var t={type:"error",info:null};switch(e&&(t.msg=e.name||e.code||e,e.message&&(t.info=e.message),e.code&&(t.info?t.info+=". "+e.code:t.info=" "+e.code),e.constraint&&(t.info?t.info+=". Constraint: "+e.constraint:t.info="constraint: "+e.constraint)),t.msg){case"Starting video failed":case"TrackStartError":if(r.videoConstraint&&(delete r.videoConstraint.width,delete r.videoConstraint.height),a>0)return void setTimeout(function(){r.init(function(e){return i(e)},i,a-1)},1);t.msg="MEDIA_OPTION_INVALID";break;case"DevicesNotFoundError":t.msg="DEVICES_NOT_FOUND";break;case"NotSupportedError":t.msg="NOT_SUPPORTED";break;case"PermissionDeniedError":case"InvalidStateError":t.msg="PERMISSION_DENIED",r.dispatchEvent({type:"accessDenied"});break;case"PERMISSION_DENIED":case"NotAllowedError":r.dispatchEvent({type:"accessDenied"});break;case"ConstraintNotSatisfiedError":t.msg="CONSTRAINT_NOT_SATISFIED";break;default:t.msg||(t.msg="UNDEFINED")}var n="Media access ".concat(t.msg).concat(t.info?": "+t.info:"");c.default.error("[".concat(r.streamId,"] "),n),i(t)})}else i({type:"warning",msg:"STREAM_HAS_NO_MEDIA_ATTRIBUTES"})}catch(e){c.default.error("[".concat(r.streamId,"] Stream init: "),e),i({type:"error",msg:e.message||e})}},r.reloadDeviceName=function(){if(r.stream){if(r.stream.getVideoTracks){var e=r.stream.getVideoTracks()[0];e&&e.label&&(r.videoName=e.label)}if(r.stream.getAudioTracks){var t=r.stream.getAudioTracks()[0];t&&t.label&&(r.audioName=t.label)}}},r.close=function(){var e=g.report.reportApiInvoke(null,{name:"Stream.close",options:arguments,tag:"tracer"});if(c.default.debug("[".concat(r.streamId,"] Close stream with id"),r.streamId),r._originStream)try{r._originStream.getTracks().map(function(e){return e.stop()})}catch(e){}if(void 0!==r.stream){var t=r.stream.getTracks();for(var n in t)t.hasOwnProperty(n)&&(t[n].stop(),t[n].onended=null);!r.isLowStream&&r.local?S.a.disableVideoEffect(r).then(function(){r.stream=void 0}):(r.stream&&r.stream.clean&&r.stream.clean(),r.stream=void 0)}if(r._originStream){console.log("clear _originStream"),t=r._originStream.getTracks();for(var n in t)t.hasOwnProperty(n)&&(t[n].stop(),t[n].onended=null,console.log("clear onended"));!r.isLowStream&&r.local?S.a.disableVideoEffect(r).then(function(){r._originStream=void 0}):(r._originStream&&r._originStream.clean&&r._originStream.clean(),r._originStream=void 0)}if(Object(i.isSafari)()&&r.pc&&r.pc.peerConnection&&r.pc.peerConnection.removeTrack&&r.pc.peerConnection.getSenders){r.pc.peerConnection.getSenders().forEach(function(e){e&&(c.default.debug("[".concat(r.streamId,"] Remove Track"),e),r.pc.peerConnection.removeTrack(e))})}r.local&&(r.initialized=!1),r._streamInitID=null,r._onAudioMute=void 0,r._onAudioUnmute=void 0,r._onVideoMute=void 0,r._onVideoUnmute=void 0,r.lowStream&&r.lowStream.close(),e()},r.enableAudio=function(){var e,t=g.report.reportApiInvoke(r.sid,{name:"Stream.enableAudio",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(r.streamId,"] Stream.enableAudio is deprecated and will be removed in the future. Use Stream.unmuteAudio instead")),r.userMuteAudio||c.default.warning("[".concat(r.streamId,"] User already enableAudio")),r.userMuteAudio=!1,t(null,e=!r.peerMuteAudio&&r._unmuteAudio()),e},r.disableAudio=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.disableAudio",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(r.streamId,"] Stream.disableAudio is deprecated and will be removed in the future. Use Stream.muteAudio instead")),r.userMuteAudio&&c.default.warning("[".concat(r.streamId,"] User already disableAudio")),r.userMuteAudio=!0;var t=r._muteAudio();return e(null,t),t},r.enableVideo=function(){var e,t=g.report.reportApiInvoke(r.sid,{name:"Stream.enableVideo",options:arguments,tag:"tracer"});return c.default.deprecate("[".concat(r.streamId,"] Stream.enableVideo is deprecated and will be removed in the future. Use Stream.unmuteVideo instead")),r.userMuteVideo||c.default.warning("[".concat(r.streamId,"] User already enableVideo")),r.userMuteVideo=!1,r.lowStream&&(r.lowStream.userMuteVideo=!1),t(null,e=!r.peerMuteVideo&&r._unmuteVideo()),e},r.disableVideo=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.disableVideo",options:arguments,tag:"tracer"});c.default.deprecate("[".concat(r.streamId,"] Stream.disableVideo is deprecated and will be removed in the future. Use Stream.muteVideo instead")),r.userMuteVideo&&c.default.warning("[".concat(r.streamId,"] User already disableVideo")),r.userMuteVideo=!0,r.lowStream&&(r.lowStream.userMuteVideo=!0);var t=r._muteVideo();return e(null,t),t},r.unmuteAudio=function(){var e,t=g.report.reportApiInvoke(r.sid,{name:"Stream.unmuteAudio",options:arguments,tag:"tracer"});return r.userMuteAudio||c.default.warning("[".concat(r.streamId,"] User already unmuteAudio")),r.userMuteAudio=!1,t(null,e=!r.peerMuteAudio&&r._unmuteAudio()),e},r.muteAudio=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.muteAudio",options:arguments,tag:"tracer"});r.userMuteAudio&&c.default.warning("[".concat(r.streamId,"] User already muteAudio")),r.userMuteAudio=!0;var t=r._muteAudio();return e(null,t),t},r.unmuteVideo=function(){var e,t=g.report.reportApiInvoke(r.sid,{name:"Stream.unmuteVideo",options:arguments,tag:"tracer"});return r.userMuteVideo||c.default.warning("[".concat(r.streamId,"] User already unmuteVideo")),r.userMuteVideo=!1,r.lowStream&&(r.lowStream.userMuteVideo=!1),t(null,e=!r.peerMuteVideo&&r._unmuteVideo()),e},r.muteVideo=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.muteVideo",options:arguments,tag:"tracer"});r.userMuteVideo&&c.default.warning("[".concat(r.streamId,"] User already muteVideo")),r.userMuteVideo=!0,r.lowStream&&(r.lowStream.userMuteVideo=!0);var t=r._muteVideo();return e(null,t),t},r._unmuteAudio=function(){return c.default.debug("[".concat(r.streamId,"] Unmuted audio stream with id "),r.streamId),r._flushAudioMixingMuteStatus(!1),!(!r.hasAudio()||!r.initialized||void 0===r.stream||!0===r.stream.getAudioTracks()[0].enabled||(r._onAudioUnmute&&r._onAudioUnmute(),r.pc&&(r.pc.isAudioMute=!1),r.stream.getAudioTracks()[0].enabled=!0,0))},r._isAudioMuted=function(){if(r.stream&&r.hasAudio()){var e=r.stream.getAudioTracks();return e.length>0&&!e[0].enabled}return!1},r._isVideoMuted=function(){if(r.stream&&r.hasVideo()){var e=r.stream.getVideoTracks();return e.length>0&&!e[0].enabled}return!1},r._muteAudio=function(){return c.default.debug("[".concat(r.streamId,"] Muted audio stream with id "),r.streamId),r._flushAudioMixingMuteStatus(!0),!!(r.hasAudio()&&r.initialized&&void 0!==r.stream&&r.stream.getAudioTracks()[0].enabled)&&(r._onAudioMute&&r._onAudioMute(),r.pc&&(r.pc.isAudioMute=!0),r.stream.getAudioTracks()[0].enabled=!1,r.sid&&g.report.audioSendingStopped(r.sid,{succ:!0,reason:"muteAudio"}),!0)},r._unmuteVideo=function(){return c.default.debug("[".concat(r.streamId,"] Unmuted video stream with id"),r.streamId),!(!r.initialized||void 0===r.stream||!r.stream.getVideoTracks().length||!0===r.stream.getVideoTracks()[0].enabled||(r._onVideoUnmute&&r._onVideoUnmute(),r.pc&&(r.pc.isVideoMute=!1),r.stream.getVideoTracks()[0].enabled=!0,r.lowStream&&r.lowStream._unmuteVideo(),0))},r._muteVideo=function(){return c.default.debug("[".concat(r.streamId,"] Muted video stream with id"),r.streamId),!!(r.initialized&&void 0!==r.stream&&r.stream.getVideoTracks().length&&r.stream.getVideoTracks()[0].enabled)&&(r._onVideoMute&&r._onVideoMute(),r.pc&&(r.pc.isVideoMute=!0),r.stream.getVideoTracks()[0].enabled=!1,r.lowStream&&r.lowStream._muteVideo(),r.sid&&g.report.videoSendingStopped(r.sid,{succ:!0,reason:"muteVideo"}),!0)},r.addTrack=function(n){var o=g.report.reportApiInvoke(r.sid,{name:"Stream.addTrack",options:arguments,tag:"tracer"});if(r.pc&&r.pc.addTrack(n,r.stream),"audio"==n.kind){r._cleanupAudioMixing();var i=new MediaStream;r.userMuteAudio&&(n.enabled=!1),i.addTrack(n);var a=r.stream.getVideoTracks()[0];a&&i.addTrack(a),r.audio=!0,e.audio=!0,r.stream=i,r.audioLevelHelper=null,r.player&&r.player.video&&(r.player.video.srcObject=r.stream)}else r.userMuteVideo&&(n.enabled=!1),r.stream.addTrack(n),r.video=!0,e.video=!0;n.onended||(n.onended=t),o()},r.removeTrack=function(t){var n=g.report.reportApiInvoke(r.sid,{name:"Stream.removeTrack",options:arguments,tag:"tracer"});r.pc&&r.pc.removeTrack(t,r.stream),r.stream.removeTrack(t),r._cleanupAudioMixing(),"audio"===t.kind?(r.audio=!1,e.audio=!1):(r.video=!1,e.video=!1),r.audioLevelHelper=null,"live"==t.readyState&&(t.stop(),c.default.debug("[".concat(r.streamId,"] Track ").concat(t.kind," Stopped"))),n()},r.setAudioOutput=function(e,t,n){var o=g.report.reportApiInvoke(r.sid,{callback:function(e,r){if(e)return n&&n(e);t&&t(r)},name:"Stream.setAudioOutput",options:arguments,tag:"tracer"});return Object(E.isValidString)(e,1,255)?(r.audioOutput=e,r.player?void r.player.setAudioOutput(e,function(){return o()},o):o()):(c.default.error("[".concat(r.streamId,"] setAudioOutput Invalid Parameter"),e),o(l.default.INVALID_PARAMETER))},r.play=function(e,t,n){"function"==typeof t&&(n=t,t=null),c.default.debug("[".concat(r.streamId,"] play()."),e,t);var o=g.report.reportApiInvoke(r.sid,{name:"Stream.play",options:arguments,tag:"tracer",callback:n});if(Object(E.checkValidString)(e,"elementID"),Object(E.isEmpty)(t)||(Object(E.isEmpty)(t.fit)||Object(E.checkValidEnum)(t.fit,"fit",["cover","contain"]),Object(E.isEmpty)(t.muted)||Object(E.checkValidBoolean)(t.muted,"muted")),r.player)c.default.warning("[".concat(r.streamId,"] Stream.play(): Stream is already playing. Fallback to resume stream")),r.resume().then(function(){o(null)}).catch(o);else{r.elementID=e,r.playOptions=t,!r.local||r.video||r.screen?(r.player=new f({id:r.getId(),stream:r,elementID:e,options:t}),r.local&&S.a.applyEffectInPlayer(r)):r.hasAudio()&&(r.player=new f({id:r.getId(),stream:r,elementID:e,options:t}));var i={video:null,audio:null},a=function e(t){if(i[t.mediaType]=t,i.video&&i.audio)if(r.removeEventListener("player-status-change",e),i.video.isErrorState||i.audio.isErrorState){var n=i.video.isErrorState?i.video:i.audio;o({isErrorState:!0,status:n.status,reason:n.reason,video:i.video,audio:i.audio})}else o("aborted"===i.video.status&&"aborted"===i.audio.status?{status:"aborted",reason:"stop",video:i.video,audio:i.audio}:null)};r.on("player-status-change",a),r.audioOutput&&r.player.setAudioOutput(r.audioOutput),void 0!==r.audioLevel&&r.player.setAudioVolume(r.audioLevel),r._flushAudioMixingMuteStatus(!1)}},r.stop=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.stop",options:arguments,tag:"tracer"});c.default.debug("[".concat(r.streamId,"] Stop stream player with id "),r.streamId),r.player?(S.a.removeEffectFromLocalPlayer(r),r.player.destroy(),delete r.player):c.default.error("[".concat(r.streamId,"] Stream.stop(): Stream is not playing")),r._flushAudioMixingMuteStatus(!0),e()},r.isPlaying=function(){return!!r.player},r.isPaused=function(){return!!(r.player&&(r.player.video&&r.player.video.paused&&r.player.mediaElemExists(r.player.video)||r.player.audio&&r.player.audio.paused&&r.player.mediaElemExists(r.player.audio)))},r.resume=function(){var e,t;return r.player?(r.player.video&&r.player.video.play&&(e=r.player.video.play()),e=e||Promise.resolve(),r.player.audio&&r.player.audio.play&&(t=r.player.audio.play()),t=t||Promise.resolve(),Promise.all([e,t])):Promise.reject("NO_PLAYER_FOUND")},r.getVideoTrack=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.getVideoTrack",options:arguments,tag:"tracer"});if(r.stream&&r.stream.getVideoTracks){var t=r.stream.getVideoTracks()[0];if(t)return c.default.info("[".concat(r.streamId,"] getVideoTrack"),t),e(),t}c.default.info("[".concat(r.streamId,"] getVideoTrack None")),e(null,"getVideoTrack None")},r.getAudioTrack=function(){var e=g.report.reportApiInvoke(r.sid,{name:"Stream.getAudioTrack",options:arguments,tag:"tracer"});if(r.stream&&r.stream.getAudioTracks){var t=r.stream.getAudioTracks()[0];if(t)return c.default.info("[".concat(r.streamId,"] getAudioTracks"),t),e(),t}c.default.info("[".concat(r.streamId,"] getAudioTracks None")),e(null,"getAudioTracks None")},r._hasVideoTracks=function(){return!!(r.stream&&r.stream.getVideoTracks&&r.stream.getVideoTracks()[0])},r._hasAudioTracks=function(){return!!(r.stream&&r.stream.getAudioTracks&&r.stream.getAudioTracks()[0])},r._replaceMediaStreamTrack=function(e,t,n){if(r.stream){if("video"==e.kind){if(i=r.stream.getVideoTracks()[0])return r.userMuteVideo&&(e.enabled=!1),r.stream.removeTrack(i),r.stream.addTrack(e),c.default.debug("[".concat(r.streamId,"] _replaceMediaStreamTrack ").concat(e.kind," SUCCESS")),"live"==i.readyState&&(i.stop(),c.default.debug("[".concat(r.streamId,"] Track ").concat(i.kind," Stopped"))),t&&t();var o="MEDIASTREAM_TRACK_NOT_FOUND";return c.default.error("[".concat(r.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),n(o)}if("audio"==e.kind){var i;if(i=r.stream.getAudioTracks()[0]){r.userMuteAudio&&(e.enabled=!1);var a=new MediaStream;a.addTrack(e);var s=r.stream&&r.stream.getVideoTracks()[0];return s&&a.addTrack(s),r.stream=a,r.audioLevelHelper=null,r.player&&r.player.video&&(r.player.video.srcObject=r.stream),c.default.debug("[".concat(r.streamId,"] _replaceMediaStreamTrack SUCCESS")),"live"==i.readyState&&(i.stop(),c.default.debug("[".concat(r.streamId,"] Track ").concat(i.kind," Stopped"))),t&&t()}return o="MEDIASTREAM_TRACK_NOT_FOUND",c.default.error("[".concat(r.streamId,"] MEDIASTREAM_TRACK_NOT_FOUND ").concat(e.kind)),n(o)}return o="INVALID_TRACK_TYPE",c.default.error("[".concat(r.streamId,"] _replaceMediaStreamTrack ").concat(o," ").concat(e.kind)),n&&n(o)}return o="NO_STREAM_FOUND",c.default.error("[".concat(r.streamId,"] _replaceMediaStreamTrack ").concat(o)),n&&n(o)},r.replaceTrack=function(e,n,o){var i=g.report.reportApiInvoke(r.sid,{callback:function(e,t){if(e)return o&&o(e);n&&n(t)},name:"Stream.replaceTrack",options:arguments,tag:"tracer"});return e&&e.kind?(r._cleanupAudioMixing(),e.onended||(e.onended=t),r.pc&&r.pc.hasSender&&r.pc.hasSender(e.kind)?void r.pc.replaceTrack(e,function(){return c.default.debug("[".concat(r.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," SUCCESS")),r._replaceMediaStreamTrack(e,function(e){return i(null,e)},i)},function(t){return c.default.error("[".concat(r.streamId,"] PeerConnection.replaceTrack ").concat(e.kind," Failed ").concat(t)),i(t)}):r._replaceMediaStreamTrack(e,function(e){return i(null,e)},i)):i("INVALID_TRACK")},r.setAudioVolume=function(e){var t=g.report.reportApiInvoke(r.sid,{name:"Stream.setAudioVolume",options:arguments,tag:"tracer"});Object(E.checkValidNumber)(e,"level",0,100),r.audioLevel=e,r.player&&r.player.setAudioVolume(e),t()},r.getStats=function(e,t,n){var a=[];a.push(r._getPCStats(n)),a.push(new Promise(function(e){var t={};r.pc&&r.pc.isSubscriber?null!==window.navigator.userAgent.match("Firefox")&&(Object(v.b)(t,"videoReceiveResolutionHeight",r.videoHeight),Object(v.b)(t,"videoReceiveResolutionWidth",r.videoWidth)):r.pc&&!r.pc.isSubscriber&&((Object(i.isSafari)()||Object(i.isFireFox)())&&(Object(v.b)(t,"videoSendResolutionHeight",r.videoHeight),Object(v.b)(t,"videoSendResolutionWidth",r.videoWidth)),(Object(i.isSafari)()||Object(i.isFireFox)())&&r.uplinkStats&&Object(v.b)(t,"videoSendPacketsLost",r.uplinkStats.uplink_cumulative_lost)),e(t)})),a.push(new Promise(function(e){var t={};return r.traffic_stats&&r.pc&&r.pc.isSubscriber?(Object(v.b)(t,"accessDelay",r.traffic_stats.access_delay),Object(v.b)(t,"endToEndDelay",r.traffic_stats.e2e_delay),Object(v.b)(t,"videoReceiveDelay",r.traffic_stats.video_delay),Object(v.b)(t,"audioReceiveDelay",r.traffic_stats.audio_delay)):r.traffic_stats&&r.pc&&!r.pc.isSubscriber&&Object(v.b)(t,"accessDelay",r.traffic_stats.access_delay),e(t)})),Promise.all(a).then(function(t){for(var n={},i=t.length-1;i>=0;i--){var a=t[i];o()(n,a)}e&&setTimeout(e.bind(r,n),0)}).catch(function(e){t&&setTimeout(t.bind(r,e),0)})},r._getPCStats=function(e){return new Promise(function(t,n){if(!r.pc||"established"!==r.pc.state||!r.pc.getStats)return n("PEER_CONNECTION_NOT_ESTABLISHED");r.pc.getStats(function(e){if(!r.pc||"established"!==r.pc.state||!r.pc.getStats)return n("PEER_CONNECTION_STATE_CHANGE");var o=r.pc.isSubscriber?Object(v.c)(e):Object(v.a)(e);return t(o)},e)}).then(function(e){return r.pc.isSubscriber?(Object(i.isFireFox)()||Object(i.isSafari)())&&(e.videoReceiveResolutionHeight&&"0"!==e.videoReceiveResolutionHeight||e.videoReceiveResolutionWidth&&"0"!==e.videoReceiveResolutionWidth||(Object(v.b)(e,"videoReceiveResolutionHeight",r.videoHeight),Object(v.b)(e,"videoReceiveResolutionWidth",r.videoWidth))):((Object(i.isSafari)()||Object(i.isFireFox)())&&(e.videoSendResolutionHeight&&"0"!==e.videoSendResolutionHeight||e.videoSendResolutionWidth&&"0"!==e.videoSendResolutionWidth||(Object(v.b)(e,"videoSendResolutionHeight",r.videoHeight),Object(v.b)(e,"videoSendResolutionWidth",r.videoWidth))),(Object(i.isSafari)()||Object(i.isFireFox)())&&r.uplinkStats&&Object(v.b)(e,"videoSendPacketsLost",r.uplinkStats.uplink_cumulative_lost)),Promise.resolve(e)})},r.getAudioLevel=function(){if(r.audioLevelHelper)return r.audioLevelHelper.getAudioLevel();if(r.stream){if(0!==r.stream.getAudioTracks().length)return r.audioLevelHelper=new m.audioLevelHelper(r.stream),r.audioLevelHelper.getAudioLevel();c.default.warning("[".concat(r.streamId,"] can't get audioLevel beacuse no audio trace in stream"))}else c.default.warning("[".concat(r.streamId,"] can't get audioLevel beacuse no stream exist"))},r.setVideoProfile("480p_1"),r._switchVideoDevice=function(e,t,n){if(e===r.cameraId)return t&&t();var a={video:o()({},r.videoConstraint,{deviceId:{exact:e}}),audio:!1};c.default.debug("[".concat(r.streamId,"] ").concat(a)),Object(h.b)(a,function(o){try{var a=function(){r.isPlaying()&&(r.stop(),r.elementID&&r.play(r.elementID,r.playOptions)),r.cameraId=e,r.videoConstraint.deviceId={exact:e},r.userMuteVideo&&(r.stream.getVideoTracks()[0].enabled=!1),S.a.restoreVideoEffect(r).then(function(){t&&t()})};S.a.disableVideoEffect(r).then(function(){Object(i.isSafari)()?r.replaceTrack(o.getVideoTracks()[0],a,n):(r.removeTrack(r.stream.getVideoTracks()[0]),r.addTrack(o.getVideoTracks()[0]),a())})}catch(e){return n&&n(e)}},function(e){return n&&n(e)})},r._switchAudioDevice=function(e,t,n){if(e===r.microphoneId)return t&&t();var a={video:!1,audio:o()({},r.audioConstraint,{deviceId:{exact:e}})};c.default.debug("[".concat(r.streamId,"] "),a),Object(h.b)(a,function(o){var a=function(){r._cleanupAudioMixing(),r.userMuteAudio&&(r.stream.getAudioTracks()[0].enabled=!1),r.isPlaying()&&(r.stop(),r.elementID&&r.play(r.elementID,r.playOptions)),r.microphoneId=e,r.audioConstraint.deviceId={exact:e},t&&t()};try{Object(i.isSafari)()?r.replaceTrack(o.getAudioTracks()[0],a,n):(r.removeTrack(r.stream.getAudioTracks()[0]),r.addTrack(o.getAudioTracks()[0]),a())}catch(e){return n&&n(e)}},function(e){return n&&n(e)})},r.switchDevice=function(e,t,n,o){var i=g.report.reportApiInvoke(r.sid,{callback:function(e,t){if(e)return o&&o(e);n&&n(t)},name:"Stream.switchDevice",options:arguments,tag:"tracer"});Object(E.checkValidString)(t,"deviceId");var a=function(){return r.inSwitchDevice=!1,i()},s=function(e){r.inSwitchDevice=!1,c.default.error("[".concat(r.streamId,"] "),e),i(e)};if(r.inSwitchDevice)return i("Device switch is in process.");if(r.inSwitchDevice=!0,!r.local)return s("Only the local stream can switch the device.");if(r.screen&&"video"===e)return s("The device cannot be switched during screen-sharing.");if(!r.video&&"video"===e)return s("Video track not exist.");if(!r.audio&&"audio"===e)return s("Audio track not exist.");if(r.videoSource||r.audioSource)return s("The device cannot be switched when using videoSource or audioSource.");var u=!1;for(var l in r.audioMixing.sounds){if(r.audioMixing.sounds[l].state!==r.audioMixing.states.IDLE){u=!0;break}}if(r.audioMixing.audioContextInited&&u)return s("The device cannot be switched when using audio Mixing.");y.a.getDeviceById(t,function(){if("video"===e)r._switchVideoDevice(t,a,s);else{if("audio"!==e)return s("Invalid type.");r._switchAudioDevice(t,a,s)}},function(){return s("The device does not exist.")})},r},w=function(e){var t=g.report.reportApiInvoke(null,{name:"createStream",options:arguments,tag:"tracer",getStates:function(){return{audioTrackEnable:e&&e.audioSource?e.audioSource.enabled:null,videoTrackEnable:e&&e.videoSource?e.videoSource.enabled:null}}});Object(E.checkValidObject)(e,"StreamSpec");var r=e.streamID,n=e.audio,o=e.video,i=e.screen,a=e.screenAudio,s=(e.audioSource,e.videoSource,e.cameraId),u=e.facingMode,l=e.microphoneId,d=e.mirror,p=e.extensionId,f=e.mediaSource,h=e.audioProcessing,v=e.optimizationMode;if(!Object(E.isEmpty)(r)&&!Object(m.is32Uint)(r)&&!Object(E.isValidString)(r,1,255))throw new Error("[String streamID] Length of the string: [1,255]. ASCII characters only. [Number streamID] The value range is Uint32");if(Object(E.checkValidBoolean)(n,"audio"),Object(E.checkValidBoolean)(o,"video"),Object(E.isEmpty)(i)||Object(E.checkValidBoolean)(i,"screen"),Object(E.isEmpty)(a)||Object(E.checkValidBoolean)(a,"screenAudio"),Object(E.isEmpty)(s)||Object(E.checkValidString)(s,"cameraId",0,255,!1),Object(E.isEmpty)(u)||Object(E.checkValidEnum)(u,"facingMode",["user","environment","left","right"]),Object(E.isEmpty)(l)||Object(E.checkValidString)(l,"microphoneId",0,255,!1),Object(E.isEmpty)(p)||Object(E.checkValidString)(p,"extensionId"),Object(E.isEmpty)(f)||Object(E.checkValidEnum)(f,"mediaSource",["screen","application","window"]),Object(E.isEmpty)(d)||Object(E.checkValidBoolean)(d,"mirror"),!Object(E.isEmpty)(h)){var y=h.AGC,_=h.AEC,S=h.ANS;Object(E.isEmpty)(y)||Object(E.checkValidBoolean)(y,"AGC"),Object(E.isEmpty)(_)||Object(E.checkValidBoolean)(_,"AEC"),Object(E.isEmpty)(S)||Object(E.checkValidBoolean)(S,"ANS")}Object(E.isEmpty)(v)||Object(E.checkValidEnum)(v,"optimizationMode",["detail","motion"]),c.default.debug("Create stream"),!0===a&&!0===n&&c.default.warning("Do not set both 'screenAudio' and 'audio' to true at the same time"),e.screen&&!v&&(e.optimizationMode="detail");var b=O(e);return t(),b}},function(e,t,r){"use strict";function n(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",function(){return A}),r.d(t,"b",function(){return R});var s=r(4),c=r(7),u=r.n(c),l=r(13),d=r.n(l),g=r(17),p=r.n(g),f=r(0),h=r(15),m=r(3),v=function(e){var t={},r=h.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[{url:"stun:webcs.agora.io:3478"}]};var o={id:"outbound_audio_ssrc_send",type:"ssrc",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},i={id:"outbound_video_ssrc_send",type:"ssrc",mediaType:"",googCodecName:"h264"===e.codec?"H264":"VP8",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},a={id:"inbound_audio_ssrc_recv",type:"ssrc",mediaType:"",googCodecName:"opus",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"inbound_video_ssrc_recv",type:"ssrc",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesReceived:"0",googFramesDecoded:"0"},l={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"};t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map(function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:"turn:"+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:"turn:"+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")}):f.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics="plan-b",t.peerConnection=new r(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new r(t.pc_config,t.con)}t.iceCandidateTimer=setTimeout(function(){t.iceCandidateTimer=null,f.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},Object(m.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var r,n,o,i;n=(r=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),o=r.match(/a=candidate:.+typ\shost.+\r\n/),i=r.match(/a=candidate:.+typ\srelay.+\r\n/),null===n&&null===o&&null===i||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var g=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},v=function(r){var n,o;if((n=r.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW){o=n[0]+"b=AS:"+e.maxVideoBW+"\r\n";var i=0,a=0;"h264"===e.codec?(i=r.search(/a=rtpmap:(\d+) H264\/90000\r\n/),a=r.search(/H264\/90000\r\n/)):"vp8"===e.codec&&(i=r.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),a=r.search(/VP8\/90000\r\n/)),-1!==i&&-1!==a&&a-i>10&&(o=o+"a=fmtp:"+r.slice(i+9,a-1)+" x-google-min-bitrate="+e.minVideoBW+"\r\n"),r=r.replace(n[0],o),f.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)}return(n=r.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(o=n[0]+"b=AS:"+e.maxAudioBW+"\r\n",r=r.replace(n[0],o)),r};t.processSignalingMessage=function(r){var n,o=JSON.parse(r);t.incomingMessage=o,"new"===t.state?"OFFER"===o.messageType?(n={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)).catch(function(e){}),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===o.messageType?((n={sdp:o.sdp,type:"answer"}).sdp=g(n.sdp),n.sdp=v(n.sdp),e.screen&&"detail"===e.optimizationMode&&(f.default.debug("[".concat(t.client,"] remove screen share abs ext")),n.sdp=n.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),e.isSubscriber&&(n.sdp=n.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)).catch(function(e){}),t.state="established"):"pr-answer"===o.messageType?(n={sdp:o.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)).catch(function(e){})):"offer"===o.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===o.messageType?(n={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)).catch(function(e){}),t.state="offer-received",t.markActionNeeded()):"ANSWER"===o.messageType?((n={sdp:o.sdp,type:"answer"}).sdp=g(n.sdp),n.sdp=v(n.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)).catch(function(e){})):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=p()(d.a.mark(function e(r){var n,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerConnection.getSenders(),console.log("senders",n),o=n.find(function(e){return"video"===e.track.kind})){e.next=5;break}return e.abrupt("return");case 5:return(i=o.getParameters()).degradationPreference=r,e.prev=7,f.default.debug("[".concat(t.clientId,"] setParameters"),i),e.next=11,o.setParameters(i);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),f.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 16:case"end":return e.stop()}},e,null,[[7,13]])}));return function(t){return e.apply(this,arguments)}}();var y=0,E=0;return t.getVideoRelatedStats=function(e){t.getStats(function(r){r.forEach(function(r){if(t.isSubscriber){if("video"===r.mediaType&&r.id&&~r.id.indexOf("recv")){if(s.isChromeKernel()&&+s.getBrowserVersion()>=76){var n=+r.googFramesReceived-y,o=+r.googFramesDecoded-E;t._setStat(c,"googFrameRateReceived",n),t._setStat(c,"googFrameRateDecoded",o),t._setStat(c,"googFrameRateOutput",o),y=+r.googFramesReceived,E=+r.googFramesDecoded}e&&e({mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:r.googFrameRateReceived,frameRateDecoded:r.googFrameRateDecoded,bytesReceived:r.bytesReceived,packetsReceived:r.packetsReceived,packetsLost:r.packetsLost})}}else"video"===r.mediaType&&r.id&&~r.id.indexOf("send")&&e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:r.googFrameRateInput,frameRateSent:r.googFrameRateSent,googRtt:r.googRtt})})})},t.getAudioRelatedStats=function(e){t.getStats(function(r){r.forEach(function(r){t.isSubscriber&&"audio"===r.mediaType&&r.id&&~r.id.indexOf("recv")&&e&&e({mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:parseInt(r.googDecodingPLC)+parseInt(r.googDecodingPLCCNG)+"",frameReceived:r.googDecodingCTN,googJitterReceived:r.googJitterReceived,bytesReceived:r.bytesReceived,packetsReceived:r.packetsReceived,packetsLost:r.packetsLost})})})},t.getStatsRate=function(e){t.getStats(function(t){e(t)})},t.getStats=function(e,r){r=(r=r||500)>500?500:r,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<r?e&&e(t.filterStatsCache,t.originStatsCache):(t.lastTimeGetStats=Date.now(),this._getStats(function(r,n){t.filterStatsCache=r,t.originStatsCache=n,e&&e(r,n)}))},t._setStat=function(e,t,r){e.hasOwnProperty(t)&&(null!=r&&r!==1/0&&r==r||(r=0),e[t]=r+"")},t._processGetStatsAfterChrome76=function(e){var r=this;t.lastStats||(t.lastStats=new Map),t.peerConnection.getStats().then(function(s){var d,g=[],p=[],f=new Map,h=new Date,m=n(s.values());try{for(m.s();!(d=m.n()).done;){var v=d.value;"codec"!=v.type?"candidate-pair"!=v.type?("inbound-rtp"===v.type&&"video"===v.mediaType&&f.set("inbound-video",v),"inbound-rtp"===v.type&&"audio"===v.mediaType&&f.set("inbound-audio",v),"outbound-rtp"===v.type&&"audio"===v.mediaType&&f.set("outbound-audio",v),"outbound-rtp"===v.type&&"video"===v.mediaType&&f.set("outbound-video",v),"track"===v.type&&"video"===v.kind&&v.remoteSource&&f.set("remote-video-track",v),"track"===v.type&&"audio"===v.kind&&v.remoteSource&&f.set("remote-audio-track",v),"remote-inbound-rtp"===v.type&&"video"===v.mediaType&&f.set("remote-inbound-video",v),"remote-inbound-rtp"===v.type&&"audio"===v.mediaType&&f.set("remote-inbound-audio",v),"track"!==v.type||"video"!==v.kind||v.remoteSource||f.set("local-video-track",v),"track"!==v.type||"audio"!==v.kind||v.remoteSource||f.set("local-audio-track",v),"media-source"===v.type&&"video"===v.kind&&f.set("media-source-video",v),"media-source"===v.type&&"audio"===v.kind&&f.set("media-source-audio",v)):p.push(v):g.push(v)}}catch(e){m.e(e)}finally{m.f()}f.set("codec",g),f.set("candidatePairs",p),f.set("timestamp",+h);var y=null,E=null;if(c.timestamp=h,a.timestamp=h,o.timestamp=h,o.timestamp=h,l.timestamp=h,r.isSubscriber)(y=f.get("inbound-video"))&&(t._setStat(c,"id","inbound_video_ssrc_recv"),t._setStat(c,"mediaType",y.mediaType),t._setStat(c,"packetsLost",y.packetsLost),t._setStat(c,"googDecodeMs",null),t._setStat(c,"googMaxDecodeMs",null),t._setStat(c,"googRenderDelayMs",null),t._setStat(c,"googMinPlayoutDelayMs",null),t._setStat(c,"googNacksSent",y.nackCount),t._setStat(c,"googPlisSent",y.pliCount),t._setStat(c,"googFirsSent",y.firCount),t._setStat(c,"bytesReceived",y.bytesReceived),t._setStat(c,"packetsReceived",y.packetsReceived)),(y=f.get("inbound-audio"))&&(t._setStat(a,"id","inbound_audio_ssrc_recv"),t._setStat(a,"mediaType",y.mediaType),t._setStat(a,"bytesReceived",y.bytesReceived),t._setStat(a,"packetsLost",y.packetsLost),t._setStat(a,"packetsReceived",y.packetsReceived),t._setStat(a,"googAccelerateRate",y.removedSamplesForAcceleration),t._setStat(a,"googCurrentDelayMs",y.jitterBufferDelay),t._setStat(a,"googDecodingCNG",null),t._setStat(a,"googDecodingCTN",null),t._setStat(a,"googDecodingCTSG",null),t._setStat(a,"googDecodingNormal",null),t._setStat(a,"googDecodingPLC",null),t._setStat(a,"googDecodingPLCCNG",null),t._setStat(a,"googJitterReceived",y.jitter),t._setStat(a,"googPreferredJitterBufferMs",null),t._setStat(a,"googSecondaryDecodedRate",null)),(y=f.get("remote-video-track"))&&(t._setStat(c,"googTargetDelayMs",y.jitterBufferDelay),t._setStat(c,"googFrameWidthReceived",y.frameWidth),t._setStat(c,"googFrameHeightReceived",y.frameHeight),t._setStat(c,"googJitterBufferMs",y.jitterBufferDelay/y.jitterBufferEmittedCount*1e3),t._setStat(c,"googCurrentDelayMs",y.jitterBufferDelay),t._setStat(c,"googFramesDecoded",y.framesDecoded),t._setStat(c,"googFramesReceived",y.framesReceived)),(y=f.get("remote-audio-track"))&&(t._setStat(a,"audioOutputLevel",32767*y.audioLevel),t._setStat(a,"googJitterBufferMs",y.jitterBufferDelay/y.jitterBufferEmittedCount*1e3),t._setStat(a,"googExpandRate",y.concealedSamples),t._setStat(a,"googPreemptiveExpandRate",y.insertedSamplesForDeceleration),t._setStat(a,"googSpeechExpandRate",y.silentConcealedSamples));else{var _=t.lastStats.get("timestamp"),S=t.lastStats.get("outbound-video");if((y=f.get("outbound-audio"))&&(t._setStat(o,"id","outbound_audio_ssrc_send"),t._setStat(o,"mediaType",y.mediaType),t._setStat(o,"aecDivergentFilterFraction",null),t._setStat(o,"bytesSent",y.bytesSent),t._setStat(o,"packetsSent",y.packetsSent),E=y.transportId),y=f.get("outbound-video")){if(t._setStat(i,"id","outbound_video_ssrc_send"),t._setStat(i,"mediaType",y.mediaType),t._setStat(i,"bytesSent",y.bytesSent),t._setStat(i,"packetsSent",y.packetsSent),t._setStat(i,"googAdaptationChanges",y.qualityLimitationDurations),t._setStat(i,"googAvgEncodeMs",null),t._setStat(i,"googEncodeUsagePercent",null),E=y.transportId,y.totalEncodedBytesTarget&&S&&S.totalEncodedBytesTarget){var b=(y.totalEncodedBytesTarget-S.totalEncodedBytesTarget)/(+new Date-_);t._setStat(l,"googTargetEncBitrate",Math.floor(8*b*1e3))}if(y.retransmittedBytesSent&&S&&S.retransmittedBytesSent){var T=(y.retransmittedBytesSent-S.retransmittedBytesSent)/(+new Date-_);t._setStat(l,"googRetransmitBitrate",Math.floor(8*T*1e3))}if(y.bytesSent&&S&&S.bytesSent){var A=(y.bytesSent-S.bytesSent)/(+new Date-_);t._setStat(l,"googTransmitBitrate",Math.floor(8*A*1e3)),t._setStat(l,"googActualEncBitrate",Math.floor(8*A*1e3))}if(y.totalPacketSendDelay&&S&&S.totalPacketSendDelay){var R=(y.totalPacketSendDelay-S.totalPacketSendDelay)/(+new Date-_);t._setStat(l,"googBucketDelay",Math.floor(1e3*R))}}if((y=f.get("remote-inbound-video"))&&(t._setStat(i,"packetsLost",y.packetsLost),t._setStat(i,"googRtt",y.roundTripTime)),(y=f.get("local-video-track"))&&(t._setStat(i,"googFrameHeightSent",y.frameHeight),t._setStat(i,"googFrameWidthSent",y.frameWidth),void 0!==y.framesPerSecond&&t._setStat(i,"googFrameRateSent",y.framesPerSecond)),(y=f.get("local-audio-track"))&&(t._setStat(o,"googEchoCancellationReturnLoss",y.echoReturnLoss),t._setStat(o,"googEchoCancellationReturnLossEnhancement",y.echoReturnLossEnhancement)),(y=f.get("media-source-video"))&&(t._setStat(i,"googFrameHeightInput",y.height),t._setStat(i,"googFrameWidthInput",y.width),t._setStat(i,"googFrameRateInput",y.framesPerSecond)),(y=f.get("media-source-audio"))&&t._setStat(o,"audioInputLevel",32767*y.totalAudioEnergy),(y=f.get("inbound-video"))&&(t._setStat(i,"googFirsReceived",y.firCount),t._setStat(i,"googNacksReceived",y.nackCount),t._setStat(i,"googPlisReceived",y.pliCount)),E)f.get("candidatePairs").map(function(e){E==e.transportId&&t._setStat(l,"googAvailableSendBandwidth",e.availableOutgoingBitrate)});else{var I=f.get("candidatePairs")[0];I&&t._setStat(l,"googAvailableSendBandwidth",I.availableOutgoingBitrate)}}t.lastStats=f;var O=[u()({},i),u()({},o),u()({},c),u()({},a),u()({},l)];O.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),e(O)})},t._processGetStatsBeforeChrome76=function(e){t.peerConnection.getStats(function(r){var n=[],s=[],d=null;Object.keys(r).forEach(function(e){var t=r[e];t&&(s.push(t),d=t.timestamp,"VideoBwe"===t.type?l=t:t.id.indexOf("_send")>-1&&"video"===t.mediaType?i=t:t.id.indexOf("_send")>-1&&"audio"===t.mediaType?o=t:t.id.indexOf("_recv")>-1&&"video"===t.mediaType?c=t:t.id.indexOf("_recv")>-1&&"audio"===t.mediaType&&(a=t))}),(n=[u()({},i),u()({},o),u()({},c),u()({},a),u()({},l)]).push({id:"time",startTime:t.connectedTime,timestamp:d||new Date}),e(n,s)})},t._getStats=function(e){Object(m.getParameter)("CHROME_NEW_STATS")&&s.isChromeKernel()&&+s.getBrowserVersion()>=76?t._processGetStatsAfterChrome76(e):t._processGetStatsBeforeChrome76(e)},t.addTrack=function(e,r){t.peerConnection.addTrack(e,r)},t.removeTrack=function(e,r){t.peerConnection.removeTrack(t.peerConnection.getSenders().find(function(t){return t.track==e}))},t.addStream=function(e){t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var r;if(t.actionNeeded){if("new"===t.state||"established"===t.state)t.peerConnection.createOffer(function(r){if(r.sdp!==t.prevOffer)return e.isSubscriber&&(r.sdp=r.sdp.replace("minptime=10","minptime=10;stereo=1; sprop-stereo=1")),t.peerConnection.setLocalDescription(r),t.state="preparing-offer",void t.markActionNeeded();f.default.debug("["+t.clientId+"]Not sending a new offer")},function(e){f.default.debug("["+t.clientId+"]peer connection create offer failed ",e)},t.mediaConstraints);else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(f.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(m.getParameter)("SHIM_CANDIDATE")?(f.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):f.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var r=new Date;f.default.debug("["+t.clientId+"]"+r.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(e){f.default.debug("["+t.clientId+"]peer connection create answer failed ",e)},t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;r=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",r),t.state="established"}else f.default.debug("[".concat(t.clientId,"] Dazed and confused in state ' + that.state + ', stopping here'"));t.actionNeeded=!1}},t.sendMessage=function(e,r){var n={};n.messageType=e,n.sdp=r,"OFFER"===e?(n.offererSessionId=t.sessionId,n.answererSessionId=t.otherSessionId,n.seq=t.sequenceNumber+=1,n.tiebreaker=Math.floor(429496723*Math.random()+1)):(n.offererSessionId=t.incomingMessage.offererSessionId,n.answererSessionId=t.sessionId,n.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(n))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var r=t.peerConnection.getSenders().find(function(t){return t.track.kind==e});if(r)return r}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,r,n){var o=t._getSender(e.kind);if(!o)return n("NO_SENDER_FOUND");try{o.replaceTrack(e)}catch(e){return n&&n(e)}setTimeout(function(){return r&&r()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&(t.onaddstream(e,"ontrack"),t.peerConnection.onaddstream=null)},t.peerConnection.onaddstream=function(e){t.onaddstream&&(t.onaddstream(e,"onaddstream"),t.peerConnection.ontrack=null)},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then(function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),e.sdp=g(e.sdp),e.sdp=v(e.sdp),t.peerConnection.setLocalDescription(e)}).then(function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)}).catch(function(e){console.log("createOffer error: ",e)})},t.peerConnection.onnegotiationneeded=t.renegotiate,t.onaddstream=null,t.onremovestream=null,t.onnegotiationneeded=null,t.state="new",t.markActionNeeded(),t},y=function(e){var t={},r=h.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[{urls:["stun:webcs.agora.io:3478","stun:stun.l.google.com:19302"]}],bundlePolicy:"max-bundle"},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map(function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:"turn:"+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:"turn:"+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")}):f.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103;try{t.pc_config.sdpSemantics="plan-b",t.peerConnection=new r(t.pc_config,t.con)}catch(e){delete t.pc_config.sdpSemantics,t.peerConnection=new r(t.pc_config,t.con)}t.iceCandidateTimer=setTimeout(function(){t.iceCandidateTimer=null,t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},Object(m.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var r,n,o,i;n=(r=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),o=r.match(/a=candidate:.+typ\shost.+\r\n/),i=r.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout(function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},1e3)),null===n&&null===o&&null===i||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var n=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},o=function(r){var n,o;return(n=r.match(/m=video.*\r\n/))&&e.minVideoBW&&e.maxVideoBW&&(o=n[0]+"b=AS:"+e.maxVideoBW+"\r\n",r=r.replace(n[0],o),f.default.debug("["+t.clientId+"]Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),(n=r.match(/m=audio.*\r\n/))&&e.maxAudioBW&&(o=n[0]+"b=AS:"+e.maxAudioBW+"\r\n",r=r.replace(n[0],o)),r};t.processSignalingMessage=function(r){var i,a=JSON.parse(r);t.incomingMessage=a,"new"===t.state?"OFFER"===a.messageType?(i={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(i)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===a.messageType?((i={sdp:a.sdp,type:"answer"}).sdp=n(i.sdp),i.sdp=o(i.sdp),i.sdp=i.sdp.replace(/a=x-google-flag:conference\r\n/g,""),e.screen&&"detail"===e.optimizationMode&&(f.default.debug("[".concat(t.client,"] remove screen share abs ext")),i.sdp=i.sdp.replace(/a=.*abs-send-time\r\n/g,"").replace(/a=.*goog-remb\r\n/g,"")),t.peerConnection.setRemoteDescription(new RTCSessionDescription(i)),t.state="established"):"pr-answer"===a.messageType?(i={sdp:a.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(i))):"offer"===a.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===a.messageType?(i={sdp:a.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(i)),t.state="offer-received",t.markActionNeeded()):"ANSWER"===a.messageType?((i={sdp:a.sdp,type:"answer"}).sdp=n(i.sdp),i.sdp=o(i.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(i))):t.error("Illegal message for this state: "+a.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=p()(d.a.mark(function e(r){var n,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerConnection.getSenders(),o=n.find(function(e){return"video"===e.track.kind})){e.next=4;break}return e.abrupt("return");case 4:return(i=o.getParameters()).degradationPreference=r,e.prev=6,f.default.debug("[".concat(t.clientId,"] setParameters"),i),e.next=10,o.setParameters(i);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),f.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}},e,null,[[6,12]])}));return function(t){return e.apply(this,arguments)}}();var i={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"",type:"",mediaType:"",googCodecName:"h264"===e.codec?"H264":"VP8",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},s={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"},u={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"},l=0,g=0,v=0;return t.isRemoteVideoStats=function(e){return!!(e.frameHeight&&e.frameWidth&&e.remoteSource)},t.getVideoRelatedStats=function(r){t.peerConnection.getStats().then(function(n){n.forEach(function(n){if(t.isSubscriber){var o={peerId:t.uid,mediaType:"video",isVideoMute:t.isVideoMute};if("track"===n.type&&(~n.id.indexOf("video")||~n.trackIdentifier.indexOf("v")||t.isRemoteVideoStats(n))){if(!t.lastReport)return void(t.lastReport=n);o.frameRateReceived=n.framesReceived-t.lastReport.framesReceived+"",o.frameRateDecoded=n.framesDecoded-t.lastReport.framesDecoded+"",t.lastReport=n}"inbound-rtp"===n.type&&~n.id.indexOf("Video")&&(o.bytesReceived=n.bytesReceived+"",o.packetsReceived=n.packetsReceived+"",o.packetsLost=n.packetsLost+""),r&&r(o)}else if("outbound-rtp"===n.type&&~n.id.indexOf("Video")){if(!t.lastReport)return void(t.lastReport=n);r&&r({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:e.maxFrameRate+"",frameRateSent:n.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=n}})})},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then(function(r){r.forEach(function(r){t.isSubscriber&&"inbound-rtp"===r.type&&~r.id.indexOf("Audio")&&e&&e({peerId:t.uid,mediaType:"audio",isAudioMute:t.isAudioMute,frameDropped:r.packetsLost+"",frameReceived:r.packetsReceived+"",googJitterReceived:r.jitter+"",bytesReceived:r.bytesReceived+"",packetsReceived:r.packetsReceived+"",packetsLost:r.packetsLost+""})})})},t.getStatsRate=function(e){t.getStats(function(t){t.forEach(function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&e.googFramesEncoded&&(e.googFrameRateSent=Math.ceil((e.googFramesEncoded-l)/3).toString(),l=e.googFramesEncoded),"inbound-rtp"===e.type&&-1!=e.id.indexOf("55543")&&(e.googFrameRateReceived&&(e.googFrameRateReceived=Math.ceil((e.googFrameReceived-v)/3).toString(),v=e.googFrameReceived),e.googFrameRateDecoded&&(e.googFrameRateDecoded=Math.ceil((e.googFramesDecoded-g)/3).toString(),g=e.googFramesDecoded))}),e(t)})},t.getStats=function(e,r){r=(r=r||500)>500?500:r,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<r?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats(function(r,n){t.filterStatsCache=r,t.originStatsCache=n,t.lastTimeGetStats=Date.now(),e&&e(r,n)})},t._getStats=function(r){var n=[];t.peerConnection.getStats().then(function(o){o.forEach(function(t){var r;n.push(t),"outbound-rtp"===t.type&&"audio"===t.mediaType&&(i.id=t.id,i.type=t.type,i.mediaType=t.mediaType,i.bytesSent=t.bytesSent?t.bytesSent+"":"0",i.packetsSent=t.packetsSent?t.packetsSent+"":"0",e.agoraStream.local&&(i.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"outbound-rtp"===t.type&&"video"===t.mediaType&&(a.id=t.id,a.type=t.type,a.mediaType=t.mediaType,a.bytesSent=t.bytesSent?t.bytesSent+"":"0",a.packetsSent=t.packetsSent?t.packetsSent+"":"0",a.googPlisReceived=t.pliCount?t.pliCount+"":"0",a.googNacksReceived=t.nackCount?t.nackCount+"":"0",a.googFirsReceived=t.firCount?t.firCount+"":"0",a.googFramesEncoded=t.framesEncoded?t.framesEncoded+"":"0",(r=o.get(t.trackId))&&(a.googFrameHeightSent=r.frameHeight&&r.frameHeight.toString(),a.googFrameWidthSent=r.frameWidth&&r.frameWidth.toString())),"inbound-rtp"!==t.type||-1==t.id.indexOf("44444")&&"audio"!==t.mediaType||(s.id=t.id,s.type=t.type,s.mediaType="audio",s.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",s.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",s.packetsLost=t.packetsLost?t.packetsLost+"":"0",s.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",s.googJitterReceived=t.jitter?t.jitter+"":"0",(r=o.get(t.trackId))&&(s.audioOutputLevel=r.audioLevel&&Math.round(32767*r.audioLevel).toString()),e.agoraStream.local||s.audioOutputLevel||(s.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==t.type||-1==t.id.indexOf("55543")&&"video"!==t.mediaType||(c.id=t.id,c.type=t.type,c.mediaType="video",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",c.packetsLost=t.packetsLost?t.packetsLost+"":"0",c.googJitterBufferMs=t.jitter?t.jitter+"":"0",c.googNacksSent=t.nackCount?t.nackCount+"":"0",c.googPlisSent=t.pliCount?t.pliCount+"":"0",c.googFirsSent=t.firCount?t.firCount+"":"0",(r=o.get(t.trackId))&&(c.googFrameHeightReceived=r.frameHeight&&r.frameHeight.toString(),c.googFrameWidthReceived=r.frameWidth&&r.frameWidth.toString(),c.googFrameReceived=r.framesReceived&&r.framesReceived.toString(),c.googFramesDecdec=r.framesDecoded&&r.framesDecoded.toString())),"candidate-pair"===t.type&&(0==t.availableIncomingBitrate?u.googAvailableSendBandwidth=t.availableOutgoingBitrate+"":u.googAvailableReceiveBandwidth=t.availableIncomingBitrate+"")});var l=[u,i,a,s,c];l.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),r(l,n)}).catch(function(e){f.default.error("["+t.clientId+"] ",e)})},t.addTrack=function(e,r){t.peerConnection.addTrack(e,r)},t.removeTrack=function(e,r){var n=t.peerConnection.getSenders().find(function(t){return t.track==e});n.replaceTrack(null),t.peerConnection.removeTrack(n)},t.addStream=function(e){window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")?e.getTracks().forEach(function(r){return t.peerConnection.addTrack(r,e)}):t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var r;if(t.actionNeeded){if("new"===t.state||"established"===t.state)e.isSubscriber&&(t.peerConnection.addTransceiver("audio",{direction:"recvonly"}),t.peerConnection.addTransceiver("video",{direction:"recvonly"})),t.peerConnection.createOffer(t.mediaConstraints).then(function(r){if(r.sdp=o(r.sdp),e.isSubscriber||(r.sdp=r.sdp.replace(/a=.*video-orientation\r\n/g,"")),r.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(r),t.state="preparing-offer",void t.markActionNeeded();f.default.debug("["+t.clientId+"]Not sending a new offer")}).catch(function(e){f.default.debug("["+t.clientId+"]peer connection create offer failed ",e)});else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(f.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(m.getParameter)("SHIM_CANDIDATE")?(f.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):f.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var r=new Date;f.default.debug("["+t.clientId+"]"+r.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(e){f.default.debug("["+t.clientId+"]peer connection create answer failed ",e)},t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;r=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",r),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,r){var n={};n.messageType=e,n.sdp=r,"OFFER"===e?(n.offererSessionId=t.sessionId,n.answererSessionId=t.otherSessionId,n.seq=t.sequenceNumber+=1,n.tiebreaker=Math.floor(429496723*Math.random()+1)):(n.offererSessionId=t.incomingMessage.offererSessionId,n.answererSessionId=t.sessionId,n.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(n))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var r=t.peerConnection.getSenders().find(function(t){return t.track.kind==e});if(r)return r}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,r,n){var o=t._getSender(e.kind);if(!o)return n("NO_SENDER_FOUND");try{o.replaceTrack(e)}catch(e){return n&&n(e)}setTimeout(function(){return r&&r()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){console.log("!!! ontrack, ",e.track.kind,e.track),t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.renegotiate=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then(function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),e.sdp=n(e.sdp),e.sdp=o(e.sdp),t.peerConnection.setLocalDescription(e)}).then(function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)}).catch(function(e){console.log("createOffer error: ",e)})},t.peerConnection.onnegotiationneeded=t.renegotiate,t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t},E=function(e){var t={},r=(mozRTCPeerConnection,mozRTCSessionDescription),n=!1;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isAudioMute=e.isAudioMute,t.isSubscriber=e.isSubscriber,t.clientId=e.clientId,t.filterStatsCache=[],t.originStatsCache=[],t.lastTimeGetStats=null,t.pc_config={iceServers:[]},e.iceServers instanceof Array?e.iceServers.map(function(e){0===e.url.indexOf("stun:")&&t.pc_config.iceServers.push({url:e.url})}):(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServers&&(e.turnServers instanceof Array?e.turnServers.map(function(e){e.udpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:"turn:"+e.url+":"+e.udpport+"?transport=udp"}),"string"==typeof e.tcpport&&""!==e.tcpport&&t.pc_config.iceServers.push({username:e.username,credential:e.credential,credentialType:"password",urls:"turn:"+e.url+":"+e.tcpport+"?transport=tcp"}),!0===e.forceturn&&(t.pc_config.iceTransportPolicy="relay")}):f.default.error("[".concat(t.clientId,"] turnServers is not a array")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={offerToReceiveAudio:e.audio,offerToReceiveVideo:e.video,mozDontOfferDataChannel:!0},t.roapSessionId=103,t.peerConnection=new h.RTCPeerConnection(t.pc_config),t.iceCandidateTimer=setTimeout(function(){t.iceCandidateTimer=null,f.default.debug("[".concat(t.clientId,"]Candidates collected: ").concat(t.iceCandidateCount)),t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},Object(m.getParameter)("CANDIDATE_TIMEOUT")),t.peerConnection.onicecandidate=function(e){var r,n,o,i;n=(r=t.peerConnection.localDescription.sdp).match(/a=candidate:.+typ\ssrflx.+\r\n/),o=r.match(/a=candidate:.+typ\shost.+\r\n/),i=r.match(/a=candidate:.+typ\srelay.+\r\n/),null===n&&null===o&&null===i||void 0!==t.ice||!t.iceCandidateTimer||(clearTimeout(t.iceCandidateTimer),t.iceCandidateTimer=null,t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1},t.checkMLineReverseInSDP=function(e){return!(!~e.indexOf("m=audio")||!~e.indexOf("m=video"))&&e.indexOf("m=audio")>e.indexOf("m=video")},t.reverseMLineInSDP=function(e){var t=e.split("m=audio"),r=t[1].split("m=video"),n="m=video"+r[1],o="m=audio"+r[0];return e=t[0]+n+o},t.processSignalingMessage=function(n){var o,i=JSON.parse(n);t.incomingMessage=i,"new"===t.state?"OFFER"===i.messageType?(i.sdp=v(i.sdp),o={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new r(o),function(){f.default.debug("["+t.clientId+"]setRemoteDescription succeeded")},function(e){f.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)}),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===i.messageType?(i.sdp=v(i.sdp),i.sdp=i.sdp.replace(/ generation 0/g,""),i.sdp=i.sdp.replace(/ udp /g," UDP "),-1!==i.sdp.indexOf("a=group:BUNDLE")?(i.sdp=i.sdp.replace(/a=group:BUNDLE audio video/,"a=group:BUNDLE sdparta_0 sdparta_1"),i.sdp=i.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),i.sdp=i.sdp.replace(/a=mid:video/,"a=mid:sdparta_1")):(i.sdp=i.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),i.sdp=i.sdp.replace(/a=mid:video/,"a=mid:sdparta_0")),o={sdp:i.sdp,type:"answer"},e.screen&&"detail"===e.optimizationMode&&(f.default.debug("[".concat(t.client,"] remove screen share abs ext")),i.sdp=y(o.sdp)),t.peerConnection.setRemoteDescription(new r(o),function(){f.default.debug("["+t.clientId+"]setRemoteDescription succeeded")},function(e){f.default.info("["+t.clientId+"]setRemoteDescription failed: "+e)}),t.state="established"):"pr-answer"===i.messageType?(o={sdp:i.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new r(o),function(){f.default.debug("["+t.clientId+"]setRemoteDescription succeeded")},function(e){f.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)})):"offer"===i.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===i.messageType?(o={sdp:i.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new r(o),function(){f.default.debug("["+t.clientId+"]setRemoteDescription succeeded")},function(e){f.default.info("["+t.clientId+"]setRemoteDescription failed: "+e.name)}),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+i.messageType+" in state "+t.state))},t.setRtpSenderParameters=function(){var e=p()(d.a.mark(function e(r){var n,o,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.peerConnection.getSenders(),o=n.find(function(e){return"video"===e.track.kind})){e.next=4;break}return e.abrupt("return");case 4:return(i=o.getParameters()).degradationPreference=r,e.prev=6,f.default.debug("[".concat(t.clientId,"] setParameters"),i),e.next=10,o.setParameters(i);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),f.default.debug("[".concat(t.clientId,"] setParameters failed, ignore"));case 15:case"end":return e.stop()}},e,null,[[6,12]])}));return function(t){return e.apply(this,arguments)}}();var o={id:"",type:"",mediaType:"opus",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},a={id:"",type:"",mediaType:"",googCodecName:"h264"===e.codec?"H264":"VP8",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},s={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesDecoded:"0"},u=0,l=0,g=0;t.getVideoRelatedStats=function(e){t.peerConnection.getStats().then(function(r){var n,o=i(r.values());try{for(o.s();!(n=o.n()).done;){var a=n.value;if(t.isSubscriber){if(("inbound-rtp"===a.type||"inboundrtp"===a.type)&&"video"===a.mediaType){if(!t.lastReport)return void(t.lastReport=a);e&&e({browser:"firefox",mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:Math.round(a.framerateMean)+"",frameRateDecoded:a.framesDecoded-t.lastReport.framesDecoded+"",bytesReceived:a.bytesReceived+"",packetsReceived:a.packetsReceived+"",packetsLost:a.packetsLost+""}),t.lastReport=a}}else if(("outbound-rtp"===a.type||"outboundrtp"===a.type)&&"video"===a.mediaType){if(!t.lastReport)return void(t.lastReport=a);e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:Math.round(a.framerateMean)+"",frameRateSent:a.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=a}}}catch(e){o.e(e)}finally{o.f()}})},t.getAudioRelatedStats=function(e){t.peerConnection.getStats().then(function(r){var n,o=i(r.values());try{for(o.s();!(n=o.n()).done;){var a=n.value;t.isSubscriber&&("inbound-rtp"!==a.type&&"inboundrtp"!==a.type||"audio"!==a.mediaType||e&&e({browser:"firefox",mediaType:"audio",peerId:t.uid,isAudioMute:t.isAudioMute,frameDropped:a.packetsLost+"",frameReceived:a.packetsReceived+"",googJitterReceived:a.jitter+"",bytesReceived:a.bytesReceived+"",packetsReceived:a.packetsReceived+"",packetsLost:a.packetsLost+""}))}}catch(e){o.e(e)}finally{o.f()}})},t.getStatsRate=function(e){t.getStats(function(t){t.forEach(function(e){}),e(t)})},t.getStats=function(e,r){r=(r=r||500)>500?500:r,t.lastTimeGetStats&&Date.now()-t.lastTimeGetStats<r?e&&e(t.filterStatsCache,t.originStatsCache):this._getStats(function(r,n){t.filterStatsCache=r,t.originStatsCache=n,t.lastTimeGetStats=Date.now(),e&&e(r,n)})},t._getStats=function(r){t.peerConnection.getStats().then(function(n){var d,p=[],f=i(n.values());try{for(f.s();!(d=f.n()).done;){var h=d.value;p.push(h),"outbound-rtp"!==h.type&&"outboundrtp"!==h.type||"video"!==h.mediaType||-1!==h.id.indexOf("rtcp")||(a.id=h.id,a.type=h.type,a.mediaType=h.mediaType,a.bytesSent=h.bytesSent?h.bytesSent+"":"0",a.packetsSent=h.packetsSent?h.packetsSent+"":"0",a.googPlisReceived=h.pliCount?h.pliCount+"":"0",a.googNacksReceived=h.nackCount?h.nackCount+"":"0",a.googFirsReceived=h.firCount?h.firCount+"":"0",a.googFrameRateSent=h.framerateMean?Math.round(h.framerateMean)+"":"0"),"outbound-rtp"!==h.type&&"outboundrtp"!==h.type||"audio"!==h.mediaType||-1!==h.id.indexOf("rtcp")||(o.id=h.id,o.type=h.type,o.mediaType=h.mediaType,o.bytesSent=h.bytesSent?h.bytesSent+"":"0",o.packetsSent=h.packetsSent?h.packetsSent+"":"0",e.agoraStream.local&&(o.audioInputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==h.type&&"inboundrtp"!==h.type||"audio"!==h.mediaType||h.isRemote||-1!==h.id.indexOf("rtcp")||(s.id=h.id,s.type=h.type,s.mediaType=h.mediaType,s.bytesReceived=h.bytesReceived?h.bytesReceived+"":"0",s.packetsLost=h.packetsLost?h.packetsLost+"":"0",s.packetsReceived=h.packetsReceived?h.packetsReceived+"":"0",s.googJitterReceived=h.jitter?h.jitter+"":"0",e.agoraStream.local||(s.audioOutputLevel=Math.round(32767*e.agoraStream.getAudioLevel()).toString())),"inbound-rtp"!==h.type&&"inboundrtp"!==h.type||"video"!==h.mediaType||h.isRemote||-1!==h.id.indexOf("rtcp")||(c.id=h.id,c.type=h.type,c.mediaType=h.mediaType,c.bytesReceived=h.bytesReceived?h.bytesReceived+"":"0",c.googFrameRateReceived=h.framerateMean?Math.round(h.framerateMean)+"":"0",c.googFramesDecoded=h.framesDecoded?h.framesDecoded+"":"0",Date.now()-g>=1e3?(c.googFrameRateDecoded=(h.framesDecoded-u)/((Date.now()-g)/1e3),c.googFrameRateDecoded=Math.round(Math.max(0,c.googFrameRateDecoded)),g=Date.now(),l=c.googFrameRateDecoded,u=h.framesDecoded,c.googFrameRateDecoded=c.googFrameRateDecoded.toString()):c.googFrameRateDecoded=l.toString(),c.packetsLost=h.packetsLost?h.packetsLost+"":"0",c.packetsReceived=h.packetsReceived?h.packetsReceived+"":"0",c.googJitterBufferMs=h.jitter?h.jitter+"":"0",c.googNacksSent=h.nackCount?h.nackCount+"":"0",c.googPlisSent=h.pliCount?h.pliCount+"":"0",c.googFirsSent=h.firCount?h.firCount+"":"0"),-1!==h.id.indexOf("outbound_rtcp_video")&&(a.packetsLost=h.packetsLost?h.packetsLost+"":"0")}}catch(e){f.e(e)}finally{f.f()}var m=[a,o,s,c];m.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),r(m,p)},function(e){f.default.error("["+t.clientId+"]"+e)})},t.addStream=function(e){n=!0,t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){if(t.actionNeeded){if("new"===t.state||"established"===t.state)n&&(t.mediaConstraints=void 0),t.peerConnection.createOffer(function(e){if(e.sdp=v(e.sdp),e.sdp=e.sdp.replace(/a=extmap:1 http:\/\/www.webrtc.org\/experiments\/rtp-hdrext\/abs-send-time/,"a=extmap:3 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.state="preparing-offer",void t.markActionNeeded();f.default.debug("["+t.clientId+"]Not sending a new offer")},function(e){f.default.debug("["+t.clientId+"]Ups! create offer failed ",e)},t.mediaConstraints);else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.offerCandidates=t.prevOffer.match(/a=candidate.+\r\n/g)||[],t.offerCandidates.length||(f.default.warning("[".concat(t.clientId,"]No Ice Candidate generated")),Object(m.getParameter)("SHIM_CANDIDATE")?(f.default.debug("Shimming fake candidate"),t.prevOffer+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"):f.default.error("[".concat(t.clientId,"]None Ice Candidate not allowed"))),t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var r=new Date;f.default.debug("["+t.clientId+"]"+r.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(){f.default.debug("["+t.clientId+"]Ups! Something went wrong")});else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;var e=t.peerConnection.localDescription.sdp;t.sendMessage("ANSWER",e),t.state="established"}else t.debug("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendMessage=function(e,r){var n={};n.messageType=e,n.sdp=r,"OFFER"===e?(n.offererSessionId=t.sessionId,n.answererSessionId=t.otherSessionId,n.seq=t.sequenceNumber+=1,n.tiebreaker=Math.floor(429496723*Math.random()+1)):(n.offererSessionId=t.incomingMessage.offererSessionId,n.answererSessionId=t.sessionId,n.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(n))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var r=t.peerConnection.getSenders().find(function(t){return t.track.kind==e});if(r)return r}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,r,n){var o=t._getSender(e.kind);if(!o)return n("NO_SENDER_FOUND");try{o.replaceTrack(e)}catch(e){return n&&n(e)}setTimeout(function(){return r&&r()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)};var v=function(t){var r;if(e.video&&e.maxVideoBW&&(null==(r=t.match(/m=video.*\r\n/))&&(r=t.match(/m=video.*\n/)),r&&r.length>0)){var n=r[0]+"b=TIAS:"+1e3*e.maxVideoBW+"\r\n";t=t.replace(r[0],n)}return e.audio&&e.maxAudioBW&&(null==(r=t.match(/m=audio.*\r\n/))&&(r=t.match(/m=audio.*\n/)),r&&r.length>0)&&(n=r[0]+"b=TIAS:"+1e3*e.maxAudioBW+"\r\n",t=t.replace(r[0],n)),t},y=function(e){return(e=e.replace(/a=.*abs-send-time\r\n/g,"")).replace(/a=.*goog-remb\r\n/g,"")};return t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t},_=r(48),S=r.n(_),b=r(25),T=(r(5),103),A=function(e){var t={};if(t.clientId=e.clientId,e.session_id=T+=1,"undefined"==typeof window||!window.navigator)throw f.default.error("["+t.streamId+"]["+t.clientId+"]Publish/subscribe video/audio streams not supported yet"),new Error("NON_BROWSER_ENV_DETECTED");return null!==window.navigator.userAgent.match("Firefox")?(t.browser="mozilla",t=E(e)):"iOS"===s.getBrowserOS()||s.isSafari()?(f.default.debug("["+t.streamId+"]["+t.clientId+"]Safari"),(t=y(e)).browser="safari"):~window.navigator.userAgent.indexOf("Edge")?t=new S.a(e):(t=v(e)).browser="chrome-stable",t},R=function(e,t,r){var n={};n.config=e,n.streamId=e.streamId,delete e.streamId,navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var o=0,i=1,a=!1,c=null,u=function(e){if(o++,c)if(c===e)f.default.debug("Using Video Source/ Audio Source");else{var r=c.getVideoTracks()[0],n=c.getAudioTracks()[0],s=e.getVideoTracks()[0],u=e.getAudioTracks()[0];s&&(r&&c.removeTrack(r),c.addTrack(s)),u&&(n&&c.removeTrack(n),c.addTrack(u))}else c=e;o!==i||a||(a=!0,setTimeout(function(){t(c)},0))},l=function(e){f.default.error("Failed to GetUserMedia",e.name,e.code,e.message,e),o++,a||(a=!0,setTimeout(function(){r&&r(e)},0))},d=function(){var t={video:e.video,audio:e.audio};if(f.default.debug("GetUserMedia",JSON.stringify(t)),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(t).then(u).catch(l);else if("undefined"!=typeof navigator&&navigator.getMedia)navigator.getMedia(e,u,l);else{var o={name:"MEDIA_NOT_SUPPORT",message:"Video/audio streams not supported yet"};f.default.error("["+n.streamId+"]"+o.message),r&&r(o)}};if((e.videoSource||e.audioSource)&&(c=new MediaStream,e.videoSource&&c.addTrack(e.videoSource),e.audioSource&&c.addTrack(e.audioSource)),e.video||e.audio||e.screen||e.screenAudio){if(!e.screen&&e.screenAudio)return r&&r({code:"Set screen to true before sharing the audio"});if(e.screen){if(b.a.isElectron())return e.screen.sourceId?b.a.getScreenStream(e.screen.sourceId,e.screen,function(t,r){t?l(t):(e.audio&&(i++,d()),u(r))}):b.a.shareScreen(e.screen,function(t,r){t?l(t):(e.audio&&(i++,d()),u(r))});if(s.isFireFox()){if(f.default.debug("["+n.streamId+"]Screen access requested"),!~["screen","window","application"].indexOf(e.screen.mediaSource))return r&&r({code:"Invalid mediaSource, mediaSource should be one of [screen, window, application]"});navigator.getMedia({video:e.screen},function(t){e.audio&&(i++,d()),u(t)},l)}else if(s.isChromeKernel()&&e.screen.extensionId){if(window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<34)return void r({code:"This browser does not support screen sharing"});f.default.debug("["+n.streamId+"]Screen access on chrome stable, looking for extension");try{chrome.runtime.sendMessage(e.screen.extensionId,{getStream:!0},function(t){void 0===t?(f.default.error("["+n.streamId+"]No response from Chrome Plugin. Plugin not installed properly"),l({name:"PluginNotInstalledProperly",message:"No response from Chrome Plugin. Plugin not installed properly."})):(e.screen.mandatory.chromeMediaSourceId=t.streamId,navigator.getMedia({video:e.screen},function(t){e.audio&&(i++,d()),u(t)},l))})}catch(e){return f.default.debug("["+n.streamId+"]AgoraRTC screensharing plugin is not accessible"),void r({code:"no_plugin_present"})}}else{if(window.navigator.mediaDevices.getDisplayMedia){var g={};return"number"==typeof e.screen.width&&"number"==typeof e.screen.height?g.video={width:{ideal:e.screen.width},height:{ideal:e.screen.height}}:g.video={width:e.screen.width,height:e.screen.height},e.screen.frameRate&&e.screen.frameRate.min?g.video.frameRate={ideal:e.screen.frameRate.max,max:e.screen.frameRate.max}:g.video.frameRate=e.screen.frameRate,e.screenAudio&&(g.audio=e.screenAudio),f.default.debug("use getDisplayMedia, constraints:",g),window.navigator.mediaDevices.getDisplayMedia(g).then(function(t){!e.screenAudio&&e.audio&&(i++,d()),u(t)}).catch(l)}f.default.error("["+n.streamId+"]This browser does not support screenSharing"),r({code:"This browser does not support screen sharing"})}}else d()}else u(c)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=function(){function e(e,t,r){void 0===t&&(t=""),this.name="AgoraRTCException",this.code=e,this.message="AgoraRTCError "+this.code+": "+t,this.data=r}return e.prototype.toString=function(){return this.data?this.message+" data: "+JSON.stringify(this.data):this.message},e.prototype.throw=function(){throw o.default.error(this.toString()),this},e}();t.AgoraRTCError=i,function(e){e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_SUPPORT="NOT_SUPPORT",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORT="OPERATION_ABORT",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.STREAM_ALREADY_INITIALIZED="STREAM_ALREADY_INITIALIZED",e.STREAM_IS_CLOSED="STREAM_IS_CLOSED",e.ABORT_OTHER_INIT="ABORT_OTHER_INIT",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.CAN_NOT_AUTOPLAY="CAN_NOT_AUTOPLAY",e.HIGH_STREAM_NO_VIDEO_TRACK="HIGH_STREAM_NO_VIDEO_TRACK",e.SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM="SCREEN_SHARE_CAN_NOT_CREATE_LOW_STREAM",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.TOKEN_GENERATOR_FUNCTION_ERROR="TOKEN_GENERATOR_FUNCTION_ERROR",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.UID_CONFLICT="UID_CONFLICT",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.SUBSCRIPTION_IS_IN_PROGRESS="SUBSCRIPTION_IS_IN_PROGRESS",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.EFFECT_ID_CONFLICTED="EFFECT_ID_CONFLICTED",e.EFFECT_SOUND_ID_NOT_FOUND="EFFECT_SOUND_ID_NOT_FOUND",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER="CAN_NOT_CONNECT_TO_LIVE_STREAMING_WORKER",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT="LIVE_STREAMING_TRANSCODING_NOT_SUPPORT",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE"}(t.AgoraRTCErrorCode||(t.AgoraRTCErrorCode={}))},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),o=window.AudioContext||window.webkitAudioContext,i=r(3),a=i.getParameter,s=i.setParameter,c=function(){return a("AUDIO_CONTEXT")||(console.log("Creating Audio Context"),s("AUDIO_CONTEXT",function(){if(o){var e=new o;return window.ctx=e,new Promise(function(e){document.body?e():window.addEventListener("load",e)}).then(function(){var t=function t(){"suspended"==e.state?(n.default.debug("AudioContext is suspended, auto resume"),e.resume().then(function(){n.default.debug("AudioContext resume success"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0)})):(n.default.debug("AudioContext is running"),document.body.removeEventListener("touchend",t,!0),document.body.removeEventListener("mousedown",t,!0))};n.default.debug(">>> add event listener >>>>"),document.body.addEventListener("touchend",t,!0),document.body.addEventListener("mousedown",t,!0)}),e}throw new Error("AUDIO_CONTEXT_NOT_SUPPORTED")}())),a("AUDIO_CONTEXT")};c()},function(e,t,r){"use strict";var n=r(1),o=null,i=function(){try{o=window.require("electron")}catch(e){}return o},a=function(e){var t=n.report.reportApiInvoke(null,{callback:e,name:"getScreenSources",options:arguments,tag:"tracer"}),r=i();if(!r)return t&&t("electron is null");try{var o=r.desktopCapturer.getSources({types:["window","screen"]})}catch(e){console.log(e)}o instanceof Promise?(console.log("electron.desktopCapturer.getSources return type is Promise"),o.then(function(e){return t&&t(null,e)}).catch(function(e){return t&&t(e)})):o=r.desktopCapturer.getSources({types:["window","screen"]},function(e,r){console.log("electron.desktopCapturer.getSources return type is callback"),t&&t(null,r)})},s=function(e,t,r){var n=t.width;t={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:t.height,maxWidth:n,maxFrameRate:t.frameRate&&t.frameRate.max,minFrameRate:t.frameRate&&t.frameRate.min}}},navigator.webkitGetUserMedia(t,function(e){r&&r(null,e)},function(e){r&&r(e)})};t.a={isElectron:function(){return!!i()},getElectronInstance:i,getScreenSources:a,getScreenStream:s,shareScreen:function(e,t){a(function(r,n){if(r)return t&&t(r);!function(e,t){var r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var n=document.createElement("div");n.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");var i=document.createElement("div");i.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var a=document.createElement("div");a.setAttribute("style","text-align: right; padding: 16px 0;");var s=document.createElement("button");s.innerHTML="cancel",s.setAttribute("style","width: 85px;"),s.onclick=function(){document.body.removeChild(c),t&&t("NotAllowedError")},a.appendChild(s),n.appendChild(o),n.appendChild(i),n.appendChild(a);var c=document.createElement("div");c.setAttribute("style","position: absolute; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),c.appendChild(r),c.appendChild(n),document.body.appendChild(c),e.map(function(e){if(e.id){var r=document.createElement("div");r.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;"),r.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+e.thumbnail.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name+"</span>",r.onclick=function(){document.body.removeChild(c),t&&t(null,e.id)},i.appendChild(r)}})}(n,function(r,n){if(r)return t&&t(r);s(n,e,t)})})}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);!function(e){e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e.INJECT="inject_streaming"}(t.LiveStreamingServiceMode||(t.LiveStreamingServiceMode={})),t.DEFAULT_LIVE_STREAMING_TRANSCODING_USER={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},t.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK={x:0,y:0,width:160,height:160,zOrder:255,alpha:1},t.isLiveStreamingTranscodingConfig=function(e){return n.isEmpty(e.width)||n.checkValidNumber(e.width,"config.width",0),n.isEmpty(e.height)||n.checkValidNumber(e.height,"config.height",0),n.isEmpty(e.videoBitrate)||n.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e6),n.isEmpty(e.videoFramerate)||n.checkValidNumber(e.videoFramerate,"config.videoFramerate"),n.isEmpty(e.lowLatency)||n.checkValidBoolean(e.lowLatency,"config.lowLatency"),n.isEmpty(e.audioSampleRate)||n.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),n.isEmpty(e.audioBitrate)||n.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,128),n.isEmpty(e.audioChannels)||n.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),n.isEmpty(e.videoGop)||n.checkValidNumber(e.videoGop,"config.videoGop"),n.isEmpty(e.videoCodecProfile)||n.checkValidEnum(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),n.isEmpty(e.userCount)||n.checkValidNumber(e.userCount,"config.userCount",0,17),n.isEmpty(e.backgroundColor)||n.checkValidNumber(e.backgroundColor,"config.backgroundColor",0,16777215),e.transcodingUsers&&!n.isEmpty(e.transcodingUsers)&&(n.checkValidArray(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach(function(e,t){n.checkValidUID(e.uid),n.isEmpty(e.x)||n.checkValidNumber(e.x,"transcodingUser["+t+"].x",0,1e4),n.isEmpty(e.y)||n.checkValidNumber(e.y,"transcodingUser["+t+"].y",0,1e4),n.isEmpty(e.width)||n.checkValidNumber(e.width,"transcodingUser["+t+"].width",0,1e4),n.isEmpty(e.height)||n.checkValidNumber(e.height,"transcodingUser["+t+"].height",0,1e4),n.isEmpty(e.zOrder)||n.checkValidNumber(e.zOrder-1,"transcodingUser["+t+"].zOrder",0,100),n.isEmpty(e.alpha)||n.checkValidFloatNumber(e.alpha,"transcodingUser["+t+"].alpha",0,1)})),e.images&&!n.isEmpty(e.images)&&(n.checkValidArray(e.images,"config.images"),e.images.forEach(function(e,t){n.checkValidString(e.url,"images["+t+"].url",1,1e3,!1),n.isEmpty(e.x)||n.checkValidNumber(e.x,"images["+t+"].x",0,1e4),n.isEmpty(e.y)||n.checkValidNumber(e.y,"images["+t+"].y",0,1e4),n.isEmpty(e.width)||n.checkValidNumber(e.width,"images["+t+"].width",0,1e4),n.isEmpty(e.height)||n.checkValidNumber(e.height,"images["+t+"].height",0,1e4),n.isEmpty(e.zOrder)||n.checkValidNumber(e.zOrder,"images["+t+"].zOrder",0,255),n.isEmpty(e.alpha)||n.checkValidFloatNumber(e.alpha,"images["+t+"].alpha",0,1)})),!0},t.DEFAULT_TRANSCODING_CONFIG={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFramerate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},t.isInjectStreamConfig=function(e){return n.isEmpty(e.audioVolume)||n.checkValidNumber(e.audioVolume,"config.audioVolume",0,1e3),n.isEmpty(e.audioBitrate)||n.checkValidNumber(e.audioBitrate,"config.audioBitrate",1,1e4),n.isEmpty(e.audioChannels)||n.checkValidEnum(e.audioChannels,"config.audioChannels",[1,2]),n.isEmpty(e.audioSampleRate)||n.checkValidEnum(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),n.isEmpty(e.width)||n.checkValidNumber(e.width,"config.width",0,1e4),n.isEmpty(e.height)||n.checkValidNumber(e.height,"config.height",0,1e4),n.isEmpty(e.videoBitrate)||n.checkValidNumber(e.videoBitrate,"config.videoBitrate",1,1e4),n.isEmpty(e.videoFramerate)||n.checkValidNumber(e.videoFramerate,"config.videoFramerate",1,1e4),n.isEmpty(e.videoGop)||n.checkValidNumber(e.videoGop,"config.videoGop",1,1e4),!0},t.DEFAULT_INJECT_CONFIG={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30},function(e){e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.INJECT_STREAM_STATUS="@live_uap-inject-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address"}(t.LiveStreamingUapSignalEvents||(t.LiveStreamingUapSignalEvents={})),function(e){e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(t.LiveStreamingInternalEvents||(t.LiveStreamingInternalEvents={})),function(e){e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(t.LIVE_STREAM_ERROR_CODE||(t.LIVE_STREAM_ERROR_CODE={})),function(e){e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls"}(t.WebSocketManagerEvents||(t.WebSocketManagerEvents={}))},function(e,t,r){var n=r(55),o=r(56);e.exports=function(e,t,r){var i=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(r(0));!function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(o||(o={})),t.AREAS=o,function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(i||(i={}));var s={ASIA:{CODE:i.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"]},NORTH_AMERICA:{CODE:i.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"]},EUROPE:{CODE:i.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"]},JAPAN:{CODE:i.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"]},INDIA:{CODE:i.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"]},OVERSEA:{CODE:i.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"]},GLOBAL:{CODE:i.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"]},OCEANIA:{CODE:i.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"]},SOUTH_AMERICA:{CODE:i.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"]},AFRICA:{CODE:i.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"]}};t.AREA_DOMAIN_MAP=s,s.CHINA={CODE:i.CHINA,WEBCS_DOMAIN:["webrtc2-ap-web-2.agoraio.cn"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-4.agoraio.cn"],PROXY_CS:["proxy-ap-web.agoraio.cn"],CDS_AP:["cds-ap-web-2.agoraio.cn","cds-ap-web-4.agoraio.cn"],ACCOUNT_REGISTER:["sua-ap-web-2.agoraio.cn","sua-ap-web-4.agoraio.cn"],UAP_AP:["uap-ap-web-2.agoraio.cn","uap-ap-web-4.agoraio.cn"],EVENT_REPORT_DOMAIN:["statscollector-3.agoraio.cn"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-4.agoraio.cn"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"]},t.getAreaCodeByWebCS=function(e){for(var t=Object.keys(s),r=0;r<t.length;r++){var n=t[r],o=s[n];if(o.WEBCS_DOMAIN.includes(e)||o.WEBCS_DOMAIN_BACKUP_LIST.includes(e))return o.CODE===i.OVERSEA?i.ASIA+","+i.EUROPE+","+i.AFRICA+","+i.NORTH_AMERICA+","+i.SOUTH_AMERICA+","+i.OCEANIA:o.CODE}},t.getAreaCodeByArea=function(e){return e===o.OVERSEA?i.ASIA+","+i.EUROPE+","+i.AFRICA+","+i.NORTH_AMERICA+","+i.SOUTH_AMERICA+","+i.OCEANIA:i[e]},t.getAreaDomainConfig=function(e){var t={WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[]};return e.map(function(e){var r=s[e];if(r){var n=Object.keys(r);n?n.map(function(e){"CODE"!==e&&(t[e]=t[e].concat(r[e]))}):a.default.info(e+" is not exist")}else a.default.info(e+" is not exist")}),t}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(r(0));!function(e){e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(o||(o={})),t.AREAS=o,function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"}(i||(i={}));var s={ASIA:{CODE:i.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"]},NORTH_AMERICA:{CODE:i.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"]},EUROPE:{CODE:i.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"]},JAPAN:{CODE:i.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","\tuap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"]},INDIA:{CODE:i.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"]},OVERSEA:{CODE:i.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"]},GLOBAL:{CODE:i.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"]},OCEANIA:{CODE:i.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"]},SOUTH_AMERICA:{CODE:i.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"]},AFRICA:{CODE:i.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"]}};t.AREA_DOMAIN_MAP=s,s.CHINA={CODE:i.CHINA,WEBCS_DOMAIN:["webrtc2-ap-web-2.agoraio.cn"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-4.agoraio.cn"],PROXY_CS:["proxy-ap-web.agoraio.cn"],CDS_AP:["cds-ap-web-2.agoraio.cn","cds-ap-web-4.agoraio.cn"],ACCOUNT_REGISTER:["sua-ap-web-2.agoraio.cn","sua-ap-web-4.agoraio.cn"],UAP_AP:["uap-ap-web-2.agoraio.cn","uap-ap-web-4.agoraio.cn"],EVENT_REPORT_DOMAIN:["statscollector-3.agoraio.cn"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-4.agoraio.cn"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"]},t.getAreaCodeByWebCS=function(e){for(var t=Object.keys(s),r=0;r<t.length;r++){var n=t[r],o=s[n];if(o.WEBCS_DOMAIN.includes(e)||o.WEBCS_DOMAIN_BACKUP_LIST.includes(e))return o.CODE===i.OVERSEA?i.ASIA+","+i.EUROPE+","+i.AFRICA+","+i.NORTH_AMERICA+","+i.SOUTH_AMERICA+","+i.OCEANIA:o.CODE}},t.getAreaCodeByArea=function(e){return e===o.OVERSEA?i.ASIA+","+i.EUROPE+","+i.AFRICA+","+i.NORTH_AMERICA+","+i.SOUTH_AMERICA+","+i.OCEANIA:i[e]},t.getAreaDomainConfig=function(e){var t={WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[]};return e.map(function(e){var r=s[e];if(r){var n=Object.keys(r);n?n.map(function(e){"CODE"!==e&&(t[e]=t[e].concat(r[e]))}):a.default.info(e+" is not exist")}else a.default.info(e+" is not exist")}),t}},function(e,t,r){"use strict";function n(e){return new Promise(function(t){window.setTimeout(t,e)})}function o(e,t){return new Promise(function(r,n){t.timeout=t.timeout||g.getParameter("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&(t.data=JSON.stringify(t.data)),t.headers=t.headers||{},t.headers["Content-Type"]="application/json",t.method="POST",t.url=e,p.default.request(t).then(function(e){r(e.data)}).catch(function(e){n(p.default.isCancel(e)?new f.AgoraRTCError(f.AgoraRTCErrorCode.OPERATION_ABORT,"cancel token canceled"):"ECONNABORTED"===e.code?new f.AgoraRTCError(f.AgoraRTCErrorCode.NETWORK_TIMEOUT,e.message):e.response?new f.AgoraRTCError(f.AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR,e.response.status):new f.AgoraRTCError(f.AgoraRTCErrorCode.NETWORK_ERROR,e.message))})})}function i(e,r,o,i){var a=this,s=Object.assign({},t.DEFAULT_RETRY_CONFIG,i),c=s.timeout,d=function(){return u(a,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,n(c)];case 1:return e.sent(),c*=s.timeoutFactor,c=Math.min(s.maxRetryTimeout,c),[2]}})})},g=!1,p=new Promise(function(t,n){return u(a,void 0,void 0,function(){var i,a,c;return l(this,function(u){switch(u.label){case 0:r=r||function(){return!1},o=o||function(){return!0},i=0,u.label=1;case 1:if(!(i<s.maxRetryCount))return[3,12];if(g)return[2,n(new f.AgoraRTCError(f.AgoraRTCErrorCode.OPERATION_ABORT))];u.label=2;case 2:return u.trys.push([2,7,,11]),[4,e()];case 3:return a=u.sent(),r(a,i)?i+1===s.maxRetryCount?[2,t(a)]:[4,d()]:[3,5];case 4:return u.sent(),[3,6];case 5:return[2,t(a)];case 6:return[3,11];case 7:return c=u.sent(),o(c,i)?i+1===s.maxRetryCount?[2,n(c)]:[4,d()]:[3,9];case 8:return u.sent(),[3,10];case 9:return[2,n(c)];case 10:return[3,11];case 11:return i+=1,[3,1];case 12:return[2]}})})});return p.cancel=function(){return g=!0},p}function a(e,t){return{addressList:e.servers.map(function(e,r){return"wss://"+e.address.replace(/\./g,"-")+".edge."+(r%2==0?"agora.io":"agoraio.cn")+":"+e.wss+"?serviceName="+encodeURIComponent(t)}),workerToken:e.workerToken,vid:e.vid}}function s(e,r,n,s,d){var p=this;void 0===d&&(d=t.DEFAULT_RETRY_CONFIG),v+=1;var y,E,_={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:v,requestId:v,version:g.VERSION,cname:n.cname},S={service_name:r,json_body:JSON.stringify(_)},b=e[0];return i(function(){return u(p,void 0,void 0,function(){var e,t,n,i,u;return l(this,function(l){switch(l.label){case 0:return y=Date.now(),[4,o(b,{data:S,cancelToken:s,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}})];case 1:if(e=l.sent(),E=Date.now()-y,0!==e.code)throw n=new f.AgoraRTCError(f.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0}),h.default.error(n.toString()),n;if(200!==(t=JSON.parse(e.json_body)).code)throw n=new f.AgoraRTCError(f.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center error, code: "+t.code+", reason: "+t.reason),h.default.error(n.toString()),n;if(!t.servers||0===t.servers.length)throw n=new f.AgoraRTCError(f.AgoraRTCErrorCode.UNEXPECTED_RESPONSE,"live streaming app center empty server"),h.default.error(n.toString()),n;if(i=a(t,r),g.getParameter("LIVE_STREAMING_ADDRESS"))try{u=JSON.parse(g.getParameter("LIVE_STREAMING_ADDRESS")),i.addressList=u}catch(e){i.addressList=[g.getParameter("LIVE_STREAMING_ADDRESS")]}return[2,c(c({},i),{responseTime:E})]}})})},function(t,o){return m.report.requestApWorkerEvent(n.sid,{success:!0,sc:200,serviceName:r,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===o,responseTime:E,serverIp:e[o%e.length]}),!1},function(t,o){return m.report.requestApWorkerEvent(n.sid,{success:!1,sc:t.data&&t.data.code||200,serviceName:r,responseTime:E,serverIp:e[o%e.length]}),!!(t.code!==f.AgoraRTCErrorCode.OPERATION_ABORT&&t.code!==f.AgoraRTCErrorCode.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(b=e[(o+1)%e.length],!0)},d)}var c=this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},l=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var g=r(3),p=d(r(35)),f=r(23),h=d(r(0)),m=r(1);t.wait=n,t.post=o,t.DEFAULT_RETRY_CONFIG={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4},t.getRetryWaitTime=function(e,t){var r=t.timeout*Math.pow(t.timeoutFactor,e);return Math.min(t.maxRetryTimeout,r)},t.retryable=i,t.liveStreamingServerResponseToResult=a;var v=1;t.requestLiveStreamingWorkerManager=s,t.getLiveStreamingWorkerMangerResult=function(e,t,r){return u(this,void 0,void 0,function(){var n,o;return l(this,function(i){switch(i.label){case 0:n=g.getParameter("UAP_AP").map(function(e){return t.proxyServer?"https://"+t.proxyServer+"/ap/?url="+e+"/api/v1?action=uap":"https://"+e+"/api/v1?action=uap"}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,s(n,e,t,r)];case 2:return[2,i.sent()];case 3:throw o=i.sent(),m.report.requestApWorkerEvent(t.sid,{success:!1,sc:o.data&&o.data.code||200,serviceName:e,responseTime:o.data&&o.data.responseTime}),o;case 4:return[2]}})})}},function(e,t,r){var n=r(69),o=r(70),i=r(32),a=r(71);e.exports=function(e){return n(e)||o(e)||i(e)||a()}},function(e,t,r){var n=r(33);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";function n(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=null,s=null;if(e.emit.apply(e,o([t],r,[function(e){a=e},function(e){s=e}])),null!==s)throw s;if(null===a)throw new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"handler is not sync");return a}var o=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(23),a=function(){function e(){this._events={},this.addListener=this.on}return e.prototype.getListeners=function(e){return this._events[e]?this._events[e].map(function(e){return e.listener}):[]},e.prototype.on=function(e,t){this._events[e]||(this._events[e]=[]);var r=this._events[e];-1===this._indexOfListener(r,t)&&r.push({listener:t,once:!1})},e.prototype.once=function(e,t){this._events[e]||(this._events[e]=[]);var r=this._events[e];-1===this._indexOfListener(r,t)&&r.push({listener:t,once:!0})},e.prototype.off=function(e,t){if(this._events[e]){var r=this._events[e],n=this._indexOfListener(r,t);-1!==n&&r.splice(n,1),0===this._events[e].length&&delete this._events[e]}},e.prototype.removeAllListeners=function(e){e?delete this._events[e]:this._events={}},e.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._events[e]||(this._events[e]=[]);for(var n=this._events[e].map(function(e){return e}),o=0;o<n.length;o+=1){var i=n[o];i.once&&this.off(e,i.listener),i.listener.apply(this,t||[])}},e.prototype._indexOfListener=function(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1},e}();t.EventEmitter=a,t.emitAsPromise=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return 0===e.getListeners(t).length?Promise.reject(new i.AgoraRTCError(i.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not emit promise")):new Promise(function(n,i){e.emit.apply(e,o([t],r,[n,i]))})},t.emitAsInvokerNoResponse=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return 0===e.getListeners(t).length?null:n.apply(void 0,o([e,t],r))},t.emitAsInvoker=n},function(e,t,r){e.exports=r(75)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=r(18);e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))}))}),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";(function(t){function n(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,i=r(18),a=r(81),s={"Content-Type":"application/x-www-form-urlencoded"},c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(o=r(40)),o),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(e){c.headers[e]={}}),i.forEach(["post","put","patch"],function(e){c.headers[e]=i.merge(s)}),e.exports=c}).call(this,r(80))},function(e,t,r){"use strict";var n=r(18),o=r(82),i=r(37),a=r(84),s=r(87),c=r(88),u=r(41);e.exports=function(e){return new Promise(function(t,l){var d=e.data,g=e.headers;n.isFormData(d)&&delete g["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",h=e.auth.password||"";g.Authorization="Basic "+btoa(f+":"+h)}var m=a(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),i(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,l,n),p=null}},p.onabort=function(){p&&(l(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(u(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var v=r(89),y=(e.withCredentials||c(m))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(g[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&n.forEach(g,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete g[t]:p.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===d&&(d=null),p.send(d)})}},function(e,t,r){"use strict";var n=r(83);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,function(e){void 0!==t[e]&&(r[e]=t[e])}),n.forEach(i,function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])}),n.forEach(a,function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])});var s=o.concat(i).concat(a),c=Object.keys(t).filter(function(e){return-1===s.indexOf(e)});return n.forEach(c,function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(57)),c=a(r(61)),u=a(r(62)),l=i(r(0)),d=r(3),g=s.default.Root.fromJSON(u),p=function(){function e(){this.requestArray=[],this.retryBackoffCount=0,this.state=0}return e.prototype.setProxy=function(e){this.proxyServer=e},e.prototype.sendReportList=function(e){var t=this,r=this._dataConvert("ProtoRaws",{sendTs:Math.round(Date.now()/1e3),payloads:e.map(function(e){return{id:c[e.type],msg:t._dataConvert(e.type,e.data)}})});this.send(r)},e.prototype._dataConvert=function(e,t){var r;try{r=g.lookupType("protobuf."+e)}catch(t){l.default.error("[send-proto] invalid proto name "+e)}var n=r.create(t);return r.encode(n).finish()},e.prototype.send=function(e){0==this.state?this._send(e):this.requestArray.push(e)},e.prototype._send=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),this.state=1,[4,this.request(e)];case 1:return t.sent(),this.retryBackoffCount=0,0!==this.requestArray.length?this._send(this.requestArray.shift()):this.state=0,[3,4];case 2:return t.sent(),[4,f(this.retryBackoffCount++<2?200:1e4)];case 3:return t.sent(),this._send(e),[3,4];case 4:return[2]}})})},e.prototype.request=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:t=this._getAddress(),r=this._getBackupAddress(),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,this._request(t,e)];case 2:return n.sent(),[3,5];case 3:return n.sent(),[4,this._request(r,e)];case 4:return n.sent(),[3,5];case 5:return[2]}})})},e.prototype._request=function(e,t){return this._post(e,t)},e.prototype._post=function(e,t){var r=this;return new Promise(function(n,o){var i=new XMLHttpRequest;i.timeout=d.getParameter("HTTP_CONNECT_TIMEOUT"),i.open("POST",e,!0),i.setRequestHeader("Content-type","application/octet-stream"),r.proxyServer||(i.setRequestHeader("Cache-Control","no-cache, no-store"),i.setRequestHeader("Pragma","no-cache"),i.setRequestHeader("Expires","0")),i.onload=function(e){n(i.responseText)},i.onerror=function(e){o(e)},i.ontimeout=function(e){o(e)},i.send(t)})},e.prototype._getAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+d.getParameter("EVENT_REPORT_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+d.getParameter("EVENT_REPORT_DOMAIN")+":6443/events/proto-raws"},e.prototype._getBackupAddress=function(){return this.proxyServer?"https://"+this.proxyServer+"/rs/?h="+d.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+"&p=6443&d=events/proto-raws":"https://"+d.getParameter("EVENT_REPORT_BACKUP_DOMAIN")+":6443/events/proto-raws"},e}();t.default=p;var f=function(e){return new Promise(function(t){window.setTimeout(t,e)})}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=i(r(0)),c=r(15);!function(e){e.NEW="new",e.PREPARING_OFFER="preparing-offer",e.OFFER_SENT="offer-sent",e.ESTABLISHED="established",e.CLOSED="closed"}(a||(a={}));var u=function(){function e(e){this.candidate=null,this.state=a.NEW,this.config=e,this.isSubscriber=this.config.isSubscriber,this.peerConnection=this.initPeecConnection(e),this.peerConnection.onicecandidate=this._onicecandidate.bind(this),this.peerConnection.oniceconnectionstatechange=this._oniceconnectionstatechange.bind(this),this.peerConnection.onaddstream=this._onaddstream.bind(this),this.peerConnection.ontrack=this._ontrack.bind(this),this.processSignalingMessage=this.setAnswer.bind(this),this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.setLocalSDP.bind(this)),this.sendVideoStats={id:"",type:"",mediaType:"",googCodecName:"h264"===this.config.codec?"H264":"VP8",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},this.sendAudioStats={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},this.receiveAudioStats={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},this.receiveVideoStats={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"}}return e.prototype.addStream=function(e){this.peerConnection.addStream(e)},e.prototype.setRtpSenderParameters=function(e){return n(this,void 0,void 0,function(){return o(this,function(e){return[2]})})},e.prototype.setAnswer=function(e){var t=JSON.parse(e);this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:t.sdp,type:"answer"})),this.onsignalingmessage&&this.onsignalingmessage("")},e.prototype.close=function(){this.peerConnection.close()},e.prototype.getStats=function(e,t){if(void 0===t&&(t=500),t=t>500?500:t,Date.now()-this.lastTimeGetStats<t){var r=[];this.config.isSubscriber?(r.push(this.receiveVideoStats),r.push(this.receiveAudioStats)):(r.push(this.sendAudioStats),r.push(this.sendVideoStats)),r.push({id:"time",startTime:this.connectedTime,timestamp:Date.now()}),e&&e(r)}else this._getStats(e)},e.prototype._getStats=function(e){var t=this,r=[];this.peerConnection.getStats(null).then(function(n){t.lastTimeGetStats=Date.now(),Object.keys(n).map(function(e){var r=n[e];t.config.isSubscriber?r.type&&"inboundrtp"===r.type&&r.mediaType&&"audio"===r.mediaType?(t.receiveAudioStats.id=r.id+"recv",t.receiveAudioStats.type=r.type+"",t.receiveAudioStats.mediaType=r.mediaType+"",t.receiveAudioStats.packetsReceived=r.packetsReceived+"",t.receiveAudioStats.bytesReceived=r.bytesReceived+"",t.receiveAudioStats.packetsLost=r.packetsLost+"",t.receiveAudioStats.googJitterReceived=r.jitter+""):r.type&&"inboundrtp"===r.type&&r.mediaType&&"video"===r.mediaType?(t.receiveVideoStats.id=r.id+"recv",t.receiveVideoStats.type=r.type+"",t.receiveVideoStats.mediaType=r.mediaType+"",t.receiveVideoStats.packetsReceived=r.packetsReceived+"",t.receiveVideoStats.bytesReceived=r.bytesReceived+"",t.receiveVideoStats.packetsLost=r.packetsLost+"",t.receiveVideoStats.googJitterBufferMs=r.jitter+"",t.receiveVideoStats.googPlisSent=r.pliCount+"",t.receiveVideoStats.googFirsSent=r.firCount+"",t.receiveVideoStats.googNacksSent=r.nackCount+""):r.remoteSource&&r.type&&"track"===r.type&&r.trackIdentifier&&-1!==r.trackIdentifier.indexOf("v")?(t.receiveVideoStats.googFrameHeightReceived=r.frameHeight+"",t.receiveVideoStats.googFrameWidthReceived=r.frameWidth+"",t.receiveVideoStats.googFrameRateDecoded=r.framesPerSecond+"",t.receiveVideoStats.googFrameRateOutput=r.framesPerSecond+"",t.receiveVideoStats.googFrameRateReceived=r.framesPerSecond+"",t.receiveVideoStats.googFramesDecoded=r.framesDecoded+"",t.receiveVideoStats.googFrameReceived=r.framesReceived+""):r.remoteSource&&r.type&&"track"===r.type&&r.trackIdentifier&&-1!==r.trackIdentifier.indexOf("a")&&(t.receiveAudioStats.audioOutputLevel=r.audioLevel+""):!r.isRemote&&r.type&&"outboundrtp"===r.type&&r.mediaType&&"audio"===r.mediaType?(t.sendAudioStats.id=r.id+"send",t.sendAudioStats.type=r.type+"",t.sendAudioStats.mediaType=r.mediaType+"",t.sendAudioStats.packetsSent=r.packetsSent+"",t.sendAudioStats.bytesSent=r.bytesSent+""):!r.isRemote&&r.type&&"outboundrtp"===r.type&&r.mediaType&&"video"===r.mediaType?(t.sendVideoStats.id=r.id+"send",t.sendVideoStats.type=r.type+"",t.sendVideoStats.mediaType=r.mediaType+"",t.sendVideoStats.packetsSent=r.packetsSent+"",t.sendVideoStats.bytesSent=r.bytesSent+"",t.sendVideoStats.googRtt=r.roundTripTime+"",t.sendVideoStats.googPlisReceived=r.pliCount+"",t.sendVideoStats.googFirsReceived=r.firCount+"",t.sendVideoStats.googNacksReceived=r.nackCount+""):!r.remoteSource&&r.type&&"track"===r.type&&r.framesSent&&0!==r.framesSent&&(t.sendVideoStats.googFrameHeightSent=r.frameHeight+"",t.sendVideoStats.googFrameHeightInput=r.frameHeight+"",t.sendVideoStats.googFrameWidthSent=r.frameWidth+"",t.sendVideoStats.googFrameWidthInput=r.frameWidth+"",t.sendVideoStats.googFramesEncoded=r.framesSent+"",t.sendVideoStats.googFrameRateSent=r.framesPerSecond+"")}),t.config.isSubscriber?(r.push(t.receiveVideoStats),r.push(t.receiveAudioStats)):(r.push(t.sendAudioStats),r.push(t.sendVideoStats)),r.push({id:"time",startTime:t.connectedTime,timestamp:Date.now()}),e&&e(r)})},e.prototype.getStatsRate=function(e){this.getStats(e)},e.prototype.initPeecConnection=function(e){var t=e.stunServerUrl,r=e.turnServer,n=e.iceServers;return this.pcConfig={iceServers:[{urls:"stun:webcs.agora.io:3478"}]},n instanceof Array?this.pcConfig.iceServers=e.iceServers:t&&(t instanceof Array?t.map(function(e){"string"==typeof e&&""!==e&&this.pcConfig.iceServers.push({urls:e})}):"string"==typeof t&&""!==t&&this.pcConfig.iceServers.push({urls:t})),r&&(r instanceof Array?r.map(function(e){"string"==typeof e.url&&""!==e.url&&this.pcConfig.iceServers.push({username:e.username,credential:e.credential,url:e.url})}):"auto"!==r.mode&&"manual"!==r.mode||(r.udpport&&this.pcConfig.iceServers.push({username:r.username,credential:r.credential,credentialType:"password",urls:"turn:"+r.url+":"+r.udpport+"?transport=udp"}),"string"==typeof r.tcpport&&""!==r.tcpport&&this.pcConfig.iceServers.push({username:r.username,credential:r.credential,credentialType:"password",urls:"turn:"+r.url+":"+r.tcpport+"?transport=tcp"}),!0===r.forceturn&&(this.pcConfig.iceTransportPolicy="relay"))),new c.RTCPeerConnection(this.pcConfig)},e.prototype._ontrack=function(e){this.onaddstream&&this.onaddstream(e,"ontrack")},e.prototype._onaddstream=function(e){this.onaddstream&&this.onaddstream(e,"onaddstream")},e.prototype._oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(this.state=a.ESTABLISHED,this.connectedTime=Date.now()),this.oniceconnectionstatechange&&this.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},e.prototype._onicecandidate=function(e){!this.candidate&&e&&(this.candidate=e.candidate,this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(this.editLocalSDP.bind(this)).then(this.setLocalSDP.bind(this)).then(this.sendOffer.bind(this)).catch())},e.prototype.setLocalSDP=function(e){return this.peerConnection.setLocalDescription(new RTCSessionDescription({sdp:e.sdp,type:"offer"})),this.state=a.PREPARING_OFFER,e},e.prototype.editLocalSDP=function(e){return e.sdp=this.setBandWidth(e.sdp),e.sdp=this.reviseOpus(e.sdp),e.sdp=this.addCandidate(e.sdp),e},e.prototype.setSendRecv=function(e){return e=(e=(e=e.replace(/a=recvonly\r\n/g,"a=sendrecv\r\n")).replace(/a=sendonly\r\n/g,"a=sendrecv\r\n")).replace(/a=inactive\r\n/g,"a=sendrecv\r\n")},e.prototype.setBandWidth=function(e){var t,r,n=this.config,o=n.codec,i=n.minVideoBW,a=n.maxVideoBW,c=n.maxAudioBW,u=n.clientId;if((t=e.match(/m=video.*\r\n/))&&i&&a){r=t[0]+"b=AS:"+a+"\r\n";var l=0,d=0;"h264"===o?(l=e.search(/a=rtpmap:(\d+) H264\/90000\r\n/),d=e.search(/H264\/90000\r\n/)):"vp8"===o&&(l=e.search(/a=rtpmap:(\d+) VP8\/90000\r\n/),d=e.search(/VP8\/90000\r\n/)),-1!==l&&-1!==d&&d-l>10&&(r=r+"a=fmtp:"+e.slice(l+9,d-1)+" x-google-min-bitrate="+i+"\r\n"),e=e.replace(t[0],r),s.default.debug("["+u+"]Set Video Bitrate - min:"+i+" max:"+a)}return(t=e.match(/m=audio.*\r\n/))&&c&&(r=t[0]+"b=AS:"+c+"\r\n",e=e.replace(t[0],r)),e},e.prototype.reviseOpus=function(e){return e=(e=e.replace(/a=rtpmap:102 opus\/48000\/2/g,"a=rtpmap:111 opus/48000/2")).replace(/m=audio 9 UDP\/TLS\/RTP\/SAVPF 102 0 8 97 13 118 101/g,"m=audio 9 UDP/TLS/RTP/SAVPF 111 0 8 97 13 118 101")},e.prototype.addCandidate=function(e){return e+="a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"},e.prototype.sendOffer=function(e){this.config.callback(JSON.stringify({sdp:e.sdp,messageType:"OFFER",tiebreaker:Math.floor(429496723*Math.random()+1)})),this.state=a.OFFER_SENT},e}();t.default=u},function(e,t,r){var n=r(64),o=r(65),i=r(32),a=r(66);e.exports=function(e,t){return n(e)||o(e,t)||i(e,t)||a()}},function(e,t,r){var n,o,i;o=this,i=function(){"use strict";function e(e){o.console&&(o.console.error?o.console.error(e):o.console.log&&o.console.log(e))}function t(t,r,n,o){var i=o||e,a=t.createShader(n);return t.shaderSource(a,r),t.compileShader(a),t.getShaderParameter(a,t.COMPILE_STATUS)?a:(i("*** Error compiling shader '"+a+"':"+t.getShaderInfoLog(a)),t.deleteShader(a),null)}function r(t,r,n,o,i){var a=i||e,s=t.createProgram();return r.forEach(function(e){t.attachShader(s,e)}),n&&n.forEach(function(e,r){t.bindAttribLocation(s,o?o[r]:r,e)}),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)?s:(a("Error in program linking:"+t.getProgramInfoLog(s)),t.deleteProgram(s),null)}var n,o=this;(n=n||o)===n.top&&(console.log("%c%s","color:blue;font-weight:bold;","for more about webgl-utils.js see:"),console.log("%c%s","color:blue;font-weight:bold;","http://webglfundamentals.org/webgl/lessons/webgl-boilerplate.html"));var i,a=["VERTEX_SHADER","FRAGMENT_SHADER"];return!document.documentMode&&!!window.StyleMedia&&(HTMLCanvasElement.prototype.getContext=(i=HTMLCanvasElement.prototype.getContext,function(){var e=arguments;return"webgl"===e[0]&&((e=[].slice.call(arguments))[0]="experimental-webgl"),i.apply(this,e)})),{createProgram:r,createProgramFromSources:function(e,n,o,i,s){for(var c=[],u=0;u<n.length;++u)c.push(t(e,n[u],e[a[u]],s));return r(e,c,o,i,s)}}},void 0===(n=function(){return i.call(o)}.apply(t,[]))||(e.exports=n)},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(67),s=r(4),c=i(r(0));t.getSupportedCodec=function(e){return n(void 0,void 0,void 0,function(){var t,r,n,i,l;return o(this,function(o){switch(o.label){case 0:return t={video:[],audio:[]},"undefined"!=typeof window?[3,1]:(c.default.error("getSupportedCodec: NOT_BROWSER_ENV"),[2,Promise.reject("NOT_BROWSER_ENV")]);case 1:try{r=a.createRTCPeerConnection({iceServers:[]})}catch(e){return c.default.error("Failed to init RTCPeerConnection",e),[2,Promise.reject(e)]}return r?[3,2]:(c.default.warning("getSupportedCodec: no RTCPeerConnection constructor is detected"),[2,Promise.resolve(t)]);case 2:return e&&e.stream?[3,7]:(n={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},i=void 0,(s.isSafari()||s.isFireFox()||s.isWeChatBrowser())&&r.addTransceiver?(r.addTransceiver("audio"),r.addTransceiver("video"),[4,r.createOffer()]):[3,4]);case 3:return i=o.sent(),[3,6];case 4:return[4,new Promise(function(e,t){var o=setTimeout(function(){t("CREATEOFFER_TIMEOUT")},3e3);r.createOffer(function(t){clearTimeout(o),e(t)},function(e){clearTimeout(o),t(e)},n)})];case 5:i=o.sent(),o.label=6;case 6:return r.close(),l=i.sdp,[2,u(l)];case 7:return e.stream.getTracks&&r.addTrack?e.stream.getTracks().forEach(function(t){r.addTrack(t,e.stream)}):r.addStream(e.stream),i=void 0,s.isSafari()||s.isFireFox()?[4,r.createOffer()]:[3,9];case 8:return i=o.sent(),[3,11];case 9:return[4,new Promise(function(e,t){r.createOffer(e,t)})];case 10:i=o.sent(),o.label=11;case 11:return r.close(),l=i.sdp,[2,u(l)]}})})};var u=function(e){var t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ opus/i)&&t.audio.push("OPUS"),Promise.resolve(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAES=function(e,t){for(var r,n,o,i,a,s=e.length,c=(r=e,(new TextEncoder).encode(r)),u=function(e,t){if(0===t)return e;var r=new e.constructor(e.length+t),n=new e.constructor(t);return r.set(e,0),r.set(n,e.length),r}(c,(4-c.length%4)%4),l=(n=[s],o=new Uint32Array(u.buffer),i=Uint32Array,(a=new i(n.length+o.length)).set(n,0),a.set(o,n.length),a),d=0;d<l.length;d++)l[d]=l[d]^t,l[d]=~l[d];return function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return window.btoa(t)}(new Uint8Array(l.buffer))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(r(0)),s=r(72),c=r(23),u=r(1),l=r(26);t.addLiveStreamingCapability=function(e,t){var r=this,i=function(t){var r=t.type;if(!e.joinInfo)return new c.AgoraRTCError(c.AgoraRTCErrorCode.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();switch(r){case l.LiveStreamingServiceMode.INJECT:return e._injectStreamingClient||(e._injectStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._injectStreamingClient.onInjectStatusChange=function(t,r,n){e.gatewayClient.dispatchEvent({type:"streamInjectedStatus",url:n,status:t})}),e._injectStreamingClient;case l.LiveStreamingServiceMode.RAW:return e._liveRawStreamingClient||(e._liveRawStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveRawStreamingClient.onLiveStreamError=function(t,r){a.default.error("LIVE_STREAMING_ERROR",r.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:r.code})},e._liveRawStreamingClient.onLiveStreamWarning=function(t,r){a.default.warning("LIVE_STREAMING_WARNING",r.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:r.code})}),e._liveRawStreamingClient;case l.LiveStreamingServiceMode.TRANSCODE:return e._liveTranscodeStreamingClient||(e._liveTranscodeStreamingClient=new s.AgoraRTCLiveStreamingClient(e.joinInfo),e._liveTranscodeStreamingClient.setGatewayConnectionState(e.getConnectionState()),e.on("connection-state-change",function(t){e._liveTranscodeStreamingClient.setGatewayConnectionState(t.curState)}),e._liveTranscodeStreamingClient.onLiveStreamError=function(t,r){a.default.error("LIVE_STREAMING_ERROR",r.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:t,reason:r.code})},e._liveTranscodeStreamingClient.onLiveStreamWarning=function(t,r){a.default.warning("LIVE_STREAMING_WARNING",r.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingWarning",url:t,reason:r})}),e._liveTranscodeStreamingClient}};e.gatewayClient.addEventListener("join",function(t){e._injectStreamingClient&&e._injectStreamingClient.resetAllTask()}),e.gatewayClient.addEventListener("stream-unpublished",function(t){t.options&&0===t.options.streamType&&(e._liveRawStreamingClient&&e._liveRawStreamingClient.resetAllTask(),e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.resetAllTask())}),e.gatewayClient.addEventListener("stream-published",function(e){}),e.startLiveStreaming=function(r,n){a.default.debug("startLiveStreaming");var o=u.report.reportApiInvoke(t.sessionId,{name:"Client.startLiveStreaming",options:arguments,tag:"tracer"});if(e.gatewayClient&&"audience"===e.gatewayClient.role){var i={code:403,reason:"AUDIENCE_STREAMING_FORBIDDEN"};throw o(i),i}var s=e._startLiveStreaming(r,n);return s.then(function(e){o(null,e)}).catch(function(t){a.default.error("LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",url:r,reason:t.code}),o(t)}),s},e._startLiveStreaming=function(s,u){return n(r,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return u||("vp8"===t.codec&&a.default.warning("VP8 is not supported by raw_streaming. Subscriber side will suffer"),"rtc"===t.mode&&a.default.warning("RTC mode is not supported by raw_streaming. Subscriber side will suffer")),(e._liveRawStreamingClient&&e._liveRawStreamingClient.haveUrl(s)||e._liveTranscodeStreamingClient&&e._liveTranscodeStreamingClient.haveUrl(s))&&new c.AgoraRTCError(c.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw(),r=u?l.LiveStreamingServiceMode.TRANSCODE:l.LiveStreamingServiceMode.RAW,[4,i({type:r}).startLiveStreamingTask(s,r)];case 1:return n.sent(),e.gatewayClient.dispatchEvent({type:"liveStreamingStarted",url:s}),[2]}})})},e.setLiveTranscoding=function(r){a.default.debug("setLiveTranscoding: "+JSON.stringify(r));var n=u.report.reportApiInvoke(t.sessionId,{name:"Client.setLiveTranscoding",options:arguments,tag:"tracer"});return i({type:l.LiveStreamingServiceMode.TRANSCODE}).setTranscodingConfig(r).then(function(){e.gatewayClient.dispatchEvent({type:"liveTranscodingUpdated"}),n(null)}).catch(function(t){a.default.error("SET_LIVE_TRANSCODING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",reason:t.code}),n(t)})},e.stopLiveStreaming=function(r){var n=u.report.reportApiInvoke(t.sessionId,{name:"Client.stopLiveStreaming",options:arguments,tag:"tracer"}),o=e._stopLiveStreaming(r);return o.then(function(e){n(null,e)}).catch(function(t){a.default.error("STOP_LIVE_STREAMING_ERROR",t.toString()),e.gatewayClient.dispatchEvent({type:"liveStreamingFailed",reason:t.code}),n(t)}),o},e._stopLiveStreaming=function(t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return r=[e._liveRawStreamingClient,e._liveTranscodeStreamingClient],[4,Promise.all(r.map(function(e){return e&&e.haveUrl(t)&&e.stopLiveStreamingTask(t)}))];case 1:return n.sent(),e.gatewayClient.dispatchEvent({type:"liveStreamingStopped",url:t}),[2]}})})},e.addInjectStreamUrl=function(r,n){var o=u.report.reportApiInvoke(t.sessionId,{name:"Client.addInjectStreamUrl",options:[r,n],tag:"tracer"});if("audience"===e.gatewayClient.role){var i={code:403,reason:"AUDIENCE_INJECTING_FORBIDDEN"};throw o(i),i}var s=e._addInjectStreamUrl(r,n);return s.then(function(e){o(null,e)}).catch(function(e){a.default.error("ADD_INJECT_STREAM_ERROR",e.toString()),o(e)}),s},e._addInjectStreamUrl=function(e,t){return n(r,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return(r=i({type:l.LiveStreamingServiceMode.INJECT})).setInjectStreamConfig(t,0),[4,r.startLiveStreamingTask(e,l.LiveStreamingServiceMode.INJECT)];case 1:return n.sent(),[2]}})})},e.removeInjectStreamUrl=function(r){return n(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n=u.report.reportApiInvoke(t.sessionId,{name:"Client.removeInjectStreamUrl",options:[r],tag:"tracer"}),(i=e._removeInjectStreamUrl(r)).then(function(e){n(null,e)}).catch(function(e){a.default.error("REMOVE_INJECT_STREAM_ERROR",e.toString()),n(e)}),[2,i]})})},e._removeInjectStreamUrl=function(e){return n(r,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,i({type:l.LiveStreamingServiceMode.INJECT}).stopLiveStreamingTask(e)];case 1:return t.sent(),[2]}})})},e._terminateLiveStreaming=function(){return n(r,void 0,void 0,function(){return o(this,function(t){return[e._injectStreamingClient,e._liveRawStreamingClient,e._liveTranscodeStreamingClient].forEach(function(e){e&&e.terminate()}),[2]})})}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(5)),i=n(r(0)),a=r(10);t.default=function(e,t){void 0===t&&(t={width:160,height:120,framerate:15});var r=t.width,n=t.height,s=t.framerate,c=e.stream;if(!c)throw o.default.INVALID_LOCAL_STREAM;if(!c.getVideoTracks()[0])throw o.default.HIGH_STREAM_NOT_VIDEO_TRACE;var u=c.getVideoTracks()[0];i.default.debug("Start getLowStream");var l=document.createElement("video"),d=document.createElement("canvas");l.setAttribute("style","display:none"),l.setAttribute("muted",""),l.muted=!0,l.setAttribute("autoplay",""),l.autoplay=!0,l.setAttribute("playsinline",""),d.setAttribute("style","display:none"),d.setAttribute("width",r.toString()),d.setAttribute("height",n.toString());var g=d.getContext("2d");if(!g)throw new Error("not get canvas context");l.srcObject=c,document.body.append(l),document.body.append(d),l.play(),i.default.debug("Start render lowStream");var p=a.audioTimerLoop(function(){return function(){if(l.paused&&l.play(),l.videoHeight>2&&l.videoWidth>2){var t=l.videoWidth,r=l.videoHeight/t,n=d.width*r;Math.abs(n-d.height)>=2&&(i.default.debug("adjust low stream resolution",d.width+"x"+d.height+" -> "+d.width+"x"+n),d.height=n)}g.drawImage(l,0,0,d.width,d.height);var o=e.stream;if(o){var a=o.getVideoTracks()[0];u!==a&&(i.default.debug("adjust low stream track"),l.srcObject=o,u=a)}}()},s),f=d.captureStream(s),h=f.getVideoTracks()[0];return h.requestFrame&&h.requestFrame(),f.clean=function(){i.default.debug("Start clean lowStream"),p(),(l||l.parentNode||l.parentNode.removeChild)&&l.parentNode.removeChild(l),(d||d.parentNode||d.parentNode.removeChild)&&d.parentNode.removeChild(d),i.default.debug("Clean lowStream")},f}},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;/*!
 * protobuf.js v6.10.0 (c) 2016, daniel wirtz
 * compiled wed, 15 jul 2020 23:34:13 utc
 * licensed under the bsd-3-clause license
 * see: https://github.com/dcodeio/protobuf.js for details
 */
!function(undefined){"use strict";!function(e,t,r){var n=function r(n){var o=t[n];return o||e[n][0].call(o=t[n]={exports:{}},r,o,o.exports),o.exports}(r[0]);n.util.global.protobuf=n,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(60)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(n.util.Long=e,n.configure()),n}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=n)}({1:[function(e,t,r){t.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise(function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}})}},{}],2:[function(e,t,r){var n=r;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,i=null,a=[],s=0,c=0;t<r;){var u=e[t++];switch(c){case 0:a[s++]=o[u>>2],n=(3&u)<<4,c=1;break;case 1:a[s++]=o[n|u>>4],n=(15&u)<<2,c=2;break;case 2:a[s++]=o[n|u>>6],a[s++]=o[63&u],c=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=o[n],a[s++]=61,1===c&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))},n.decode=function(e,t,r){for(var n,o=r,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&a>1)break;if((c=i[c])===undefined)throw Error("invalid encoding");switch(a){case 0:n=c,a=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:t[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,r){function n(e,t){function r(e){if("string"!=typeof e){var t=o();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),c=new Array(a.length),u=0;u<a.length;)s[u]=a[u],c[u]=e[a[u++]];return s[u]=t,Function.apply(null,s).apply(null,c)}return Function(t)()}for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,function(e,t){var r=l[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"}),d!==l.length)throw Error("parameter count mismatch");return i.push(e),r}function o(r){return"function "+(r||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+i.join("\n  ")+"\n}"}"string"==typeof e&&(t=e,e=undefined);var i=[];return r.toString=o,r}t.exports=n,n.verbose=!1},{}],4:[function(e,t,r){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},{}],5:[function(e,t,r){function n(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,function(o,i){return o&&"undefined"!=typeof XMLHttpRequest?n.xhr(e,t,r):o?r(o):r(null,t.binary?i:i.toString("utf8"))}):n.xhr(e,t,r):o(n,this,e,t)}t.exports=n;var o=e(1),i=e(7)("fs");n.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4!==n.readyState)return undefined;if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},{1:1,7:7}],6:[function(e,t,r){function n(e){return"undefined"!=typeof Float32Array?function(){function t(e,t,r){i[0]=e,t[r]=a[0],t[r+1]=a[1],t[r+2]=a[2],t[r+3]=a[3]}function r(e,t,r){i[0]=e,t[r]=a[3],t[r+1]=a[2],t[r+2]=a[1],t[r+3]=a[0]}function n(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],i[0]}function o(e,t){return a[3]=e[t],a[2]=e[t+1],a[1]=e[t+2],a[0]=e[t+3],i[0]}var i=new Float32Array([-0]),a=new Uint8Array(i.buffer),s=128===a[3];e.writeFloatLE=s?t:r,e.writeFloatBE=s?r:t,e.readFloatLE=s?n:o,e.readFloatBE=s?o:n}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>3.4028234663852886e38)e((o<<31|2139095040)>>>0,r,n);else if(t<1.1754943508222875e-38)e((o<<31|Math.round(t/1.401298464324817e-45))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1.401298464324817e-45*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){function t(e,t,r){i[0]=e,t[r]=a[0],t[r+1]=a[1],t[r+2]=a[2],t[r+3]=a[3],t[r+4]=a[4],t[r+5]=a[5],t[r+6]=a[6],t[r+7]=a[7]}function r(e,t,r){i[0]=e,t[r]=a[7],t[r+1]=a[6],t[r+2]=a[5],t[r+3]=a[4],t[r+4]=a[3],t[r+5]=a[2],t[r+6]=a[1],t[r+7]=a[0]}function n(e,t){return a[0]=e[t],a[1]=e[t+1],a[2]=e[t+2],a[3]=e[t+3],a[4]=e[t+4],a[5]=e[t+5],a[6]=e[t+6],a[7]=e[t+7],i[0]}function o(e,t){return a[7]=e[t],a[6]=e[t+1],a[5]=e[t+2],a[4]=e[t+3],a[3]=e[t+4],a[2]=e[t+5],a[1]=e[t+6],a[0]=e[t+7],i[0]}var i=new Float64Array([-0]),a=new Uint8Array(i.buffer),s=128===a[7];e.writeDoubleLE=s?t:r,e.writeDoubleBE=s?r:t,e.readDoubleLE=s?n:o,e.readDoubleBE=s?o:n}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>1.7976931348623157e308)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<2.2250738585072014e-308)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=n*Math.pow(2,-c))>>>0,o,i+t),e((a<<31|c+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,c=a>>>20&2047,u=4294967296*(1048575&a)+i;return 2047===c?u?NaN:s*(1/0):0===c?5e-324*s*u:s*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,r){var n=r,o=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=o(e),n="";r&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=i(t)),o(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},{}],9:[function(e,t,r){t.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},{}],10:[function(e,t,r){var n=r;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},{}],11:[function(e,t,r){function n(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof a){e("switch(d%s){",n);for(var o=t.resolvedType.values,i=Object.keys(o),s=0;s<i.length;++s)t.repeated&&o[i[s]]===t.typeDefault&&e("default:"),e("case%j:",i[s])("case %i:",o[i[s]])("m%s=%j",n,o[i[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function o(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof a?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var o=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":o=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,o?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}var i=r,a=e(14),s=e(33);i.fromObject=function(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var o=0;o<t.length;++o){var i=t[o].resolve(),c=s.safeProp(i.name);i.map?(r("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",i.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),n(r,i,o,c+"[ks[i]]")("}")("}")):i.repeated?(r("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",i.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),n(r,i,o,c+"[i]")("}")("}")):(i.resolvedType instanceof a||r("if(d%s!=null){",c),n(r,i,o,c),i.resolvedType instanceof a||r("}"))}return r("return m")},i.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],i=[],c=[],u=0;u<t.length;++u)t[u].partOf||(t[u].resolve().repeated?n:t[u].map?i:c).push(t[u]);if(n.length){for(r("if(o.arrays||o.defaults){"),u=0;u<n.length;++u)r("d%s=[]",s.safeProp(n[u].name));r("}")}if(i.length){for(r("if(o.objects||o.defaults){"),u=0;u<i.length;++u)r("d%s={}",s.safeProp(i[u].name));r("}")}if(c.length){for(r("if(o.defaults){"),u=0;u<c.length;++u){var l=c[u],d=s.safeProp(l.name);if(l.resolvedType instanceof a)r("d%s=o.enums===String?%j:%j",d,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var g="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",d,g)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,l.typeDefault)}r("}")}var p=!1;for(u=0;u<t.length;++u){l=t[u];var f=e._fieldsArray.indexOf(l);d=s.safeProp(l.name),l.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),o(r,l,f,d+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),o(r,l,f,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,l.name),o(r,l,f,d),l.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},{14:14,33:33}],12:[function(e,t,r){function n(e){return"missing required '"+e.name+"'"}t.exports=function(e){var t=a.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),c=s.resolvedType instanceof o?"int32":s.type,u="m"+a.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",u)("%s={}",u)("var c2 = r.uint32()+r.pos"),i.defaults[s.keyType]!==undefined?t("k=%j",i.defaults[s.keyType]):t("k=null"),i.defaults[c]!==undefined?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),i.basic[c]===undefined?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),i.long[s.keyType]!==undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=value',u):t("%s[k]=value",u)):s.repeated?(t("if(!(%s&&%s.length))",u,u)("%s=[]",u),i.packed[c]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",u,c)("}else"),i.basic[c]===undefined?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",u,r):t("%s.push(r.%s())",u,c)):i.basic[c]===undefined?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",u,r):t("%s=r.%s()",u,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",n(l))}return t("return m")};var o=e(14),i=e(32),a=e(33)},{14:14,32:32,33:33}],13:[function(e,t,r){function n(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}t.exports=function(e){for(var t,r=a.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(a.compareFieldsById),c=0;c<s.length;++c){var u=s[c].resolve(),l=e._fieldsArray.indexOf(u),d=u.resolvedType instanceof o?"int32":u.type,g=i.basic[d];t="m"+a.safeProp(u.name),u.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,u.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(u.id<<3|2)>>>0,8|i.mapKey[u.keyType],u.keyType),g===undefined?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|g,d,t),r("}")("}")):u.repeated?(r("if(%s!=null&&%s.length){",t,t),u.packed&&i.packed[d]!==undefined?r("w.uint32(%i).fork()",(u.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),g===undefined?n(r,u,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(u.id<<3|g)>>>0,d,t)),r("}")):(u.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,u.name),g===undefined?n(r,u,l,t):r("w.uint32(%i).%s(%s)",(u.id<<3|g)>>>0,d,t))}return r("return w")};var o=e(14),i=e(32),a=e(33)},{14:14,32:32,33:33}],14:[function(e,t,r){function n(e,t,r,n,i){if(o.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=i||{},this.reserved=undefined,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}t.exports=n;var o=e(22);((n.prototype=Object.create(o.prototype)).constructor=n).className="Enum";var i=e(21),a=e(33);n.fromJSON=function(e,t){var r=new n(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},n.prototype.add=function(e,t,r){if(!a.isString(e))throw TypeError("name must be a string");if(!a.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},n.prototype.remove=function(e){if(!a.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},n.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},n.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},{21:21,22:22,33:33}],15:[function(e,t,r){function n(e,t,r,n,i,a,l){if(c.isObject(n)?(l=i,a=n,n=i=undefined):c.isObject(i)&&(l=a,a=i,i=undefined),o.call(this,e,a),!c.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!c.isString(r))throw TypeError("type must be a string");if(n!==undefined&&!u.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==undefined&&!c.isString(i))throw TypeError("extend must be a string");this.rule=n&&"optional"!==n?n:undefined,this.type=r,this.id=t,this.extend=i||undefined,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!c.Long&&s.long[r]!==undefined,this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}t.exports=n;var o=e(22);((n.prototype=Object.create(o.prototype)).constructor=n).className="Field";var i,a=e(14),s=e(32),c=e(33),u=/^required|optional|repeated$/;n.fromJSON=function(e,t){return new n(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(n.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),n.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),o.prototype.setOption.call(this,e,t,r)},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return c.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},n.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=s.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof a&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof a)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long)this.typeDefault=c.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;c.base64.test(this.typeDefault)?c.base64.decode(this.typeDefault,e=c.newBuffer(c.base64.length(this.typeDefault)),0):c.utf8.write(this.typeDefault,e=c.newBuffer(c.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=c.emptyObject:this.repeated?this.defaultValue=c.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),o.prototype.resolve.call(this)},n.d=function(e,t,r,o){return"function"==typeof t?t=c.decorateType(t).name:t&&"object"==typeof t&&(t=c.decorateEnum(t).name),function(i,a){c.decorateType(i.constructor).add(new n(a,e,t,r,{default:o}))}},n._configure=function(e){i=e}},{14:14,22:22,32:32,33:33}],16:[function(e,t,r){var n=t.exports=e(17);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=e(13),n.decoder=e(12),n.verifier=e(36),n.converter=e(11),n.ReflectionObject=e(22),n.Namespace=e(21),n.Root=e(26),n.Enum=e(14),n.Type=e(31),n.Field=e(15),n.OneOf=e(23),n.MapField=e(18),n.Service=e(30),n.Method=e(20),n.Message=e(19),n.wrappers=e(37),n.types=e(32),n.util=e(33),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},{11:11,12:12,13:13,14:14,15:15,17:17,18:18,19:19,20:20,21:21,22:22,23:23,26:26,30:30,31:31,32:32,33:33,36:36,37:37}],17:[function(e,t,r){function n(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}var o=r;o.build="minimal",o.Writer=e(38),o.BufferWriter=e(39),o.Reader=e(24),o.BufferReader=e(25),o.util=e(35),o.rpc=e(28),o.roots=e(27),o.configure=n,n()},{24:24,25:25,27:27,28:28,35:35,38:38,39:39}],18:[function(e,t,r){function n(e,t,r,n,i,s){if(o.call(this,e,t,n,undefined,undefined,i,s),!a.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}t.exports=n;var o=e(15);((n.prototype=Object.create(o.prototype)).constructor=n).className="MapField";var i=e(32),a=e(33);n.fromJSON=function(e,t){return new n(e,t.id,t.keyType,t.type,t.options,t.comment)},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},n.prototype.resolve=function(){if(this.resolved)return this;if(i.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return o.prototype.resolve.call(this)},n.d=function(e,t,r){return"function"==typeof r?r=a.decorateType(r).name:r&&"object"==typeof r&&(r=a.decorateEnum(r).name),function(o,i){a.decorateType(o.constructor).add(new n(i,e,t,r))}}},{15:15,32:32,33:33}],19:[function(e,t,r){function n(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}t.exports=n;var o=e(35);n.create=function(e){return this.$type.create(e)},n.encode=function(e,t){return this.$type.encode(e,t)},n.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},n.decode=function(e){return this.$type.decode(e)},n.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},n.verify=function(e){return this.$type.verify(e)},n.fromObject=function(e){return this.$type.fromObject(e)},n.toObject=function(e,t){return this.$type.toObject(e,t)},n.prototype.toJSON=function(){return this.$type.toObject(this,o.toJSONOptions)}},{35:35}],20:[function(e,t,r){function n(e,t,r,n,a,s,c,u){if(i.isObject(a)?(c=a,a=s=undefined):i.isObject(s)&&(c=s,s=undefined),t!==undefined&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(n))throw TypeError("responseType must be a string");o.call(this,e,c),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||undefined,this.responseType=n,this.responseStream=!!s||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u}t.exports=n;var o=e(22);((n.prototype=Object.create(o.prototype)).constructor=n).className="Method";var i=e(33);n.fromJSON=function(e,t){return new n(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},n.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),o.prototype.resolve.call(this))}},{22:22,33:33}],21:[function(e,t,r){function n(e,t){if(!e||!e.length)return undefined;for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}function o(e,t){a.call(this,e,t),this.nested=undefined,this._nestedArray=null}function i(e){return e._nestedArray=null,e}t.exports=o;var a=e(22);((o.prototype=Object.create(a.prototype)).constructor=o).className="Namespace";var s,c,u,l=e(15),d=e(33);o.fromJSON=function(e,t){return new o(e,t.options).addJSON(t.nested)},o.arrayToJSON=n,o.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},o.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(o.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=d.toArray(this.nested))}}),o.prototype.toJSON=function(e){return d.toObject(["options",this.options,"nested",n(this.nestedArray,e)])},o.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((t.fields!==undefined?s.fromJSON:t.values!==undefined?u.fromJSON:t.methods!==undefined?c.fromJSON:t.id!==undefined?l.fromJSON:o.fromJSON)(r[n],t));return this},o.prototype.get=function(e){return this.nested&&this.nested[e]||null},o.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof u)return this.nested[e].values;throw Error("no such enum: "+e)},o.prototype.add=function(e){if(!(e instanceof l&&e.extend!==undefined||e instanceof s||e instanceof u||e instanceof c||e instanceof o))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof o&&e instanceof o)||t instanceof s||t instanceof c)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),i(this)},o.prototype.remove=function(e){if(!(e instanceof a))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),i(this)},o.prototype.define=function(e,t){if(d.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof o))throw Error("path conflicts with non-namespace objects")}else r.add(r=new o(n))}return t&&r.addJSON(t),r},o.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof o?e[t++].resolveAll():e[t++].resolve();return this.resolve()},o.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),d.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof o&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof o&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},o.prototype.lookupType=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such type: "+e);return t},o.prototype.lookupEnum=function(e){var t=this.lookup(e,[u]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},o.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[s,u]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},o.prototype.lookupService=function(e){var t=this.lookup(e,[c]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},o._configure=function(e,t,r){s=e,c=t,u=r}},{15:15,22:22,33:33}],22:[function(e,t,r){function n(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}t.exports=n,n.className="ReflectionObject";var o,i=e(33);Object.defineProperties(n.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),n.prototype.toJSON=function(){throw Error()},n.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof o&&t._handleAdd(this)},n.prototype.onRemove=function(e){var t=e.root;t instanceof o&&t._handleRemove(this),this.parent=null,this.resolved=!1},n.prototype.resolve=function(){return this.resolved||this.root instanceof o&&(this.resolved=!0),this},n.prototype.getOption=function(e){return this.options?this.options[e]:undefined},n.prototype.setOption=function(e,t,r){return r&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},n.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var o=n.find(function(t){return Object.prototype.hasOwnProperty.call(t,e)});if(o){var a=o[e];i.setProperty(a,r,t)}else(o={})[e]=i.setProperty({},r,t),n.push(o)}else{var s={};s[e]=t,n.push(s)}return this},n.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},n.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},n._configure=function(e){o=e}},{33:33}],23:[function(e,t,r){function n(e,t,r,n){if(Array.isArray(t)||(r=t,t=undefined),i.call(this,e,r),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}function o(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}t.exports=n;var i=e(22);((n.prototype=Object.create(i.prototype)).constructor=n).className="OneOf";var a=e(15),s=e(33);n.fromJSON=function(e,t){return new n(e,t.oneof,t.options,t.comment)},n.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},n.prototype.add=function(e){if(!(e instanceof a))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,o(this),this},n.prototype.remove=function(e){if(!(e instanceof a))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},n.prototype.onAdd=function(e){i.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}o(this)},n.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);i.prototype.onRemove.call(this,e)},n.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){s.decorateType(t.constructor).add(new n(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},{15:15,22:22,33:33}],24:[function(e,t,r){function n(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function o(e){this.buf=e,this.pos=0,this.len=e.length}function i(){var e=new d(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw n(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw n(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function a(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw n(this,8);return new d(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}t.exports=o;var c,u,l=e(35),d=l.LongBits,g=l.utf8,p="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new o(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new o(e);throw Error("illegal buffer")},f=function(){return l.Buffer?function(e){return(o.create=function(e){return l.Buffer.isBuffer(e)?new c(e):p(e)})(e)}:p};o.create=f(),o.prototype._slice=l.Array.prototype.subarray||l.Array.prototype.slice,o.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,n(this,10);return u}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw n(this,4);return a(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw n(this,4);return 0|a(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw n(this,4);var e=l.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},o.prototype.double=function(){if(this.pos+8>this.len)throw n(this,4);var e=l.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},o.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw n(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},o.prototype.string=function(){var e=this.bytes();return g.read(e,0,e.length)},o.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw n(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw n(this)}while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},o._configure=function(e){c=e,o.create=f(),c._configure();var t=l.Long?"toLong":"toNumber";l.merge(o.prototype,{int64:function(){return i.call(this)[t](!1)},uint64:function(){return i.call(this)[t](!0)},sint64:function(){return i.call(this).zzDecode()[t](!1)},fixed64:function(){return s.call(this)[t](!0)},sfixed64:function(){return s.call(this)[t](!1)}})}},{35:35}],25:[function(e,t,r){function n(e){o.call(this,e)}t.exports=n;var o=e(24);(n.prototype=Object.create(o.prototype)).constructor=n;var i=e(35);n._configure=function(){i.Buffer&&(n.prototype._slice=i.Buffer.prototype.slice)},n.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},n._configure()},{24:24,35:35}],26:[function(e,t,r){function n(e){a.call(this,"",e),this.deferred=[],this.files=[]}function o(){}function i(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new l(t.fullName,t.id,t.type,t.rule,undefined,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}t.exports=n;var a=e(21);((n.prototype=Object.create(a.prototype)).constructor=n).className="Root";var s,c,u,l=e(15),d=e(14),g=e(23),p=e(33);n.fromJSON=function(e,t){return t||(t=new n),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},n.prototype.resolvePath=p.path.resolve,n.prototype.fetch=p.fetch,n.prototype.load=function e(t,r,n){function i(e,t){if(n){var r=n;if(n=null,g)throw e;r(e,t)}}function a(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in u)return r}return null}function s(e,t){try{if(p.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),p.isString(t)){c.filename=e;var n,o=c(t,d,r),s=0;if(o.imports)for(;s<o.imports.length;++s)(n=a(o.imports[s])||d.resolvePath(e,o.imports[s]))&&l(n);if(o.weakImports)for(s=0;s<o.weakImports.length;++s)(n=a(o.weakImports[s])||d.resolvePath(e,o.weakImports[s]))&&l(n,!0)}else d.setOptions(t.options).addJSON(t.nested)}catch(e){i(e)}g||f||i(null,d)}function l(e,t){if(!(d.files.indexOf(e)>-1))if(d.files.push(e),e in u)g?s(e,u[e]):(++f,setTimeout(function(){--f,s(e,u[e])}));else if(g){var r;try{r=p.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||i(e))}s(e,r)}else++f,d.fetch(e,function(r,o){--f,n&&(r?t?f||i(null,d):i(r):s(e,o))})}"function"==typeof r&&(n=r,r=undefined);var d=this;if(!n)return p.asPromise(e,d,t,r);var g=n===o,f=0;p.isString(t)&&(t=[t]);for(var h,m=0;m<t.length;++m)(h=d.resolvePath("",t[m]))&&l(h);return g?d:(f||i(null,d),undefined)},n.prototype.loadSync=function(e,t){if(!p.isNode)throw Error("not supported");return this.load(e,t,o)},n.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return a.prototype.resolveAll.call(this)};var f=/^[A-Z]/;n.prototype._handleAdd=function(e){if(e instanceof l)e.extend===undefined||e.extensionField||i(0,e)||this.deferred.push(e);else if(e instanceof d)f.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof g)){if(e instanceof s)for(var t=0;t<this.deferred.length;)i(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);f.test(e.name)&&(e.parent[e.name]=e)}},n.prototype._handleRemove=function(e){if(e instanceof l){if(e.extend!==undefined)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof d)f.test(e.name)&&delete e.parent[e.name];else if(e instanceof a){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);f.test(e.name)&&delete e.parent[e.name]}},n._configure=function(e,t,r){s=e,c=t,u=r}},{14:14,15:15,21:21,23:23,33:33}],27:[function(e,t,r){t.exports={}},{}],28:[function(e,t,r){r.Service=e(29)},{29:29}],29:[function(e,t,r){function n(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");o.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}t.exports=n;var o=e(35);(n.prototype=Object.create(o.EventEmitter.prototype)).constructor=n,n.prototype.rpcCall=function e(t,r,n,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return o.asPromise(e,s,t,r,n,i);if(!s.rpcImpl)return setTimeout(function(){a(Error("already ended"))},0),undefined;try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,r){if(e)return s.emit("error",e,t),a(e);if(null===r)return s.end(!0),undefined;if(!(r instanceof n))try{r=n[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)})}catch(e){return s.emit("error",e,t),setTimeout(function(){a(e)},0),undefined}},n.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{35:35}],30:[function(e,t,r){function n(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function o(e){return e._methodsArray=null,e}t.exports=n;var i=e(21);((n.prototype=Object.create(i.prototype)).constructor=n).className="Service";var a=e(20),s=e(33),c=e(28);n.fromJSON=function(e,t){var r=new n(e,t.options);if(t.methods)for(var o=Object.keys(t.methods),i=0;i<o.length;++i)r.add(a.fromJSON(o[i],t.methods[o[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},n.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return s.toObject(["options",t&&t.options||undefined,"methods",i.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",r?this.comment:undefined])},Object.defineProperty(n.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),n.prototype.get=function(e){return this.methods[e]||i.prototype.get.call(this,e)},n.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return i.prototype.resolve.call(this)},n.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof a?(this.methods[e.name]=e,e.parent=this,o(this)):i.prototype.add.call(this,e)},n.prototype.remove=function(e){if(e instanceof a){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,o(this)}return i.prototype.remove.call(this,e)},n.prototype.create=function(e,t,r){for(var n,o=new c.Service(e,t,r),i=0;i<this.methodsArray.length;++i){var a=s.lcFirst((n=this._methodsArray[i]).resolve().name).replace(/[^$\w_]/g,"");o[a]=s.codegen(["r","c"],s.isReserved(a)?a+"_":a)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},{20:20,21:21,28:28,33:33}],31:[function(e,t,r){function n(e,t){i.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function o(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}t.exports=n;var i=e(21);((n.prototype=Object.create(i.prototype)).constructor=n).className="Type";var a=e(14),s=e(23),c=e(15),u=e(18),l=e(30),d=e(19),g=e(24),p=e(38),f=e(33),h=e(13),m=e(12),v=e(36),y=e(11),E=e(37);Object.defineProperties(n.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=f.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=f.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=n.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof d||((e.prototype=new d).constructor=e,f.merge(e.prototype,t)),e.$type=e.prototype.$type=this,f.merge(e,d,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:f.oneOfGetter(this._oneofsArray[r].oneof),set:f.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),n.generateConstructor=function(e){for(var t,r=f.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",f.safeProp(t.name)):t.repeated&&r("this%s=[]",f.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},n.fromJSON=function(e,t){var r=new n(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var o=Object.keys(t.fields),d=0;d<o.length;++d)r.add((void 0!==t.fields[o[d]].keyType?u.fromJSON:c.fromJSON)(o[d],t.fields[o[d]]));if(t.oneofs)for(o=Object.keys(t.oneofs),d=0;d<o.length;++d)r.add(s.fromJSON(o[d],t.oneofs[o[d]]));if(t.nested)for(o=Object.keys(t.nested),d=0;d<o.length;++d){var g=t.nested[o[d]];r.add((g.id!==undefined?c.fromJSON:g.fields!==undefined?n.fromJSON:g.values!==undefined?a.fromJSON:g.methods!==undefined?l.fromJSON:i.fromJSON)(o[d],g))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},n.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return f.toObject(["options",t&&t.options||undefined,"oneofs",i.arrayToJSON(this.oneofsArray,e),"fields",i.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",r?this.comment:undefined])},n.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return i.prototype.resolveAll.call(this)},n.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},n.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof c&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),o(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),o(this)):i.prototype.add.call(this,e)},n.prototype.remove=function(e){if(e instanceof c&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),o(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),o(this)}return i.prototype.remove.call(this,e)},n.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},n.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)},n.prototype.create=function(e){return new this.ctor(e)},n.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:p,types:t,util:f}),this.decode=m(this)({Reader:g,types:t,util:f}),this.verify=v(this)({types:t,util:f}),this.fromObject=y.fromObject(this)({types:t,util:f}),this.toObject=y.toObject(this)({types:t,util:f});var n=E[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},n.prototype.encode=function(e,t){return this.setup().encode(e,t)},n.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},n.prototype.decode=function(e,t){return this.setup().decode(e,t)},n.prototype.decodeDelimited=function(e){return e instanceof g||(e=g.create(e)),this.decode(e,e.uint32())},n.prototype.verify=function(e){return this.setup().verify(e)},n.prototype.fromObject=function(e){return this.setup().fromObject(e)},n.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},n.d=function(e){return function(t){f.decorateType(t,e)}}},{11:11,12:12,13:13,14:14,15:15,18:18,19:19,21:21,23:23,24:24,30:30,33:33,36:36,37:37,38:38}],32:[function(e,t,r){function n(e,t){var r=0,n={};for(t|=0;r<e.length;)n[a[r+t]]=e[r++];return n}var o=r,i=e(33),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];o.basic=n([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),o.defaults=n([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),o.long=n([0,0,0,1,1],7),o.mapKey=n([0,0,0,5,5,0,0,0,1,1,0,2],2),o.packed=n([1,5,0,0,0,5,5,0,0,0,1,1,0])},{33:33}],33:[function(e,t,r){var n,o,i=t.exports=e(35),a=e(27);i.codegen=e(3),i.fetch=e(5),i.path=e(8),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];o!==undefined&&(t[n]=o)}return t};var s=/\\/g,c=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(c,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(u,function(e,t){return t.toUpperCase()})},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(t,r){if(t.$type)return r&&t.$type.name!==r&&(i.decorateRoot.remove(t.$type),t.$type.name=r,i.decorateRoot.add(t.$type)),t.$type;n||(n=e(31));var o=new n(r||t.name);return i.decorateRoot.add(o),o.ctor=t,Object.defineProperty(t,"$type",{value:o,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:o,enumerable:!1}),o};var l=0;i.decorateEnum=function(t){if(t.$type)return t.$type;o||(o=e(14));var r=new o("Enum"+l++,t);return i.decorateRoot.add(r),Object.defineProperty(t,"$type",{value:r,enumerable:!1}),r},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(e(26)))}})},{14:14,26:26,27:27,3:3,31:31,35:35,5:5,8:8}],34:[function(e,t,r){function n(e,t){this.lo=e>>>0,this.hi=t>>>0}t.exports=n;var o=e(35),i=n.zero=new n(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,o=(e-r)/4294967296>>>0;return t&&(o=~o>>>0,r=~r>>>0,++r>4294967295&&(r=0,++o>4294967295&&(o=0))),new n(r,o)},n.from=function(e){if("number"==typeof e)return n.fromNumber(e);if(o.isString(e)){if(!o.Long)return n.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new n(e.low>>>0,e.high>>>0):i},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},n.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;n.fromHash=function(e){return e===a?i:new n((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},{35:35}],35:[function(e,t,r){function n(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)e[n[o]]!==undefined&&r||(e[n[o]]=t[n[o]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}var i=r;i.asPromise=e(1),i.base64=e(2),i.EventEmitter=e(4),i.float=e(6),i.inquire=e(7),i.utf8=e(10),i.pool=e(9),i.LongBits=e(34),i.isNode=Boolean(void 0!==global&&global&&global.process&&global.process.versions&&global.process.versions.node),i.global=i.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},i.merge=n,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=o,i.ProtocolError=o("ProtocolError"),i.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&this[e[r]]!==undefined&&null!==this[e[r]])return e[r]}},i.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,34:34,4:4,6:6,7:7,9:9}],36:[function(e,t,r){function n(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof a){e("switch(%s){",o)("default:")("return%j",n(t,"enum value"));for(var i=Object.keys(t.resolvedType.values),s=0;s<i.length;++s)e("case %i:",t.resolvedType.values[i[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",n(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",n(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",n(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",n(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",n(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",n(t,"buffer"))}return e}function i(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",n(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",n(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",n(t,"boolean key"))}return e}t.exports=function(e){var t=s.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,a={};r.length&&t("var p={}");for(var c=0;c<e.fieldsArray.length;++c){var u=e._fieldsArray[c].resolve(),l="m"+s.safeProp(u.name);if(u.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,u.name),u.map)t("if(!util.isObject(%s))",l)("return%j",n(u,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),i(t,u,"k[i]"),o(t,u,c,l+"[k[i]]")("}");else if(u.repeated)t("if(!Array.isArray(%s))",l)("return%j",n(u,"array"))("for(var i=0;i<%s.length;++i){",l),o(t,u,c,l+"[i]")("}");else{if(u.partOf){var d=s.safeProp(u.partOf.name);1===a[u.partOf.name]&&t("if(p%s===1)",d)("return%j",u.partOf.name+": multiple values"),a[u.partOf.name]=1,t("p%s=1",d)}o(t,u,c,l)}u.optional&&t("}")}return t("return null")};var a=e(14),s=e(33)},{14:14,33:33}],37:[function(e,t,r){var n=r,o=e(19);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var a=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=n,a}return this.toObject(e,t)}}},{19:19}],38:[function(e,t,r){function n(e,t,r){this.fn=e,this.len=t,this.next=undefined,this.val=r}function o(){}function i(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function a(){this.len=0,this.head=new n(o,0,0),this.tail=this.head,this.states=null}function s(e,t,r){t[r]=255&e}function c(e,t){this.len=e,this.next=undefined,this.val=t}function u(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function l(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}t.exports=a;var d,g=e(35),p=g.LongBits,f=g.base64,h=g.utf8,m=function(){return g.Buffer?function(){return(a.create=function(){return new d})()}:function(){return new a}};a.create=m(),a.alloc=function(e){return new g.Array(e)},g.Array!==Array&&(a.alloc=g.pool(a.alloc,g.Array.prototype.subarray)),a.prototype._push=function(e,t,r){return this.tail=this.tail.next=new n(e,t,r),this.len+=t,this},c.prototype=Object.create(n.prototype),c.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},a.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new c((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},a.prototype.int32=function(e){return e<0?this._push(u,10,p.fromNumber(e)):this.uint32(e)},a.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},a.prototype.uint64=function(e){var t=p.from(e);return this._push(u,t.length(),t)},a.prototype.int64=a.prototype.uint64,a.prototype.sint64=function(e){var t=p.from(e).zzEncode();return this._push(u,t.length(),t)},a.prototype.bool=function(e){return this._push(s,1,e?1:0)},a.prototype.fixed32=function(e){return this._push(l,4,e>>>0)},a.prototype.sfixed32=a.prototype.fixed32,a.prototype.fixed64=function(e){var t=p.from(e);return this._push(l,4,t.lo)._push(l,4,t.hi)},a.prototype.sfixed64=a.prototype.fixed64,a.prototype.float=function(e){return this._push(g.float.writeFloatLE,4,e)},a.prototype.double=function(e){return this._push(g.float.writeDoubleLE,8,e)};var v=g.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};a.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(s,1,0);if(g.isString(e)){var r=a.alloc(t=f.length(e));f.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},a.prototype.string=function(e){var t=h.length(e);return t?this.uint32(t)._push(h.write,t,e):this._push(s,1,0)},a.prototype.fork=function(){return this.states=new i(this),this.head=this.tail=new n(o,0,0),this.len=0,this},a.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(o,0,0),this.len=0),this},a.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},a.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},a._configure=function(e){d=e,a.create=m(),d._configure()}},{35:35}],39:[function(e,t,r){function n(){i.call(this)}function o(e,t,r){e.length<40?a.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}t.exports=n;var i=e(38);(n.prototype=Object.create(i.prototype)).constructor=n;var a=e(35);n._configure=function(){n.alloc=a._Buffer_allocUnsafe,n.writeBytesBuffer=a.Buffer&&a.Buffer.prototype instanceof Uint8Array&&"set"===a.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},n.prototype.bytes=function(e){a.isString(e)&&(e=a._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(n.writeBytesBuffer,t,e),this},n.prototype.string=function(e){var t=a.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},n._configure()},{35:35,38:38}]},{},[16])}()}).call(this,__webpack_require__(58),__webpack_require__(59)(module))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}function o(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=d[e])?n:(r=a(e,(0|e)<0?-1:0,!0),o&&(d[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=l[e])?n:(r=a(e,e<0?-1:0,!1),o&&(l[e]=r),r)}function i(e,t){if(isNaN(e))return t?y:v;if(t){if(e<0)return y;if(e>=f)return T}else{if(e<=-h)return A;if(e+1>=h)return b}return e<0?i(-e,t).neg():a(e%p|0,e/p|0,t)}function a(e,t,n){return new r(e,t,n)}function s(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return s(e.substring(1),t,r).neg();for(var o=i(g(r,8)),a=v,c=0;c<e.length;c+=8){var u=Math.min(8,e.length-c),l=parseInt(e.substring(c,c+u),r);if(u<8){var d=i(g(r,u));a=a.mul(d).add(i(l))}else a=(a=a.mul(o)).add(i(l))}return a.unsigned=t,a}function c(e,t){return"number"==typeof e?i(e,t):"string"==typeof e?s(e,t):a(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}e.exports=r;var u=null;try{u=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var l={},d={};r.fromInt=o,r.fromNumber=i,r.fromBits=a;var g=Math.pow;r.fromString=s,r.fromValue=c;var p=4294967296,f=p*p,h=f/2,m=o(1<<24),v=o(0);r.ZERO=v;var y=o(0,!0);r.UZERO=y;var E=o(1);r.ONE=E;var _=o(1,!0);r.UONE=_;var S=o(-1);r.NEG_ONE=S;var b=a(-1,2147483647,!1);r.MAX_VALUE=b;var T=a(-1,-1,!0);r.MAX_UNSIGNED_VALUE=T;var A=a(0,-2147483648,!1);r.MIN_VALUE=A;var R=r.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},R.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(A)){var t=i(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=i(g(e,6),this.unsigned),a=this,s="";;){var c=a.div(o),u=(a.sub(c.mul(o)).toInt()>>>0).toString(e);if((a=c).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(A)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},R.isZero=function(){return 0===this.high&&0===this.low},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return 1==(1&this.low)},R.isEven=function(){return 0==(1&this.low)},R.equals=function(e){return n(e)||(e=c(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},R.eq=R.equals,R.notEquals=function(e){return!this.eq(e)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(e){return this.comp(e)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(e){return this.comp(e)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(e){return this.comp(e)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(e){return this.comp(e)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(e){if(n(e)||(e=c(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(A)?A:this.not().add(E)},R.neg=R.negate,R.add=function(e){n(e)||(e=c(e));var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,u=65535&e.high,l=e.low>>>16,d=0,g=0,p=0,f=0;return p+=(f+=i+(65535&e.low))>>>16,g+=(p+=o+l)>>>16,d+=(g+=r+u)>>>16,d+=t+s,a((p&=65535)<<16|(f&=65535),(d&=65535)<<16|(g&=65535),this.unsigned)},R.subtract=function(e){return n(e)||(e=c(e)),this.add(e.neg())},R.sub=R.subtract,R.multiply=function(e){if(this.isZero())return v;if(n(e)||(e=c(e)),u)return a(u.mul(this.low,this.high,e.low,e.high),u.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(A))return e.isOdd()?A:v;if(e.eq(A))return this.isOdd()?A:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,l=e.high>>>16,d=65535&e.high,g=e.low>>>16,p=65535&e.low,f=0,h=0,y=0,E=0;return y+=(E+=s*p)>>>16,h+=(y+=o*p)>>>16,y&=65535,h+=(y+=s*g)>>>16,f+=(h+=r*p)>>>16,h&=65535,f+=(h+=o*g)>>>16,h&=65535,f+=(h+=s*d)>>>16,f+=t*p+r*g+o*d+s*l,a((y&=65535)<<16|(E&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(e){if(n(e)||(e=c(e)),e.isZero())throw Error("division by zero");var t,r,o;if(u)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?a((this.unsigned?u.div_u:u.div_s)(this.low,this.high,e.low,e.high),u.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return _;o=y}else{if(this.eq(A))return e.eq(E)||e.eq(S)?A:e.eq(A)?E:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?E:S:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(A))return this.unsigned?y:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),l=s<=48?1:g(2,s-48),d=i(t),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=i(t-=l,this.unsigned)).mul(e);d.isZero()&&(d=E),o=o.add(d),r=r.sub(p)}return o},R.div=R.divide,R.modulo=function(e){return n(e)||(e=c(e)),u?a((this.unsigned?u.rem_u:u.rem_s)(this.low,this.high,e.low,e.high),u.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return a(~this.low,~this.high,this.unsigned)},R.and=function(e){return n(e)||(e=c(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},R.or=function(e){return n(e)||(e=c(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},R.xor=function(e){return n(e)||(e=c(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},R.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?a(this.low>>>e|t<<32-e,t>>>e,this.unsigned):a(32===e?t:t>>>e-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},R.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},R.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e){e.exports=JSON.parse('{"PeerPublishStatus":408,"JoinChannelTimeout":407,"OnUpdateStream":356,"OnRemoveStream":355,"OnAddVideoStream":353,"OnAddAudioStream":352,"FirstAudioDecode":351,"FirstVideoDecode":350,"FirstAudioReceived":349,"FirstVideoReceived":348,"ReqUserAccount":196,"ApiInvoke":41,"RequestProxyWorkerManager":36,"RequestProxyAppCenter":35,"VideoSendingStopped":34,"AudioSendingStopped":33,"StreamSwitch":32,"FirstFrame":31,"Publish":30,"Subscribe":29,"JoinGateway":28,"JoinChooseServer":27,"Session":26,"APWorkerEvent":160,"WorkerEvent":156,"JoinWebProxyAP":700}')},function(e){e.exports=JSON.parse('{"nested":{"protobuf":{"nested":{"Session":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"version":{"type":"string","id":11},"browser":{"type":"string","id":12},"appid":{"type":"string","id":13},"mode":{"type":"string","id":14},"extend":{"type":"string","id":15},"process":{"type":"string","id":16},"build":{"type":"string","id":17},"ipv6":{"type":"string","id":18},"sourceHost":{"type":"string","id":19},"sourcePath":{"type":"string","id":20},"collectorHost":{"type":"string","id":21},"collectorName":{"type":"string","id":22}}},"JoinChooseServer":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"chooseServerAddr":{"type":"string","id":11},"chooseServerAddrList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14}}},"JoinGateway":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"gatewayAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"firstSuccess":{"type":"bool","id":14}}},"Subscribe":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"video":{"type":"bool","id":16},"audio":{"type":"bool","id":17},"subscribeRequestid":{"type":"int32","id":18},"p2pid":{"type":"int32","id":19}}},"Publish":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"localSdp":{"type":"string","id":11},"remoteSdp":{"type":"string","id":12},"extend":{"type":"string","id":13},"errorCode":{"type":"string","id":14},"eventElapse":{"type":"int64","id":15},"videoName":{"type":"string","id":16},"audioName":{"type":"string","id":17},"screenName":{"type":"string","id":18},"video":{"type":"bool","id":19},"audio":{"type":"bool","id":20},"publishRequestid":{"type":"int32","id":21},"p2pid":{"type":"int32","id":22},"screenshare":{"type":"bool","id":23}}},"FirstFrame":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"extend":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"width":{"type":"int64","id":13},"height":{"type":"int64","id":14}}},"StreamSwitch":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"isDual":{"type":"bool","id":11}}},"AudioSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"VideoSendingStopped":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"reason":{"type":"string","id":10},"eventType":{"type":"string","id":11}}},"RequestProxyAppCenter":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"APAddr":{"type":"string","id":11},"workerManagerList":{"type":"string","id":12},"errorCode":{"type":"string","id":13},"eventElapse":{"type":"int64","id":14},"extend":{"type":"string","id":15},"response":{"type":"string","id":16}}},"RequestProxyWorkerManager":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"eventType":{"type":"string","id":10},"workerManagerAddr":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"eventElapse":{"type":"int64","id":13},"extend":{"type":"string","id":14},"response":{"type":"string","id":15}}},"ApiInvoke":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"apiName":{"type":"string","id":9},"errorCode":{"type":"string","id":10},"options":{"type":"string","id":11},"execElapse":{"type":"int64","id":12},"execStates":{"type":"string","id":13},"execResult":{"type":"string","id":14},"invokeId":{"type":"int64","id":15}}},"ReqUserAccount":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"serverAddress":{"type":"string","id":10},"stringUid":{"type":"string","id":11},"errorCode":{"type":"string","id":12},"extend":{"type":"string","id":13}}},"FirstVideoReceived":{"fields":{"lts":{"type":"int64","id":1},"peer":{"type":"int64","id":2},"elapse":{"type":"int64","id":3},"sid":{"type":"string","id":4},"cname":{"type":"string","id":5},"cid":{"type":"int64","id":6},"uid":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstAudioReceived":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"FirstVideoDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"videowidth":{"type":"int32","id":9},"videoheight":{"type":"int32","id":10},"subscribeRequestid":{"type":"int32","id":11},"p2pid":{"type":"int32","id":12},"subscribeElapse":{"type":"int64","id":13}}},"FirstAudioDecode":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"elapse":{"type":"int64","id":8},"subscribeRequestid":{"type":"int32","id":9},"p2pid":{"type":"int32","id":10},"subscribeElapse":{"type":"int64","id":11}}},"OnAddAudioStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnAddVideoStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnRemoveStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7}}},"OnUpdateStream":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":6},"peer":{"type":"int64","id":7},"audio":{"type":"bool","id":8},"video":{"type":"bool","id":9}}},"JoinChannelTimeout":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"elapse":{"type":"int64","id":6},"timeout":{"type":"int32","id":7}}},"PeerPublishStatus":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"uid":{"type":"int64","id":5},"peer":{"type":"int64","id":6},"elapse":{"type":"int64","id":7},"peerPublishDuration":{"type":"int64","id":8},"joinChannelSuccessElapse":{"type":"int64","id":9},"subscribeElapse":{"type":"int64","id":10},"audiotag":{"type":"int32","id":11},"videotag":{"type":"int32","id":12},"screensharetag":{"type":"int32","id":13},"firsttimetag":{"type":"int32","id":14}}},"Message":{"fields":{"id":{"type":"int64","id":1},"msg":{"type":"bytes","id":2}}},"ProtoRaws":{"fields":{"sendTs":{"type":"int64","id":1},"payloads":{"rule":"repeated","type":"Message","id":2}}},"APWorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"ec":{"type":"int32","id":10},"sc":{"type":"int32","id":11},"serverIp":{"type":"string","id":12},"firstSuccess":{"type":"bool","id":13},"responseTime":{"type":"int32","id":14},"serviceName":{"type":"string","id":15},"responseDetail":{"type":"string","id":16}}},"WorkerEvent":{"fields":{"sid":{"type":"string","id":1},"cname":{"type":"string","id":2},"cid":{"type":"int64","id":3},"lts":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"success":{"type":"bool","id":7},"elapse":{"type":"int64","id":8},"peer":{"type":"int64","id":9},"command":{"type":"string","id":10},"actionType":{"type":"string","id":11},"url":{"type":"string","id":12},"payload":{"type":"string","id":13},"serverCode":{"type":"int32","id":14},"code":{"type":"int32","id":15},"traceId":{"type":"string","id":16},"workerType":{"type":"int32","id":17},"responseTime":{"type":"int32","id":18},"requestId":{"type":"int64","id":19},"packIndex":{"type":"int32","id":20},"requestByUser":{"type":"bool","id":21},"tid":{"type":"string","id":22}}},"JoinWebProxyAP":{"fields":{"lts":{"type":"int64","id":1},"sid":{"type":"string","id":2},"cname":{"type":"string","id":3},"cid":{"type":"int64","id":4},"ip":{"type":"string","id":5},"uid":{"type":"int64","id":6},"sucess":{"type":"int32","id":7},"elapse":{"type":"int64","id":8},"eventType":{"type":"string","id":9},"apServerAddr":{"type":"string","id":10},"turnServerAddrList":{"type":"string","id":11},"errorCode":{"type":"string","id":12}}}}}}}')},function(e,t,r){var n=function(e){"use strict";function t(e,t,o,i){var a=t&&t.prototype instanceof n?t:n,s=Object.create(a.prototype),u=new d(i||[]);return s._invoke=function(e,t,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return p()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===_)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var l=r(e,t,n);if("normal"===l.type){if(o=n.done?"completed":"suspendedYield",l.arg===_)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o="completed",n.method="throw",n.arg=l.arg)}}}(e,o,u),s}function r(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function o(){}function i(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e,t){var n;this._invoke=function(o,i){function a(){return new t(function(n,a){!function n(o,i,a,s){var c=r(e[o],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&h.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(l).then(function(e){u.value=e,a(u)},function(e){return n("throw",e,a,s)})}s(c.arg)}(o,i,n,a)})}return n=n?n.then(a,a):a()}}function c(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,c(e,t),"throw"===t.method))return _;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,_;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,_):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,_)}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function g(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(h.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:p}}function p(){return{value:void 0,done:!0}}var f=Object.prototype,h=f.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},v=m.iterator||"@@iterator",y=m.asyncIterator||"@@asyncIterator",E=m.toStringTag||"@@toStringTag";e.wrap=t;var _={},S={};S[v]=function(){return this};var b=Object.getPrototypeOf,T=b&&b(b(g([])));T&&T!==f&&h.call(T,v)&&(S=T);var A=i.prototype=n.prototype=Object.create(S);return o.prototype=A.constructor=i,i.constructor=o,i[E]=o.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},a(s.prototype),s.prototype[y]=function(){return this},e.AsyncIterator=s,e.async=function(r,n,o,i,a){void 0===a&&(a=Promise);var c=new s(t(r,n,o,i),a);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},a(A),A[E]="Generator",A[v]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=g,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=void 0),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=h.call(o,"catchLoc"),s=h.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&h.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),l(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;l(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:g(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),_}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="object"==typeof window&&window.RTCPeerConnection,o="object"==typeof window&&window.webkitRTCPeerConnection,i="object"==typeof window&&window.mozRTCPeerConnection;t.createRTCPeerConnection=function(e){var t=n||o||i;return t?new t(e):null}},function(e,t,r){var n;/*!
 * EventEmitter v5.2.9 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - https://oli.me.uk/
 * @preserve
 */
!function(t){"use strict";function o(){}function i(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}var s=o.prototype,c=t.EventEmitter;s.getListeners=function(e){var t,r,n=this._getEvents();if(e instanceof RegExp)for(r in t={},n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r]);else t=n[e]||(n[e]=[]);return t},s.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},s.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},s.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var r,n=this.getListenersAsObject(e),o="object"==typeof t;for(r in n)n.hasOwnProperty(r)&&-1===i(n[r],t)&&n[r].push(o?t:{listener:t,once:!1});return this},s.on=a("addListener"),s.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},s.once=a("addOnceListener"),s.defineEvent=function(e){return this.getListeners(e),this},s.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},s.removeListener=function(e,t){var r,n,o=this.getListenersAsObject(e);for(n in o)o.hasOwnProperty(n)&&-1!==(r=i(o[n],t))&&o[n].splice(r,1);return this},s.off=a("removeListener"),s.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},s.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},s.manipulateListeners=function(e,t,r){var n,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)i.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(o=t[n])&&("function"==typeof o?i.call(this,n,o):a.call(this,n,o));return this},s.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"===r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},s.removeAllListeners=a("removeEvent"),s.emitEvent=function(e,t){var r,n,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(r=a[i].slice(0),o=0;o<r.length;o++)!0===(n=r[o]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},s.trigger=a("emitEvent"),s.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},s.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=c,o},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof window?window:this||{})},function(e,t,r){var n=r(33);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(73),c=r(26),u=r(92),l=r(20),d=r(23),g=r(30),p=a(r(0)),f=a(r(35)),h=function(){function e(e){this.retryTimeout=1e4,this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.taskMutex=new u.PromiseMutex,this.cancelToken=f.default.CancelToken.source(),this.injectConfig=n({},c.DEFAULT_INJECT_CONFIG),this.injectLoopTimes=0,this.lastTaskId=1,this.statusError=new Map,this.spec=e}return Object.defineProperty(e.prototype,"isNeedReset",{get:function(){for(var e=this,t=0,r=Array.from(this.streamingTasks.values());t<r.length;t++){var n=r[t];if(n.mode===c.LiveStreamingServiceMode.INJECT)return!0;if(n.mode===c.LiveStreamingServiceMode.TRANSCODE&&(this.transcodingConfig&&(this.transcodingConfig.userConfigs||this.transcodingConfig.transcodingUsers)||[]).find(function(t){return t.uid===e.spec.uid}))return!0}return!1},enumerable:!0,configurable:!0}),e.prototype.setTranscodingConfig=function(e){return o(this,void 0,void 0,function(){var t,r,o,a,s,u=this;return i(this,function(i){switch(i.label){case 0:(t=n(n({},c.DEFAULT_TRANSCODING_CONFIG),e)).transcodingUsers||(t.transcodingUsers=t.userConfigs),66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(p.default.debug("["+this.spec.clientId+"] set transcoding config, fix video codec profile: "+t.videoCodecProfile+" -> 100"),t.videoCodecProfile=100),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map(function(e){return n(n(n({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_USER),e),{zOrder:e.zOrder?e.zOrder+1:1})})),t.images&&(t.images=t.images.map(function(e){return n(n({},c.DEFAULT_LIVE_STREAMING_TRANSCODING_WATERMARK),e)}));try{c.isLiveStreamingTranscodingConfig(t)}catch(e){throw e}return t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map(function(e){return n({},e)}),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers),r=(t.userConfigs||[]).map(function(e){return"number"==typeof e.uid?Promise.resolve(e.uid):l.getUserAccount(u.spec,null,e.uid)}),[4,this.taskMutex.lock()];case 1:return o=i.sent(),[4,Promise.all(r)];case 2:if(i.sent().forEach(function(e,r){t.userConfigs&&t.userConfigs[r]&&(t.userConfigs[r].uid=e&&e.uid||e)}),this.transcodingConfig=t,!this.connection)return o(),[2];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(this.streamingTasks.values()).map(function(e){return e.taskId}).join("#")})];case 4:return a=i.sent(),o(),p.default.debug("["+this.spec.clientId+"] update live transcoding config success, code: "+a.code+", config:",JSON.stringify(this.transcodingConfig)),[3,6];case 5:if(s=i.sent(),o(),!s.data||!s.data.retry)throw s;return s.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(function(e){p.default.warning("["+u.spec.clientId+"] live streaming receive error",s.toString(),"try to republish",e.url),u.startLiveStreamingTask(e.url,e.mode,s).then(function(){p.default.debug("["+u.spec.clientId+"] live streaming republish "+e.url+" success")}).catch(function(t){p.default.error("["+u.spec.clientId+"] live streaming republish failed",e.url,t.toString()),u.onLiveStreamError&&u.onLiveStreamError(e.url,t)})}),[3,6];case 6:return[2]}})})},e.prototype.setInjectStreamConfig=function(e,t){this.injectConfig=Object.assign({},this.injectConfig,e),this.injectLoopTimes=t},e.prototype.startLiveStreamingTask=function(e,t,r){return o(this,void 0,void 0,function(){var o,a,s,u,l,f,h,m,v=this;return i(this,function(i){switch(i.label){case 0:return Array.from(this.streamingTasks.values()).find(function(e){return e.mode===c.LiveStreamingServiceMode.INJECT})&&t===c.LiveStreamingServiceMode.INJECT?[2,new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw()]:(o={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:30},p.default.debug("["+this.spec.clientId+"] start live streaming "+e+", mode: "+t),[4,this.taskMutex.lock()]);case 1:if(a=i.sent(),!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw a(),new d.AgoraRTCError(d.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");if(!this.connection&&r)return a(),[2];if(this.streamingTasks.get(e)&&!r)return a(),[2,new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT).throw()];if(!this.transcodingConfig&&t===c.LiveStreamingServiceMode.TRANSCODE)throw a(),new d.AgoraRTCError(d.AgoraRTCErrorCode.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");i.label=2;case 2:return i.trys.push([2,5,,6]),this.connection?[3,4]:(s=this,[4,this.connect(t)]);case 3:s.connection=i.sent(),i.label=4;case 4:return[3,6];case 5:throw u=i.sent(),a(),u;case 6:switch(t){case c.LiveStreamingServiceMode.TRANSCODE:o.transcodingConfig=n({},this.transcodingConfig);break;case c.LiveStreamingServiceMode.RAW:break;case c.LiveStreamingServiceMode.INJECT:o={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:e,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(o.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0,l=this.lastTaskId++,i.label=7;case 7:return i.trys.push([7,9,,14]),f=new Promise(function(t,n){g.wait(v.retryTimeout).then(function(){if(r)return n(r);var t=v.statusError.get(e);return t?(v.statusError.delete(e),n(t)):void 0})}),[4,Promise.race([this.connection.request("request",{clientRequest:o},!0,{url:e,command:"PublishStream",workerType:t===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!r,tid:l.toString()}),f])];case 8:return h=i.sent(),this.isStartingStreamingTask=!1,p.default.debug("["+this.spec.clientId+"] live streaming started, code: "+h.code),this.streamingTasks.set(e,{clientRequest:o,mode:t,url:e,taskId:l}),a(),[3,14];case 9:if(m=i.sent(),a(),this.isStartingStreamingTask=!1,!m.data||!m.data.retry||r)throw m;return m.data.changeAddress?[3,11]:[4,this.startLiveStreamingTask(e,t,m)];case 10:return[2,i.sent()];case 11:return this.connection.tryNextAddress(),[4,this.startLiveStreamingTask(e,t,m)];case 12:return[2,i.sent()];case 13:return[3,14];case 14:return[2]}})})},e.prototype.stopLiveStreamingTask=function(e){var t=this;return new Promise(function(r,n){var o=t.streamingTasks.get(e);if(!o||!t.connection)return new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();var i=o.mode;o.abortTask=function(){p.default.debug("["+t.spec.clientId+"] stop live streaming success(worker exception)"),t.streamingTasks.delete(e),r()},t.connection.request("request",{clientRequest:{command:i===c.LiveStreamingServiceMode.INJECT?"UninjectStream":"UnpublishStream",url:o.url}},!1,{url:e,command:"UnPublishStream",workerType:i===c.LiveStreamingServiceMode.TRANSCODE?1:2,requestByUser:!0,tid:(t.lastTaskId++).toString()}).then(function(n){p.default.debug("["+t.spec.clientId+"] stop live streaming success, code: "+n.code),t.streamingTasks.delete(e),0===t.streamingTasks.size&&i!==c.LiveStreamingServiceMode.INJECT&&(t.connection.close(),t.connection=void 0),r()}).catch(n)})},e.prototype.controlInjectStream=function(e,t,r,n){return o(this,void 0,void 0,function(){var o;return i(this,function(i){switch(i.label){case 0:if(!(o=this.streamingTasks.get(e))||!this.connection||o.mode!==c.LiveStreamingServiceMode.INJECT)throw new d.AgoraRTCError(d.AgoraRTCErrorCode.INVALID_OPERATION,"can not find inject stream task to control");return[4,this.connection.request("request",{clientRequest:{command:"ControlStream",url:e,control:t,audioVolume:r,position:n}})];case 1:return[2,i.sent().serverResponse]}})})},e.prototype.resetAllTask=function(){var e=this,t=Array.from(this.streamingTasks.values());this.terminate();for(var r=this,n=0,o=t;n<o.length;n++)!function(t){r.startLiveStreamingTask(t.url,t.mode).catch(function(r){e.onLiveStreamError&&e.onLiveStreamError(t.url,r)})}(o[n])},e.prototype.setGatewayConnectionState=function(e){this.connection&&(this.connection.gatewayConnectionState=e)},e.prototype.terminate=function(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=f.default.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0},e.prototype.connect=function(e){return o(this,void 0,void 0,function(){var t,r=this;return i(this,function(n){switch(n.label){case 0:if(this.connection)throw new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_ERROR,"live streaming connection has already connected");return[4,g.getLiveStreamingWorkerMangerResult(e,this.spec,this.cancelToken.token)];case 1:return t=n.sent(),this.uapResponse=t,this.connection=new s.AgoraLiveStreamingUapSignal(t.workerToken,this.spec,e),this.connection.on(c.LiveStreamingUapSignalEvents.WARNING,function(e,t){return r.onLiveStreamWarning&&r.onLiveStreamWarning(t,e)}),this.connection.on(c.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,function(e){return r.handlePublishStreamServer(e)}),this.connection.on(c.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,function(e){return r.handleInjectStreamServerStatus(e)}),this.connection.on(c.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS,function(t,n){if(!r.connection)return n(new d.AgoraRTCError(d.AgoraRTCErrorCode.UNEXPECTED_ERROR,"can not get new live streaming address list"));g.getLiveStreamingWorkerMangerResult(e,r.spec,r.cancelToken.token).then(function(e){r.uapResponse=e,t(e.addressList)}).catch(n)}),[4,this.connection.init(t.addressList)];case 2:return n.sent(),[2,this.connection]}})})},e.prototype.handlePublishStreamServer=function(e){var t=this,r=e.serverStatus&&e.serverStatus.url;if(!r)throw new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"empty url",{code:e.code});var n=this.streamingTasks.get(r);switch(e.code){case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case c.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:var o=new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return p.default.error(o.toString()),this.onLiveStreamError&&this.onLiveStreamError(r,o);if(!this.isStartingStreamingTask)return;this.statusError.set(r,o);case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case c.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(!this.connection||0===this.streamingTasks.size)return;this.connection.tryNextAddress();for(var i=Array.from(this.streamingTasks.values()),a=this,s=0,u=i;s<u.length;s++)!function(r){if(r.abortTask)return r.abortTask(),"continue";p.default.warning("["+a.spec.clientId+"] publish stream status code",e.code,"try to republish",r.url),a.startLiveStreamingTask(r.url,r.mode,new d.AgoraRTCError(d.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then(function(){p.default.debug("["+t.spec.clientId+"] republish live stream success",r.url)}).catch(function(e){p.default.error(e.toString()),t.onLiveStreamError&&t.onLiveStreamError(r.url,e)})}(u[s]);return}},e.prototype.handleInjectStreamServerStatus=function(e){var t=Number(e.uid),r=e.serverStatus&&e.serverStatus.url;switch(e.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(0,t,r));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(1,t,r),void this.streamingTasks.delete(r);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(2,t,r),void this.streamingTasks.delete(r);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(10,t,r),void this.streamingTasks.delete(r);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(3,t,r),void this.streamingTasks.delete(r);default:return void p.default.debug("inject stream server status",e)}},e.prototype.haveUrl=function(e){return this.streamingTasks.has(e)||void 0},e}();t.AgoraRTCLiveStreamingClient=h},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=r(26),l=r(74),d=r(34),g=r(23),p=r(3),f=c(r(0)),h=r(1),m=r(30),v=function(e){function t(t,r,n){var o=e.call(this)||this;return o._gatewayConnectionState="CONNECTED",o.reconnectMode="retry",o.reqId=0,o.commandReqId=0,o.handleWebSocketOpen=function(){o.reconnectMode="retry",o.startPingPong()},o.handleWebSocketMessage=function(e){if(e.data){var t=JSON.parse(e.data);t.requestId?o.emit("@"+t.requestId+"-"+t.sid,t):o.serviceMode===u.LiveStreamingServiceMode.INJECT?o.emit(u.LiveStreamingUapSignalEvents.INJECT_STREAM_STATUS,t):(h.report.requestWorkerEvent(o.spec.sid,{actionType:"status",serverCode:t.code,workerType:o.serviceMode===u.LiveStreamingServiceMode.TRANSCODE?1:2}),o.emit(u.LiveStreamingUapSignalEvents.PUBLISH_STREAM_STATUS,t))}},o.spec=r,o.token=t,o.serviceMode=n,o.websocket=new l.AgoraWebSocketManager("live-streaming"),o.websocket.on(u.WebSocketManagerEvents.CONNECTED,o.handleWebSocketOpen),o.websocket.on(u.WebSocketManagerEvents.ON_MESSAGE,o.handleWebSocketMessage),o.websocket.on(u.WebSocketManagerEvents.REQUEST_NEW_URLS,function(e,t){d.emitAsPromise(o,u.LiveStreamingUapSignalEvents.REQUEST_NEW_ADDRESS).then(e).catch(t)}),o.websocket.on(u.WebSocketManagerEvents.RECONNECTING,function(){o.websocket.reconnectMode=o.reconnectMode}),o}return o(t,e),Object.defineProperty(t.prototype,"gatewayConnectionState",{get:function(){return this._gatewayConnectionState},set:function(e){this._gatewayConnectionState=e,"CONNECTED"===e&&this.emit("gateway-connected",e)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){return this.websocket.init(e)},t.prototype.request=function(e,t,r,n){return a(this,void 0,void 0,function(){var o,a,c,l,d,f,v,y,E,_,S=this;return s(this,function(s){switch(s.label){case 0:if(this.reqId+=1,o=this.reqId,"request"===e&&(this.commandReqId+=1),a=this.commandReqId,!o||!this.websocket)throw new g.AgoraRTCError(g.AgoraRTCErrorCode.UNEXPECTED_ERROR);if(c=p.VERSION,"closed"===this.websocket.state)throw new g.AgoraRTCError(g.AgoraRTCErrorCode.WS_DISCONNECT);return l=function(){return new Promise(function(e,t){var r=function(){"CONNECTED"===S.gatewayConnectionState&&"connected"===S.websocket.state&&(S.off("gateway-connected",r),S.websocket.off(u.WebSocketManagerEvents.CONNECTED,r),e())};S.on("gateway-connected",r),S.websocket.once(u.WebSocketManagerEvents.CLOSED,function(){return t(new g.AgoraRTCError(g.AgoraRTCErrorCode.WS_ABORT))}),S.websocket.on(u.WebSocketManagerEvents.CONNECTED,r)})},"connected"===this.websocket.state&&"CONNECTED"===this.gatewayConnectionState?[3,2]:[4,l()];case 1:s.sent(),s.label=2;case 2:d=Promise.race([new Promise(function(e,t){var r=function(){t(new g.AgoraRTCError(g.AgoraRTCErrorCode.WS_ABORT))};S.websocket.once(u.WebSocketManagerEvents.RECONNECTING,r),S.websocket.once(u.WebSocketManagerEvents.CLOSED,r),S.once("@"+o+"-"+S.spec.sid,function(t){e(t)})}),m.wait(p.getParameter("LIVE_STREAMING_TIMEOUT")).then(function(){return!1})]),(f=i({command:e,sdkVersion:c,seq:o,requestId:o,allocate:r,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t)).clientRequest&&(f.clientRequest.workerToken=this.token),n&&h.report.requestWorkerEvent(this.spec.sid,i(i({},n),{requestId:a,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0})),v=Date.now(),this.websocket.sendMessage(f),y=null,s.label=3;case 3:return s.trys.push([3,5,,8]),[4,d];case 4:return y=s.sent(),[3,8];case 5:if(E=s.sent(),"closed"===this.websocket.state)throw E;return[4,l()];case 6:return s.sent(),[4,this.request(e,t,r,n)];case 7:return[2,s.sent()];case 8:if(!1===y)throw _=new g.AgoraRTCError(g.AgoraRTCErrorCode.NETWORK_TIMEOUT,(t&&t.clientRequest&&t.clientRequest.command)+" timeout"),this.emit(u.LiveStreamingUapSignalEvents.WARNING,_,n&&n.url||"unknown url"),_;return n&&h.report.requestWorkerEvent(this.spec.sid,i(i({},n),{requestId:a,actionType:"response",payload:JSON.stringify(y.serverResponse),serverCode:y.code,success:200===y.code,responseTime:Date.now()-v})),200!==y.code&&this.handleResponseError(y),[2,y]}})})},t.prototype.tryNextAddress=function(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")},t.prototype.close=function(){var e="__VERSION__"===p.VERSION?"0.0.1":p.VERSION;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)},t.prototype.handleResponseError=function(e){switch(e.code){case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void f.default.warning("live stream response already exists stream");case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_BAD_STREAM:case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:var t=new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(u.LiveStreamingUapSignalEvents.WARNING,t,e.serverResponse.url);case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:return t=new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST),this.emit(u.LiveStreamingUapSignalEvents.WARNING,t,e.serverResponse.url);case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORT,"",{code:e.code}).throw();case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:return t=new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT),this.emit(u.LiveStreamingUapSignalEvents.WARNING,t,e.serverResponse.url);case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_LOST:case u.LIVE_STREAM_ERROR_CODE.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;throw new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case u.LIVE_STREAM_ERROR_CODE.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command||"UninjectStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case u.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case u.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case u.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case u.LIVE_STREAM_ERROR_CODE.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new g.AgoraRTCError(g.AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}},t.prototype.startPingPong=function(){var e=this;this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(function(){"connected"===e.websocket.state&&e.request("ping",{}).catch(function(){})},6e3)},t}(d.EventEmitter);t.AgoraLiveStreamingUapSignal=v},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}c((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function r(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}var n,o,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=r(23),u=r(34),l=r(30),d=r(26),g=s(r(0)),p=function(e){function t(t){var r=e.call(this)||this;return r.connectionID=0,r.currentURLIndex=0,r.reconnectMode="tryNext",r._state="closed",r.retryConfig=l.DEFAULT_RETRY_CONFIG,r.reconnectCount=0,r.name=t,r}return o(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this.websocket?this.websocket.url:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(d.WebSocketManagerEvents.RECONNECTING,this.reconnectMode):"connected"===this._state?this.emit(d.WebSocketManagerEvents.CONNECTED):"closed"===this._state?this.emit(d.WebSocketManagerEvents.CLOSED):"failed"===this._state&&this.emit(d.WebSocketManagerEvents.FAILED))},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t=this;return new Promise(function(r,n){t.urls=e;var o=t.urls[t.currentURLIndex];t.state="connecting",t.createWebSocketConnection(o).then(r).catch(n),t.once(d.WebSocketManagerEvents.CLOSED,function(){return n(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT))}),t.once(d.WebSocketManagerEvents.CONNECTED,function(){return r()})})},t.prototype.close=function(e,t){if(this.currentURLIndex=0,this.reconnectCount=0,this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;var r=this.websocket;t?setTimeout(function(){return r.close()},500):r.close(),this.websocket=void 0}this.state=e?"failed":"closed"},t.prototype.reconnect=function(e){if(this.websocket){void 0!==e&&(this.reconnectMode=e);var t=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),t&&t.bind(this.websocket)({code:9999})}else g.default.warning("["+this.name+"] can not reconnect, no websocket")},t.prototype.sendMessage=function(e){if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ABORT,"websocket is not ready");var t=JSON.stringify(e);try{this.websocket.send(t)}catch(e){throw new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"send websocket message error"+e.toString())}},t.prototype.createWebSocketConnection=function(e){return i(this,void 0,void 0,function(){var t,r=this;return a(this,function(n){return this.connectionID+=1,t=this.connectionID,[2,new Promise(function(n,o){r.websocket&&(r.websocket.onclose=null,r.websocket.close()),g.default.debug("["+r.name+"] start connect, url: "+e);try{r.websocket=new WebSocket(e),r.websocket.binaryType="arraybuffer"}catch(e){var s=new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_ERR,"init websocket failed! Error: "+e.toString());return g.default.error("["+r.name+"]"+s),void o(s)}l.wait(5e3).then(function(){t===r.connectionID&&r.websocket&&r.websocket.readyState!==WebSocket.OPEN&&r.websocket&&r.websocket.close()}),r.websocket.onopen=function(){g.default.debug("["+r.name+"] websockect opened:",e),r.reconnectMode="retry",r.state="connected",r.reconnectCount=0,n()},r.websocket.onclose=function(e){return i(r,void 0,void 0,function(){var t,r;return a(this,function(i){switch(i.label){case 0:return g.default.debug("["+this.name+"] websocket close "+(this.websocket&&this.websocket.url)+", code: "+e.code+", reason: "+e.reason+", current mode: "+this.reconnectMode),this.reconnectCount<this.retryConfig.maxRetryCount?("connected"===this.state&&(this.state="reconnecting"),t=u.emitAsInvokerNoResponse(this,d.WebSocketManagerEvents.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,[4,this.reconnectWithAction(t)]):[3,2];case 1:return r=i.sent(),"closed"===this.state?(g.default.debug("["+this.connectionID+"] ws is closed, no need to reconnect"),[2]):r?(n(),[3,3]):(o(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket reconnect failed: "+e.code)),this.close(!0),[2]);case 2:o(new c.AgoraRTCError(c.AgoraRTCErrorCode.WS_DISCONNECT,"websocket close: "+e.code)),this.close(),i.label=3;case 3:return[2]}})})},r.websocket.onmessage=function(e){r.emit(d.WebSocketManagerEvents.ON_MESSAGE,e)}})]})})},t.prototype.reconnectWithAction=function(e,t){return i(this,void 0,void 0,function(){var r,n,o,i;return a(this,function(a){switch(a.label){case 0:return!t&&this.reconnectCount>=this.retryConfig.maxRetryCount?[2,!1]:this.urls?"closed"===this.state?[2,!1]:(r=l.getRetryWaitTime(this.reconnectCount,this.retryConfig),g.default.debug("["+this.name+"] wait "+r+"ms to reconnect websocket, mode: "+e),[4,l.wait(r)]):[2,!1];case 1:if(a.sent(),"closed"===this.state)return[2,!1];this.reconnectCount+=1,a.label=2;case 2:return a.trys.push([2,12,,14]),"retry"!==e?[3,4]:(o=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(o)]);case 3:return a.sent(),[3,11];case 4:return"tryNext"!==e?[3,8]:(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length?[4,this.reconnectWithAction("recover")]:[3,6]);case 5:return[2,a.sent()];case 6:return g.default.debug("["+this.name+"] websocket url length: "+this.urls.length+" current index: "+this.currentURLIndex),o=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(o)];case 7:return a.sent(),[3,11];case 8:return"recover"!==e?[3,11]:(g.default.debug("["+this.name+"] request new urls"),n=this,[4,u.emitAsPromise(this,d.WebSocketManagerEvents.REQUEST_NEW_URLS)]);case 9:return n.urls=a.sent(),this.currentURLIndex=0,o=this.urls[this.currentURLIndex],[4,this.createWebSocketConnection(o)];case 10:a.sent(),a.label=11;case 11:return[2,!0];case 12:return i=a.sent(),g.default.error("["+this.name+"] reconnect failed",i.toString()),[4,this.reconnectWithAction(e)];case 13:return[2,a.sent()];case 14:return[2]}})})},t}(u.EventEmitter);t.AgoraWebSocketManager=p},function(e,t,r){"use strict";function n(e){var t=new a(e),r=i(a.prototype.request,t);return o.extend(r,a.prototype,t),o.extend(r,t),r}var o=r(18),i=r(36),a=r(76),s=r(42),c=n(r(39));c.Axios=a,c.create=function(e){return n(s(c.defaults,e))},c.Cancel=r(43),c.CancelToken=r(90),c.isCancel=r(38),c.all=function(e){return Promise.all(e)},c.spread=r(91),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";function n(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var o=r(18),i=r(37),a=r(77),s=r(78),c=r(42);n.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},n.prototype.getUri=function(e){return e=c(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(e){n.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=n},function(e,t,r){"use strict";function n(){this.handlers=[]}var o=r(18);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,r){"use strict";function n(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var o=r(18),i=r(79),a=r(38),s=r(39);e.exports=function(e){return n(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return n(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(n(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){f&&g&&(f=!1,g.length?p=g.concat(p):h=-1,p.length&&a())}function a(){if(!f){var e=o(i);f=!0;for(var t=p.length;t;){for(g=p,p=[];++h<t;)g&&g[h].run();h=-1,t=p.length}g=null,f=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,l,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(e){u=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var g,p=[],f=!1,h=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new s(e,t)),1!==p.length||f||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(41);e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(85),o=r(86);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(18),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},function(e,t,r){"use strict";var n=r(18);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(r){var o=n.isString(r)?e(r):r;return o.protocol===t.protocol&&o.host===t.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(18);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new o(e),t(r.reason))})}var o=r(43);n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(t){e=t}),cancel:e}},e.exports=n},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.lockingPromise=Promise.resolve(),this.locks=0}return Object.defineProperty(e.prototype,"isLocked",{get:function(){return this.locks>0},enumerable:!0,configurable:!0}),e.prototype.lock=function(){var e,t=this;this.locks+=1;var r=new Promise(function(r){e=function(){t.locks-=1,r()}}),n=this.lockingPromise.then(function(){return e});return this.lockingPromise=this.lockingPromise.then(function(){return r}),n},e}();t.PromiseMutex=n},function(e,t,r){"use strict";function n(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t);var i=r(3),a=r(0),s=r(1),c=r(8),u=r(4),l=function(){};l.prototype.set=function(e,t){["BatteryLevel"].indexOf(e)>-1&&(this[e]=t)};var d=new function(){var e=Object(c.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.batteryManager=null,e._init=function(t,r){e.state=e.states.INITING,navigator.getBattery?navigator.getBattery().then(function(r){e.batteryManager=r,t&&setTimeout(function(){t()},0)}).catch(function(e){a.default.debug("navigator.getBattery is disabled",e),t&&t()}):(e.state=e.states.INITED,t&&t())},e._getBatteryStats=function(){var t={};return e.batteryManager&&e.batteryManager.level?t.BatteryLevel=Math.floor(100*e.batteryManager.level):t.BatteryLevel="UNSUPPORTED",t},e.getStats=function(t,r){var n=new l,o=e._getBatteryStats();o&&o.BatteryLevel&&n.set("BatteryLevel",o.BatteryLevel),t&&t(n)},e._init(),e},g=r(21),p=r(19),f=r(25),h=r(51),m=r(9),v=["live","rtc","web","interop","h264_interop","web-only"],y=["vp8","h264"],E=["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb"],_=r(11),S=r.n(_),b=r(7),T=r.n(b),A=r(12),R=r(5),I=r(10),O=r(20),w=r(6),C=r(14),N={1001:"FRAMERATE_INPUT_TOO_LOW",1002:"FRAMERATE_SENT_TOO_LOW",1003:"SEND_VIDEO_BITRATE_TOO_LOW",1005:"RECV_VIDEO_DECODE_FAILED",2001:"AUDIO_INPUT_LEVEL_TOO_LOW",2002:"AUDIO_OUTPUT_LEVEL_TOO_LOW",2003:"SEND_AUDIO_BITRATE_TOO_LOW",2005:"RECV_AUDIO_DECODE_FAILED",3001:"FRAMERATE_INPUT_TOO_LOW_RECOVER",3002:"FRAMERATE_SENT_TOO_LOW_RECOVER",3003:"SEND_VIDEO_BITRATE_TOO_LOW_RECOVER",3005:"RECV_VIDEO_DECODE_FAILED_RECOVER",4001:"AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER",4002:"AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER",4003:"SEND_AUDIO_BITRATE_TOO_LOW_RECOVER",4005:"RECV_AUDIO_DECODE_FAILED_RECOVER"},M={FramerateInput:1001,FramerateSent:1002,SendVideoBitrate:1003,VideoDecode:1005,AudioIntputLevel:2001,AudioOutputLevel:2002,SendAudioBitrate:2003,AudioDecode:2005},L=function(e){var t={remoteStreamStorage:{},localStreamStorage:{}};return t.gatewayClient=e,t.checkAudioOutputLevel=function(e){return!(e&&parseInt(e.audioRecvBytesDelta)>0&&parseInt(e.audioDecodingNormalDelta)>0&&0===parseInt(e.audioOutputLevel))},t.checkAudioIntputLevel=function(e){return!e||0!==parseInt(e.audioInputLevel)},t.checkFramerateInput=function(e,t){if(!e||!t.attributes)return!0;var r=parseInt(t.attributes.maxFrameRate),n=parseInt(e.googFrameRateInput);return!r||!n||!(r>10&&n<5||r<10&&r>=5&&n<=1)},t.checkFramerateSent=function(e){return!(e&&parseInt(e.googFrameRateInput)>5&&parseInt(e.googFrameRateSent)<=1)},t.checkSendVideoBitrate=function(e){return!e||0!==parseInt(e.videoSendBytesDelta)},t.checkSendAudioBitrate=function(e){return!e||0!==parseInt(e.audioSendBytesDelta)},t.checkVideoDecode=function(e){return!e||0===parseInt(e.videoRecvBytesDelta)||0!==parseInt(e.googFrameRateDecoded)},t.checkAudioDecode=function(e){return!e||0===parseInt(e.audioRecvBytesDelta)||0!==parseInt(e.audioDecodingNormalDelta)},t.record=function(e,r,n,o,i){n[e]||(n[e]={isPrevNormal:!0,record:[]});var a=n[e],s=t["check"+e](r,i);if(a.record.push(s),a.record.length>=5){a.isCurNormal=-1!==a.record.indexOf(!0);var c=M[e];a.isPrevNormal&&!a.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c,msg:N[c],uid:o}),!a.isPrevNormal&&a.isCurNormal&&t.gatewayClient.dispatchEvent({type:"exception",code:c+2e3,msg:N[c+2e3],uid:o}),a.isPrevNormal=a.isCurNormal,a.record=[]}},t.setLocalStats=function(e){var r={};Object.keys(e).map(function(n){var o=e[n],i=t.gatewayClient.localStreams[parseInt(n)],a=t.localStreamStorage[n]||{};i&&i.hasVideo()&&(t.record("SendVideoBitrate",o.videoStats,a,n),t.record("FramerateInput",o.videoStats,a,n,i),t.record("FramerateSent",o.videoStats,a,n)),i&&i.hasAudio()&&(t.record("AudioIntputLevel",o.audioStats,a,n),t.record("SendAudioBitrate",o.audioStats,a,n)),r[n]=a}),t.localStreamStorage=r},t.setRemoteStats=function(r){var n={};Object.keys(r).map(function(o){var i=r[o],a=e.remoteStreams[o],s=t.remoteStreamStorage[o]||{};a&&a.hasVideo()&&a.isPlaying()&&t.record("VideoDecode",i.videoStats,s,o),a&&a.hasAudio()&&a.isPlaying()&&(t.record("AudioOutputLevel",i.audioStats,s,o),t.record("AudioDecode",i.audioStats,s,o)),n[o]=s}),t.remoteStreamStorage=n},t},D=r(2),P=new function(){var e=Object(c.b)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.type=null,e.lastConnectedAt=null,e.lastDisconnectedAt=null,e.lastTypeChangedAt=null,e.networkChangeTimer=null,e._init=function(t,r){if(e.state=e.states.INITING,navigator.connection&&navigator.connection.addEventListener){var n=e._getNetworkInfo();e.type=n&&n.type,e.state=e.states.INITED,t&&t()}else e.state=e.states.UNINIT,r&&r("DO_NOT_SUPPORT")},e._getNetworkInfo=function(){return navigator.connection},e._reloadNetworkInfo=function(){var t=e._getNetworkInfo(),r=t&&t.type||"UNSUPPORTED",n=Date.now();if(r!==e.type){e.lastTypeChangedAt=n,"none"==r?e.lastDisconnectedAt=n:"none"==e.type&&(e.lastConnectedAt=n),e.type=r;var o={type:"networkTypeChanged",networkType:r};e.dispatchEvent(o)}},e.getStats=function(t,r){var n={},o=e._getNetworkInfo();o&&(n.NetworkType=o.type||"UNSUPPORTED"),setTimeout(function(){t(n)},0)},e._init(function(){navigator.connection.addEventListener("change",function(){e._reloadNetworkInfo()}),e.networkChangeTimer=setInterval(function(){e._reloadNetworkInfo()},5e3)},function(e){}),e},k=r(53),x=r(16),j=r(54),U=r.n(j),B=r(28),V="host",$=function(e){var t={key:void 0,highStream:null,lowStream:null,lowStreamParameter:null,isDualStream:!1,highStreamState:2,lowStreamState:2,proxyServer:null,turnServers:[],useProxyServer:!1};if(t.mode=e.mode,t.codec=e.codec,t.clientId=Object(I.generateSessionId)().slice(0,5),t.uintUid=null,t.customReportCount=0,e=T()({},e),t.aespassword=null,t.aesmode="none",t.hasPublished=!1,t.getSessionId=function(){return e.sessionId},t.startChannelMediaRelay=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return n&&n(e);n&&n()},name:"Client.startChannelMediaRelay",options:arguments,tag:"tracer"});if(!(r instanceof m.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var i=r.getSrcChannelMediaInfo(),a=r.getDestChannelMediaInfos();if(Object(D.isEmpty)(i))throw"srcChannelMediaInfo should not be empty";if(Object(D.isEmpty)(a)||0===a.length)throw"destChannelMediaInfos should not be empty";if(!Object(I.is32Uint)(i.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(D.isValidChannelName)(i.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(i.token&&!Object(D.isValidToken)(i.token))throw"Invalid token in srcChannelMediaInfo";if(a.forEach(function(e){if(!Object(I.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(D.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(D.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"}),t.gatewayClient.state!==A.a.CONNECTED)throw"startChannelMediaRelay should be used after join";t.gatewayClient.startChannelMediaRelay(r).then(function(){o&&o()}).catch(function(e){o&&o(e)})},t.updateChannelMediaRelay=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return n&&n(e);n&&n()},name:"Client.updateChannelMediaRelay",options:arguments,tag:"tracer"});if(!(r instanceof m.ChannelMediaRelayConfiguration))throw"Configration should be instance of [ChannelMediaRelayConfiguration]";var i=r.getSrcChannelMediaInfo(),a=r.getDestChannelMediaInfos();if(Object(D.isEmpty)(i))throw"srcChannelMediaInfo should not be empty";if(Object(D.isEmpty)(a)||0===a.length)throw"destChannelMediaInfos should not be empty";if(!Object(I.is32Uint)(i.uid))throw"Invalid uid in srcChannelMediaInfo";if(!Object(D.isValidChannelName)(i.channelName))throw"Invalid channelName in srcChannelMediaInfo";if(i.token&&!Object(D.isValidToken)(i.token))throw"Invalid token in srcChannelMediaInfo";if(a.forEach(function(e){if(!Object(I.is32Uint)(e.uid))throw"Invalid uid in destChannelMediaInfo";if(!Object(D.isValidChannelName)(e.channelName))throw"Invalid channelName in destChannelMediaInfo";if(e.token&&!Object(D.isValidToken)(e.token))throw"Invalid token in destChannelMediaInfo"}),t.gatewayClient.state!==A.a.CONNECTED)throw"updateChannelMediaRelay should be used after join";t.gatewayClient.updateChannelMediaRelay(r).then(function(){o&&o()}).catch(function(e){o&&o(e)})},t.stopChannelMediaRelay=function(r){var n=s.report.reportApiInvoke(e.sessionId,{callback:function(e){if(e)return r&&r(e);r&&r()},name:"Client.stopChannelMediaRelay",options:arguments,tag:"tracer"});t.gatewayClient.stopChannelMediaRelay().then(function(){n&&n()}).catch(function(e){n&&n(e)})},t.getConnectionState=function(){var r=s.report.reportApiInvoke(e.sessionId,{name:"Client.getConnectionState",options:arguments,tag:"tracer"}),n=A.a.connetionStateMap[t.gatewayClient.state];return r(),n},t.setClientRole=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:n,name:"Client.setClientRole",options:arguments,tag:"tracer"});if(Object(D.checkValidEnum)(r,"setClientRole",[V,"audience"]),"rtc"===t.mode){var i="RTC mode can not use setClientRole";return a.default.warning("[".concat(t.clientId,"] ").concat(i)),o&&o(i)}t.gatewayClient&&t.gatewayClient.state===A.a.CONNECTED?("audience"===r&&(0===this.highStreamState?this._unpublish(this.highStream,function(){o&&o(null,{role:r})},function(e){o&&o(e)}):t.gatewayClient.setClientRole("audience",o)),r===V&&t.gatewayClient.setClientRole(V,o)):(t.gatewayClient.role=r,o&&o(null,{role:r}))},t.getGatewayInfo=function(e){if(t.gatewayClient.state!==A.a.CONNECTED){var r="Client is not in connected state";return a.default.error("[".concat(t.clientId,"] ").concat(r)),void e(r)}t.gatewayClient.getGatewayInfo(function(t){e(null,t)},e)},t.renewToken=function(r,n,o){var i=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return a.default.error("Failed to renew token ".concat(e),t),o&&o(e);n&&n(t)},name:"Client.renewToken",options:arguments,tag:"tracer"});if(!Object(D.isValidToken)(r))throw new Error("Invalid token: Token is of the string type .Length of the string: [1,255]. ASCII characters only.");return t.gatewayClient?t.key?(t.key=r,void t.gatewayClient.renewToken(r,function(e){return i(null,e)},i)):(a.default.error("[".concat(t.clientId,"] renewToken should not be called before user join")),i(R.default.INVALID_OPERATION)):(a.default.error("[".concat(t.clientId,"] renewToken Failed. GatewayClient not Exist")),i(R.default.INVALID_OPERATION))},t.setLowStreamParameter=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.setLowStreamParameter",options:arguments,tag:"tracer"});Object(D.checkValidObject)(r,"param");var o=r.width,i=r.height,c=r.framerate,u=r.bitrate;Object(D.isEmpty)(o)||Object(D.checkValidNumber)(o,"width"),Object(D.isEmpty)(i)||Object(D.checkValidNumber)(i,"height"),Object(D.isEmpty)(c)||Object(D.checkValidNumber)(c,"framerate"),Object(D.isEmpty)(u)||Object(D.checkValidNumber)(u,"bitrate",1,1e7),(!o&&i||o&&!i)&&a.default.warning("[".concat(t.clientId,"] The width and height parameters take effect only when both are set")),t.lowStreamParameter=r,n()},t.init=function(t,r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return n&&n(e);r&&r(t)},name:"Client.init",options:arguments,tag:"tracer"});Object(D.checkValidString)(t),Object(u.isChromeKernel)()&&Object(u.getChromeKernelVersion)()<=48?n?o(R.default.BAD_ENVIRONMENT):Object(I.popBanTip)():(e.appId=t,e.sessionId=Object(I.generateSessionId)(),o())},t.setTurnServer=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.setTurnServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==A.a.DISCONNECTED)throw new Error("Set turn server before join channel");if(t.useProxyServer)throw new Error("You have already set the proxy");r instanceof Array||(r=[r]);var o=[];r.map(function(e,r){Object(D.checkValidObject)(e,"turnServer");var n=e.turnServerURL,i=e.username,s=e.password,c=e.udpport,u=e.forceturn,l=e.tcpport;if(Object(D.checkValidString)(n,"turnServerURL"),Object(D.checkValidString)(i,"username"),Object(D.checkValidString)(s,"password"),Object(D.checkValidString)(c,"udpport"),0===parseInt(c))throw new Error("udpport should not be ".concat(c));Object(D.isEmpty)(u)||Object(D.checkValidBoolean)(u,"forceturn");var d={mode:"manual"};if(d.url=n,d.udpport=c,d.username=i,d.credential=s,d.forceturn=u||!1,!Object(D.isEmpty)(l)){if(Object(D.checkValidString)(l,"tcpport"),0===parseInt(l))throw new Error("tcpport should not be ".concat(l));d.tcpport=l,a.default.info("[".concat(t.clientId,"] Set turnserver[").concat(r,"] tcpurl. ").concat(d.url,":").concat(d.tcpport))}a.default.info("[".concat(t.clientId,"] Set turnserver[").concat(r,"] udpurl. ").concat(d.url,":").concat(d.udpport,",username: ").concat(d.username)),o.push(d)}),t.turnServers=o,n()},t.setProxyServer=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.setProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==A.a.DISCONNECTED)throw new Error("Set proxy server before join channel");if(!r)throw new Error("Do not set the proxyServer parameter as empty");if(t.useProxyServer)throw new Error("You have already set the proxy");Object(D.checkValidString)(r,"proxyServer"),t.proxyServer=r,s.report.setProxyServer(r),a.default.setProxyServer(r),n()},t.startProxyServer=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.startProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==A.a.DISCONNECTED)throw new Error("Start proxy server before join channel");if(t.proxyServer)throw new Error("You have already set the proxy");t.useProxyServer=!0,t.proxyServerType=r||1,n()},t.stopProxyServer=function(){var r=s.report.reportApiInvoke(e.sessionId,{name:"Client.stopProxyServer",options:arguments,tag:"tracer"});if(t.gatewayClient&&t.gatewayClient.state!==A.a.DISCONNECTED)throw new Error("Stop proxy server after leave channel");s.report.setProxyServer(),a.default.setProxyServer(),t.turnServers=[],t.proxyServer=null,t.useProxyServer=!1,t.proxyServerType=null,r()},t.setEncryptionSecret=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionSecret",options:arguments,tag:"tracer"});Object(D.checkValidString)(r,"password"),new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(r)||console.warn("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer,\n      "),t.aespassword=r,n()},t.setEncryptionMode=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.setEncryptionMode",options:arguments,tag:"tracer"});if(Object(D.checkValidString)(r,"encryptionMode"),-1===E.indexOf(r))throw new Error('Invalid encryptionMode: encryptionMode should be "aes-128-xts" | "aes-256-xts" | "aes-128-ecb" | "sm4-128-ecb"');t.aesmode=r,n()},t.configPublisher=function(r){var n=s.report.reportApiInvoke(e.sessionId,{name:"Client.configPublisher",options:arguments,tag:"tracer"});Object(D.checkValidObject)(r,"config");var o=r.width,i=r.height,a=r.framerate,c=r.bitrate,u=r.publisherUrl;Object(D.checkValidNumber)(o,"width"),Object(D.checkValidNumber)(i,"height"),Object(D.checkValidNumber)(a,"framerate"),Object(D.checkValidNumber)(c,"bitrate",1,1e7),u&&Object(D.checkValidString)(u,"publisherUrl"),t.gatewayClient.configPublisher(r),n()},t.enableDualStream=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return n&&n(e);r&&r(t)},name:"Client.enableDualStream",options:arguments,tag:"tracer"});return"iOS"===Object(u.getBrowserOS)()?(s.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),o(R.default.IOS_NOT_SUPPORT)):Object(u.isWeChatBrowser)()?(s.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),o(R.default.WECHAT_NOT_SUPPORT)):(s.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!0}),t.isDualStream=!0,t.highStream&&(t.highStream.isDualStream=!0),void(0===t.highStreamState?t._publishLowStream(function(e){return o(null,e)},function(e){a.default.warning("[".concat(t.clientId,"]"),e),o(R.default.ENABLE_DUALSTREAM_FAILED)}):o(1===t.highStreamState?R.default.STILL_ON_PUBLISHING:null)))},t.disableDualStream=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return n&&n(e);r&&r(t)},name:"Client.disableDualStream",options:arguments,tag:"tracer"});s.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!1,succ:!0}),t.isDualStream=!1,t.highStream&&(t.highStream.isDualStream=!1),0===t.highStreamState?t._unpublishLowStream(function(){t.highStream.lowStream=null,o()},function(e){a.default.warning("[".concat(t.clientId,"]"),e),o(R.default.DISABLE_DUALSTREAM_FAILED)}):1===t.highStreamState?o(R.default.STILL_ON_PUBLISHING):o()},t._getLowStream=function(e,r){t.lowStream?e(t.lowStream):t._createLowStream(function(r){t.lowStream=r,e(t.lowStream)},r)},t._createLowStream=function(e,r){if(t.highStream&&t.highStream.stream){var n=T()({},t.highStream.params);if(n.streamID+=1,n.audio=!1,n.video)if(t.highStream.stream.getVideoTracks()[0]){var o=new g.a(n);o.isLowStream=!0,o.streamId=t.highStream.getId()+1;var i={};t.lowStreamParameter&&(i=T()({},t.lowStreamParameter)),i.width&&i.height||(i.width=160,i.height=120),i.framerate=i.framerate||15,i.bitrate=i.bitrate||50,o.setVideoProfileCustomPlus(i);try{var a=U()(t.highStream,{width:o.videoConstraint.width.ideal,height:o.videoConstraint.height.ideal,framerate:o.videoConstraint.frameRate});return o.stream=a,t.highStream.lowStream=o,t.highStream.userMuteVideo&&o.muteVideo(),e&&e(o)}catch(e){return r&&r(e)}}else r&&r(R.default.HIGH_STREAM_NOT_VIDEO_TRACE);else r&&r(R.default.HIGH_STREAM_NOT_VIDEO_TRACE)}else r&&r(R.default.HIGH_STREAM_NOT_VIDEO_TRACE)},t._publishLowStream=function(e,r){return 2!==t.lowStreamState?r&&r(R.default.LOW_STREAM_ALREADY_PUBLISHED):t.highStream&&t.highStream.hasScreen()?r&&r(R.default.SHARING_SCREEN_NOT_SUPPORT):void t._getLowStream(function(n){t.lowStreamState=1,t.gatewayClient.publish(n,{streamType:1},function(){t.lowStreamState=0,e&&e()},function(e){1===t.lowStreamState&&(t.lowStreamState=2),a.default.debug("[".concat(t.clientId,"] publish low stream failed")),r&&r(e)})},r)},t._unpublishLowStream=function(e,r){if(0!==t.lowStreamState)return r&&r(R.default.LOW_STREAM_NOT_YET_PUBLISHED);t.lowStream&&(t.gatewayClient.unpublish(t.lowStream,{streamType:1},function(){},function(e){a.default.debug("[".concat(t.clientId,"] unpublish low stream failed")),r&&r(e)}),t.lowStream.close(),t.lowStream=null,t.lowStreamState=2,e&&e())},t.join=function(r,n,o,i,c,u){i&&"function"==typeof i&&(u=c,c=i,i=null);var l=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return u&&u(e);c&&c(t)},name:"Client.join",options:arguments,tag:"tracer"});if(r&&!Object(D.isValidToken)(r))return a.default.warning("[".concat(t.clientId,"] Param channelKey should be string")),l(R.default.INVALID_PARAMETER);if(!Object(D.isValidChannelName)(n))return a.default.error("Invalid Channel Name ".concat(n)),a.default.warning("[".concat(t.clientId,"] The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")),l(R.default.INVALID_PARAMETER);if("string"==typeof n&&""===n)return a.default.warning("[".concat(t.clientId,"] Param channel should not be empty")),l(R.default.INVALID_PARAMETER);if(i&&!Object(D.isValidString)(i))return a.default.warning("[".concat(t.clientId,"] optionalInfo should be string")),l(R.default.INVALID_PARAMETER);if(o&&!Object(I.is32Uint)(o)&&!Object(D.isValidString)(o,1,255))return a.default.error("Invalid UID ".concat(o," ").concat(S()(o))),a.default.warning("[".concat(t.clientId,"] [String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]")),l(R.default.INVALID_PARAMETER);if("string"==typeof o&&0==o.length)return a.default.warning("[".concat(t.clientId,"] String uid should not be empty")),l(R.default.INVALID_PARAMETER);if("string"==typeof o&&o.length>256)return a.default.warning("[".concat(t.clientId,"] Length of string uid should be less than 255")),l(R.default.INVALID_PARAMETER);t.highStream=null,t.lowStream=null,t.lowStreamParameter=null,t.isDualStream=!1,t.highStreamState=2,t.lowStreamState=2;var d=Date.now(),g=setTimeout(function(){if(1!=t.gatewayClient.hasJoined){a.default.debug("[".concat(t.clientId,"] The time to join the channel is greater than 5 seconds "));var r=Date.now();s.report.joinChannelTimeOut({lts:r,sid:e.sessionId,cname:n,cid:p&&p.cid,uid:p.uid||("string"==typeof o?void 0:o),elapse:r-d,timeout:5})}},5e3),p={clientId:t.clientId,appId:e.appId,sid:e.sessionId,cname:n,uid:o,turnServers:t.turnServers.concat(),proxyServer:t.proxyServer,token:r||e.appId,useProxyServer:t.useProxyServer,proxyServerType:t.proxyServerType,optionalInfo:i};if("string"==typeof o&&(p.stringUid=o,t.uintUid?(p.uid=t.uintUid,delete t.uintUid):p.uid=0),t.aespassword&&"none"!==t.aesmode&&T()(p,{aespassword:t.aespassword,aesmode:t.aesmode}),s.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),cname:n,appid:e.appId,mode:e.mode,succ:!0}),t.onSuccess=function(e){clearTimeout(g),t.rtcStatsCollector.startNetworkQualityTimer(),t.onSuccess=null,l(null,e)},t.onFailure=function(e){return l(e)},t.channel=n,t.gatewayClient.state!==A.a.DISCONNECTED)return a.default.error("[".concat(t.clientId,"] Client already in connecting/connected state")),l(R.default.INVALID_OPERATION),void s.report.joinGateway(e.sessionId,{lts:Date.now(),succ:!1,ec:R.default.INVALID_OPERATION,addr:null});t.gatewayClient.state=A.a.CONNECTING;var f=function(o,i){a.default.info("[".concat(t.clientId,"] Joining channel: ").concat(n)),t.gatewayClient.dispatchEvent({type:"config-distribute",config:i,joinInfo:p}),t.key=r||e.appId,p.cid=o.cid,p.uid||(p.uid=o.uid),p.vid=o.vid,p.clientId=t.clientId,p.apResponse=o.res,o.uni_lbs_ip&&o.uni_lbs_ip[1]&&(p.uni_lbs_ip=o.uni_lbs_ip[1]),p.gatewayAddr=o.gateway_addr,t.joinInfo=p,t.gatewayClient.join(p,t.key,function(e){a.default.info("[".concat(t.clientId,"] Join channel ").concat(n," success, join with uid: ").concat(e,".")),t.onSuccess=null,t.rtcStatsCollector.startNetworkQualityTimer(),l(null,e)},function(e){return l(e)})};p.stringUid&&!p.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(O.getUserAccount)(p,t.gatewayClient),t.userAccountReq.then(function(e){a.default.debug("getUserAccount Success ".concat(e.url," ").concat(p.stringUid," => ").concat(e.uid)),p.uid=e.uid,Object(O.getGatewayList)(p,f,function(e){return l(e)})}).catch(function(e){a.default.error("getUserAccount rejected",e),l(e)})):Object(O.getGatewayList)(p,f,function(e){return l(e)})},t.renewChannelKey=function(r,n,o){var i=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return o&&o(e);n&&n(t)},name:"Client.renewChannelKey",options:arguments,tag:"tracer"});Object(D.checkValidString)(r,"key",1,2047),void 0===t.key?(a.default.error("[".concat(t.clientId,"] renewChannelKey should not be called before user join")),i(R.default.INVALID_OPERATION)):(t.key=r,t.gatewayClient.joinInfo.token=r,t.gatewayClient.key=r,t.gatewayClient.recover(),i())},t.leave=function(r,n){t.gatewayClient.isFirstSuccess=!0,t.gatewayClient.hasInvokeLeave=!0;var o=!1,c=s.report.reportApiInvoke(e.sessionId,{callback:function(e,o){if(e)return n&&n(e);t.gatewayClient.reconnectingCS=!1,t.gatewayClient.state=A.a.DISCONNECTED,clearTimeout(Object(O._getReconnectCSTimer)(t.clientId)),t._renewSession(),t.rtcStatsCollector.clearNetworkQualityTimer(),r&&r(o)},name:"Client.leave",options:arguments,tag:"tracer"});a.default.info("[".concat(t.clientId,"] Leaving channel")),t.userAccountReq&&!t.userAccountReq.isFinished()&&(t.userAccountReq.cancel(),t.gatewayClient.state===A.a.CONNECTING&&(t.gatewayClient.state=A.a.DISCONNECTED)),t._terminateLiveStreaming(),t.gatewayClient.leave(function(e){o=!0,c(null,e)},c),setTimeout(function(){o||(t.gatewayClient.socket&&(t.gatewayClient.socket.close(),t.gatewayClient.socket=null),t.gatewayClient.state=A.a.DISCONNECTED,c(null,"LEAVE_MSG_TIMEOUT"))},Object(i.getParameter)("LEAVE_MSG_TIMEOUT"))},t._renewSession=function(){var r=Object(I.generateSessionId)();if(a.default.debug("renewSession ".concat(e.sessionId," => ").concat(r)),e.sessionId=r,t.gatewayClient.peerPublishDurationMap.clear(),t.joinInfo&&(t.joinInfo.sid=r),t.gatewayClient&&(t.gatewayClient.joinInfo&&(t.gatewayClient.joinInfo.sid=r),t.gatewayClient.localStreams))for(var n in t.gatewayClient.localStreams){var o=t.gatewayClient.localStreams[n];o&&(o.sid=r)}},t._publish=function(r,n,o,s){if(2!==t.highStreamState)return a.default.warning("[".concat(t.clientId,"] Can't publish stream when stream already publish ").concat(r.getId())),o&&o(R.default.STREAM_ALREADY_PUBLISHED);if(0===t.turnServers.length&&Object(i.getParameter)("FORCE_TURN")&&!Object(i.getParameter)("TURN_ENABLE_TCP")&&!Object(i.getParameter)("TURN_ENABLE_UDP"))throw new Error("force TURN With No TURN Configuration");a.default.info("[".concat(t.clientId,"] Publishing stream, uid ").concat(r.getId())),t.highStream=r,t.highStreamState=1,t.highStream.streamId=t.joinInfo.stringUid||t.joinInfo.uid,t.hasPublished=!1;var c=function(r,n,o){t.gatewayClient.publish(r,{streamType:0},function(){r.sid=e.sessionId,t.highStreamState=0,a.default.info("[".concat(t.clientId,"] Publish success, uid: ").concat(r.getId())),t.highStream&&(t.highStream.isDualStream=t.isDualStream),t.isDualStream?t._publishLowStream(function(){n&&n()},function(e){a.default.warning("[".concat(t.clientId,"] "),e),x.a.replaceWithCanvasTrack(r).then(function(){n&&n()})}):x.a.replaceWithCanvasTrack(r).then(function(){n&&n()})},o)};"audience"!==t.gatewayClient.role||"live"!==t.mode||s?c(r,n,o):t.gatewayClient.setClientRole(V,function(e){if(e)return o&&o(e);c(r,n,o)})},t._unpublish=function(e,r,n,o){if(0!==t.highStreamState)return a.default.warning("[".concat(t.clientId,"] Can't unpublish stream when stream not publish")),n&&n(R.default.STREAM_NOT_YET_PUBLISHED);a.default.info("[".concat(t.clientId,"] Unpublish stream, uid ").concat(e.getId()));var i=function(e,r,n){t.isDualStream&&t.lowStream&&t._unpublishLowStream(null,n),t.gatewayClient.unpublish(e,{streamType:0},function(){t.highStreamState=2,a.default.info("[".concat(t.clientId,"] Unpublish stream success, uid: ").concat(e.getId())),t.gatewayClient.dispatchEvent({type:"stream-unpublished",stream:e}),r&&r()},function(r){a.default.info("[".concat(t.clientId,"] Unpublish stream fail, uid: ").concat(e.getId())),n&&n(r)})};t.gatewayClient.role!==V||"live"!==t.mode||o?i(e,r,n):t.gatewayClient.setClientRole("audience",function(t){if(t)return n&&n(t);i(e,r,n)})},t.publish=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e,r){if(e)return 1===t.highStreamState&&(t.highStreamState=2),n&&n(e)},name:"Client.publish",tag:"tracer",options:{stream:"too long to show",onFailure:!!n}});2===t.highStreamState?r._hasVideoTracks()||r._hasAudioTracks()?(t.gatewayClient.publishRequestId=Object(I.generateId)(),t._publish(r,function(e){return o(null,e)},function(e){return o(e)})):o(R.default.NO_TRACK_IN_STREAM):o(R.default.STREAM_ALREADY_PUBLISHED)},t.unpublish=function(r,n,o){var i=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return n&&n(e);o&&o(t)},name:"Client.unpublish",tag:"tracer",options:{stream:"too long to show",onFailure:!!n}});0===t.highStreamState?(t.gatewayClient.publishRequestId=null,t._unpublish(r,function(e){return i(null,e)},function(e){return i(e)})):i(R.default.STREAM_NOT_YET_PUBLISHED)},t.subscribe=function(r,n,o){var i=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return o&&o(e)},name:"Client.subscribe",tag:"tracer",options:{stream:"too long to show",options:n,onFailure:!!o}});"function"==typeof n&&(o=n,n=null),Object(D.checkValidObject)(r,"stream"),Object(D.isEmpty)(n)||(Object(D.checkValidObject)(n,"options"),Object(D.isEmpty)(n.video)||Object(D.checkValidBoolean)(n.video,"options.video"),Object(D.isEmpty)(n.audio)||Object(D.checkValidBoolean)(n.audio,"options.audio"));var c={video:!0,audio:!0};if(!Object(D.isEmpty)(n)){if(Object(u.isSafari)()&&(!n.video||!n.audio)){var l="SAFARI_NOT_SUPPORTED_FOR_TRACK_SUBSCRIPTION";return a.default.error("[".concat(t.clientId,"] "),l),void i(l)}if(!Object(D.isEmpty)(n.video)&&!Object(D.isValidBoolean)(n.video)||!Object(D.isEmpty)(n.audio)&&!Object(D.isValidBoolean)(n.audio)||!1===n.audio&&!1===n.video)return l="INVALID_PARAMETER ".concat(JSON.stringify(n)),a.default.error("[".concat(t.clientId,"] "),l),void i(l)}r.subscribeOptions?(T()(r.subscribeOptions,c,n),t.gatewayClient.subscribeChange(r,function(e){return i(null,e)},i)):(t.gatewayClient.subscribeRequestId.set(r.getId(),Object(I.generateId)()),r.subscribeOptions=T()({},c,n),t.gatewayClient.subscribe(r,function(e){return i(null,e)},i))},t.unsubscribe=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{callback:function(e,t){if(e)return n&&n(e)},name:"Client.unsubscribe",tag:"tracer",options:{stream:"too long to show",onFailure:!!n}});a.default.info("[".concat(t.clientId,"] Unsubscribe stream, uid: ").concat(r.getId())),t.gatewayClient.subscribeRequestId.delete(r.getId()),t.gatewayClient.unsubscribe(r,function(e){return o(null,e)},o)},t.setRemoteVideoStreamType=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{name:"Client.setRemoteVideoStreamType",tag:"tracer",options:{stream:"too long to show",streamType:n}});Object(D.checkValidEnum)(n,"streamType",[0,1]),t.gatewayClient.setRemoteVideoStreamType(r,n),o()},t.setStreamFallbackOption=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{name:"Client.setStreamFallbackOption",tag:"tracer",options:{stream:"too long to show",fallbackType:n}});Object(D.checkValidEnum)(n,"fallbackType",[0,1,2]),t.gatewayClient.setStreamFallbackOption(r,n),o()},t.enableAudioVolumeIndicator=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{name:"Client.enableAudioVolumeIndicator",options:arguments,tag:"tracer"});r=r||2e3,n=n||3,Object(D.checkValidNumber)(n,"smooth",1,100),Object(D.checkValidNumber)(r,"interval",50,1e5),t.audioVolumeIndication=t.audioVolumeIndication||{enabled:!0},t.audioVolumeIndication.interval=r,t.audioVolumeIndication.smooth=n,t.audioVolumeIndication={interval:r,smooth:n},a.default.info("[".concat(t.clientId,"] enableAudioVolumeIndicator interval ").concat(r," smooth ").concat(n)),t.gatewayClient.enableAudioVolumeIndicator(r,n),o()},t.getNetworkStats=function(e,r){return a.default.deprecate("[".concat(t.clientId,"] client.getNetworkStats is deprecated. Use client.getTransportStats instead.")),P.getStats(e,r)},t.getSystemStats=function(e,t){return d.getStats(e,t)},t.getRecordingDevices=function(e,t){return p.a.getRecordingDevices(e,t)},t.getPlayoutDevices=function(e,t){return p.a.getPlayoutDevices(e,t)},t.getCameras=function(e,t){return p.a.getCameras(e,t)},t.getRemoteAudioStats=function(e,r){return t.rtcStatsCollector.getRemoteAudioStats(e,r)},t.getLocalAudioStats=function(e,r){return t.rtcStatsCollector.getLocalAudioStats(e,r)},t.getRemoteVideoStats=function(e,r){return t.rtcStatsCollector.getRemoteVideoStats(e,r)},t.getLocalVideoStats=function(e,r){return t.rtcStatsCollector.getLocalVideoStats(e,r)},t._getRemoteVideoQualityStats=function(e,r){return t.rtcStatsCollector.getRemoteVideoQualityStats(e,r)},t._getRemoteAudioQualityStats=function(e,r){return t.rtcStatsCollector.getRemoteAudioQualityStats(e,r)},t.getTransportStats=function(e,r){return t.rtcStatsCollector.getTransportStats(function(t){return P.getStats(function(r){var n=T()({},t,r);e&&e(n)},r)},r)},t.getSessionStats=function(e,r){return t.rtcStatsCollector.getSessionStats(e,r)},t.onNetworkQuality=function(){return t.rtcStatsCollector.onNetworkQuality(onSuccess,onFailure)},t.sendMetadata=function(r,n){var o=s.report.reportApiInvoke(e.sessionId,{name:"Client.sendMetadata",tag:"tracer",callback:function(e){if(e)return n&&n(e);n&&n()}});t.gatewayClient.sendMetadata(r,o)},t.sendCustomReportMessage=function(r,n,o,c,u,l){Object(i.getParameter)("CR")?t.customReportCount>Object(i.getParameter)("CRL")?l&&l("REPORT_LIMITED"):(t.gatewayClient.hasJoined||(a.default.WARNING("Should invoke Client.sendCustomReportMessage after join"),l&&l("REPORT_BEFORE_JOINED")),t.customReportTimer||(t.customReportTimer=setInterval(function(){t.customReportCount=0},Object(i.getParameter)("CRI"))),Object(D.checkValidString)(r,"reportId",0,100,!1),Object(D.checkValidString)(n,"category",0,100,!1),Object(D.checkValidString)(o,"event",0,100,!1),Object(D.checkValidString)(c,"label",0,100,!1),Object(D.checkValidNumber)(u,"value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),t.customReportCount++,s.report.sendCustomReportMessage(e.sessionId,{reportId:r,category:n,event:o,label:c,value:u,lts:Date.now()},function(e){e?l&&l("REPORT_FAILED"):l&&l()})):l&&l("REPORT_FORBIDDEN")},e.clientId=t.clientId,t.gatewayClient=Object(A.a)(e),t.listenerLoggerTimer=null,t.listenerLoggerCache=[],t.on=function(e,r){t.gatewayClient.on(e,r),t.listenerLoggerCache.push("".concat(e).concat(r.name?":"+r.name:"")),t.listenerLoggerTimer?clearTimeout(t.listenerLoggerTimer):a.default.info("[".concat(t.clientId,"] Adding event handler on ").concat(e)),t.listenerLoggerTimer=setTimeout(function(){t.listenerLoggerCache.length&&(t.listenerLoggerTimer=null,a.default.info("[".concat(t.clientId,"] Added event handler on ").concat(t.listenerLoggerCache.join(", "))),t.listenerLoggerCache=[])},0)},t.off=function(e,r){a.default.info("remove event handler from [".concat(e,"]")),t.gatewayClient.removeEventListener(e,r)},t.rtcStatsCollector=function(e){var t=Object(c.b)();return t.gatewayClient=e,t.exceptionMonitor=new L(e),t.localStats={},t.remoteStats={},t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0},t.getRemoteAudioStats=function(e){var r=t.gatewayClient.traffic_stats,n={};for(var o in t.remoteStats){var i={},a=t.remoteStats[o];if(Object(w.b)(i,"End2EndDelay",a.peer_delay&&a.peer_delay.audio_delay),Object(w.b)(i,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),Object(w.b)(i,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_audio_lost_ratio_400ms),Object(w.b)(i,"RecvLevel",a.audioStats&&a.audioStats.audioOutputLevel),Object(w.b)(i,"RecvBitrate",a.audioRecvBitrate),Object(w.b)(i,"CodecType",a.audioStats&&a.audioStats.googCodecName),Object(w.b)(i,"MuteState",a.audioDisabled),Object(w.b)(i,"TotalFreezeTime",a.audioStats&&a.audioStats.audioTotalFreezeTime),Object(w.b)(i,"TotalPlayDuration",a.audioStats&&a.audioStats.audioTotalPlayDuration),r&&r.peer_delay){var s=r.peer_delay.find(function(e){return e.peer_uid==o});if(s){var c=s.peer_publish_audio_duration+(Date.now()-r.timestamp);Object(w.b)(i,"AudioPublishDuration",c)}else Object(w.b)(i,"AudioPublishDuration",-1)}n[o]=i}e&&e(n)},t.getLocalAudioStats=function(e){var r={};for(var n in t.localStats){var o={},i=t.localStats[n];Object(w.b)(o,"RecordingLevel",i.audioStats&&i.audioStats.audioInputLevel),Object(w.b)(o,"SendLevel",i.audioStats&&i.audioStats.totalAudioEnergy),Object(w.b)(o,"SamplingRate",i.audioStats&&i.audioStats.totalSamplesDuration),Object(w.b)(o,"SendBitrate",i.audioSendBitrate),Object(w.b)(o,"CodecType",i.audioStats&&i.audioStats.googCodecName),Object(w.b)(o,"MuteState",i.audioDisabled),Object(w.b)(o,"audioSendPacketsLost",i.audioStats&&i.audioStats.packetsLost);var a=t.gatewayClient.localStreams[n];a&&a.isPlaying()&&Object(w.b)(o,"MuteState",a.userMuteAudio?"1":"0"),r[n]=o}e&&e(r)},t.getRemoteVideoStats=function(e){var r=t.gatewayClient.traffic_stats,n={};for(var o in t.remoteStats){var i={},a=t.remoteStats[o];if(Object(w.b)(i,"End2EndDelay",a.peer_delay&&a.peer_delay.video_delay),Object(w.b)(i,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),Object(w.b)(i,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_video_lost_ratio_400ms),Object(w.b)(i,"RecvBitrate",a.videoRecvBitrate),Object(w.b)(i,"RecvResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthReceived),Object(w.b)(i,"RecvResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightReceived),Object(w.b)(i,"RenderResolutionWidth",a.videoStats&&a.videoStats.renderRemoteWidth),Object(w.b)(i,"RenderResolutionHeight",a.videoStats&&a.videoStats.renderRemoteHeight),Object(w.b)(i,"RenderFrameRate",a.videoStats&&a.videoStats.googFrameRateOutput),Object(w.b)(i,"MuteState",a.videoDisabled),Object(w.b)(i,"TotalFreezeTime",a.videoStats&&a.videoStats.videoTotalFreezeTime),Object(w.b)(i,"TotalPlayDuration",a.videoStats&&a.videoStats.videoTotalPlayDuration),r&&r.peer_delay){var s=r.peer_delay.find(function(e){return e.peer_uid==o});if(s){var c=s.peer_publish_video_duration+(Date.now()-r.timestamp);Object(w.b)(i,"VideoPublishDuration",c)}else Object(w.b)(i,"VideoPublishDuration",-1)}n[o]=i}e&&e(n)},t.getLocalVideoStats=function(e){var r={};for(var n in t.localStats){var o={},i=t.localStats[n];Object(w.b)(o,"TargetSendBitrate",i.videoTargetSendBitrate),Object(w.b)(o,"SendFrameRate",i.videoStats&&i.videoStats.googFrameRateSent),Object(w.b)(o,"SendBitrate",i.videoSendBitrate),Object(w.b)(o,"SendResolutionWidth",i.videoStats&&i.videoStats.googFrameWidthSent),Object(w.b)(o,"SendResolutionHeight",i.videoStats&&i.videoStats.googFrameHeightSent),Object(w.b)(o,"CaptureResolutionWidth",i.videoStats&&i.videoStats.googFrameWidthInput),Object(w.b)(o,"CaptureResolutionHeight",i.videoStats&&i.videoStats.googFrameHeightInput),Object(w.b)(o,"EncodeDelay",i.videoStats&&i.videoStats.googAvgEncodeMs),Object(w.b)(o,"MuteState",i.videoDisabled),Object(w.b)(o,"TotalFreezeTime",i.videoStats&&i.videoStats.videoTotalFreezeTime),Object(w.b)(o,"TotalDuration",i.videoStats&&i.videoStats.videoTotalPlayDuration),Object(w.b)(o,"CaptureFrameRate",i.videoStats&&i.videoStats.googFrameRateSent),Object(w.b)(o,"videoSendPacketsLost",i.videoStats&&i.videoStats.packetsLost),i.videoStats&&!i.videoStats.googFrameWidthInput&&Object(w.b)(o,"CaptureResolutionWidth",i.videoStats&&i.videoStats.renderLocalWidth),i.videoStats&&!i.videoStats.googFrameHeightInput&&Object(w.b)(o,"CaptureResolutionHeight",i.videoStats&&i.videoStats.renderLocalHeight),r[n]=o}e&&e(r)},t.getRemoteVideoQualityStats=function(e){var r={};for(var n in t.remoteStats){var o={},i=t.remoteStats[n];Object(w.b)(o,"videoReceiveDelay",i.videoStats&&i.videoStats.googCurrentDelayMs),Object(w.b)(o,"VideoFreezeRate",i.videoStats&&i.videoStats.videoFreezeRate),Object(w.b)(o,"FirstFrameTime",i.firstFrameTime),r[n]=o}e&&e(r)},t.getRemoteAudioQualityStats=function(e){var r={};for(var n in t.remoteStats){var o={},i=t.remoteStats[n];Object(w.b)(o,"audioReceiveDelay",i.audioStats&&i.audioStats.googCurrentDelayMs),Object(w.b)(o,"AudioFreezeRate",i.videoStats&&i.videoStats.videoFreezeRate),r[n]=o}e&&e(r)},t.getTransportStats=function(e){var r={},o={},i=t.gatewayClient.traffic_stats,a=i.peer_delay;if(Object(w.b)(r,"OutgoingAvailableBandwidth",t.gatewayClient.OutgoingAvailableBandwidth/1e3),Object(w.b)(r,"RTT",i&&2*i.access_delay),a){var s,c=n(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;u.downlink_estimate_bandwidth&&(o[u.peer_uid]=u.downlink_estimate_bandwidth/1e3+"")}}catch(e){c.e(e)}finally{c.f()}}r.IncomingAvailableBandwidth=o,e&&e(r)},t.getSessionStats=function(e){var r={},n=t.gatewayClient.traffic_stats,o=t.gatewayClient.socket,i=0,a=0;for(var s in t.remoteStats)(c=t.remoteStats[s])&&c.videoStats&&c.videoStats.videoRecvBytesDelta&&(a+=parseInt(c.videoStats.videoRecvBytesDelta)),c&&c.audioStats&&c.audioStats.audioRecvBytesDelta&&(a+=parseInt(c.audioStats.audioRecvBytesDelta));for(var s in t.localStats){var c;(c=t.localStats[s])&&c.videoStats&&c.videoStats.videoSendBytesDelta&&(i+=parseInt(c.videoStats.videoSendBytesDelta)),c&&c.audioStats&&c.audioStats.audioSendBytesDelta&&(i+=parseInt(c.audioStats.audioSendBytesDelta))}var u=i+t.session.WSSendBytesDelta+t.session.HTTPSendBytesDelta,l=a+t.session.WSRecvBytesDelta+t.session.HTTPRecvBytesDelta,d=t.session.sendBytes+Object(C.getHTTPSendBytes)(),g=t.session.recvBytes+Object(C.getHTTPRecvBytes)();t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED&&(d+=o.getSendBytes(),g+=o.getRecvBytes());var p=1;n.peer_delay&&(p=n.peer_delay.length,p+=1),o?Object(w.b)(r,"Duration",o.getDuration()):Object(w.b)(r,"Duration",0),Object(w.b)(r,"UserCount",p),Object(w.b)(r,"SendBytes",d),Object(w.b)(r,"RecvBytes",g),Object(w.b)(r,"SendBitrate",8*u/1e3),Object(w.b)(r,"RecvBitrate",8*l/1e3),e&&e(r)},t.isLocalVideoFreeze=function(e,t){var r=0,n=0;if(!e||!t)return!1;if(Object(u.isChrome)()||Object(u.isOpera)())r=e.googFrameRateInput,n=e.googFrameRateSent;else if(Object(u.isSafari)())r=parseInt(e.framerateMean),n=parseInt(e.framesEncoded)-parseInt(t.framesEncoded);else{if(!Object(u.isFireFox)())return!1;r=parseInt(e.framerateMean),n=parseInt(e.framesEncoded)-parseInt(t.framesEncoded)}return r>5&&n<3},t.isRemoteVideoFreeze=function(e,t){var r=0,n=0;if(!e||!t)return!1;if(Object(u.isChrome)()||Object(u.isOpera)())r=e.googFrameRateReceived,n=e.googFrameRateDecoded;else if(Object(u.isSafari)())r=e.framerateMean,n=parseInt(e.framesDecoded)-parseInt(t.framesDecoded);else{if(!Object(u.isFireFox)())return!1;r=parseInt(e.framesReceived)-parseInt(t.framesReceived),n=parseInt(e.framesDecoded)-parseInt(t.framesDecoded)}return r>5&&r<10&&n<3||r>10&&r<20&&n<4||r>20&&n<5},t.isAudioFreeze=function(e){if(Object(u.isChrome)()&&e){if(e.googDecodingPLC&&e.googDecodingPLCCNG&&e.googDecodingCTN)return(parseInt(e.googDecodingPLC)+parseInt(e.googDecodingPLCCNG))/parseInt(e.googDecodingCTN)>.2}else if((Object(u.isSafari)()||Object(u.isFireFox)())&&e.packetsLost&&e.packetsReceived)return parseInt(e.packetsLost)/(parseInt(e.packetsLost)+parseInt(e.packetsReceived))>.2;return!1},t.isAudioDecodeFailed=function(e){return!!((Object(u.isChrome)()||Object(u.isOpera)())&&e&&parseInt(e.bytesReceived)>0&&0===parseInt(e.googDecodingNormal))},t.startNetworkQualityTimer=function(){t.clearNetworkQualityTimer(),t.networkQualityTimer=setInterval(function(){if(t.gatewayClient.state===A.a.CONNECTED&&navigator.onLine){var e=t.gatewayClient.traffic_stats;t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:t.networkQualityTrans(e.uplink_network_quality),downlinkNetworkQuality:t.networkQualityTrans(e.downlink_network_quality)})}else t.gatewayClient.dispatchEvent({type:"network-quality",uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3)},t.clearNetworkQualityTimer=function(){t.networkQualityTimer&&clearInterval(t.networkQualityTimer)},t.networkQualityTrans=function(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0},t.getStatsTimer=setInterval(function(){var e=t.gatewayClient.traffic_stats,r=Date.now();t.gatewayClient.dispatchEvent({type:"_testException"}),Object.keys(t.localStats).length&&t.exceptionMonitor.setLocalStats(t.localStats),Object.keys(t.remoteStats).length&&t.exceptionMonitor.setRemoteStats(t.remoteStats);var n={};Object.keys(t.gatewayClient.remoteStreams).forEach(function(o){var i=t.gatewayClient.remoteStreams[o],a=t.remoteStats[o],s={id:o,updatedAt:r};n[o]=s,s.firstFrameTime=i.firstFrameTime,a?(s.audioTotalPlayDuration=a.audioTotalPlayDuration+1,s.audioTotalFreezeTime=a.audioTotalFreezeTime,s.isAudioFreeze=!1,s.isAudioDecodeFailed=!1,s.videoTotalPlayDuration=a.videoTotalPlayDuration+1,s.videoTotalFreezeTime=a.videoTotalFreezeTime,s.isVideoFreeze=!1):(s.audioTotalPlayDuration=1,s.audioTotalFreezeTime=0,s.videoTotalPlayDuration=1,s.videoTotalFreezeTime=0);var c=e&&e.peer_delay&&e.peer_delay.find(function(e){return e.peer_uid==o});c&&(s.peer_delay=c),i&&(i.isPlaying()&&(s.audioDisabled=i.userMuteAudio||i.peerMuteAudio?"1":"0",s.videoDisabled=i.userMuteVideo||i.peerMuteVideo?"1":"0"),a&&a.peer_delay&&c&&a.peer_delay.stream_type!==c.stream_type&&t.gatewayClient.dispatchEvent({type:"streamTypeChange",uid:o,streamType:c.stream_type}),i.pc&&"established"==i.pc.state&&i.pc.getStats(function(e){if(s.pcStats=e,s.audioStats=e.find(function(e){return"audio"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)}),s.videoStats=e.find(function(e){return"video"==e.mediaType&&(e.id.indexOf("_recv")>-1||e.id.toLowerCase().indexOf("inbound")>-1)}),a&&a.audioStats&&s.audioStats){var r=parseInt(s.audioStats.bytesReceived)-parseInt(a.audioStats.bytesReceived),n=parseInt(s.audioStats.googDecodingNormal)-parseInt(a.audioStats.googDecodingNormal);if(s.audioStats.audioRecvBytesDelta=r,s.audioStats.audioDecodingNormalDelta=n,t.session.recvBytes+=r,isFinite(r)&&s.audioStats.timestamp){var o=s.audioStats.timestamp.getTime()-a.audioStats.timestamp.getTime();s.audioRecvBitrate=Math.floor(8*r/o)}t.isAudioFreeze(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.audioTotalFreezeTime++,s.isAudioFreeze=!0),t.isAudioDecodeFailed(s.audioStats)&&s.audioTotalPlayDuration>10&&(s.isAudioDecodeFailed=!0),s.audioStats.audioTotalFreezeTime=s.audioTotalFreezeTime,s.audioStats.audioTotalPlayDuration=s.audioTotalPlayDuration,s.audioStats.audioFreezeRate=Math.ceil(100*s.audioTotalFreezeTime/s.audioTotalPlayDuration)}if(a&&a.videoStats&&s.videoStats){var c=parseInt(s.videoStats.bytesReceived)-parseInt(a.videoStats.bytesReceived);s.videoStats.videoRecvBytesDelta=c,t.session.recvBytes+=c,isFinite(c)&&s.videoStats.timestamp&&(o=s.videoStats.timestamp.getTime()-a.videoStats.timestamp.getTime(),s.videoRecvBitrate=Math.floor(8*c/o)),t.isRemoteVideoFreeze(s.videoStats,a.videoStats)&&(s.videoTotalFreezeTime++,s.isVideoFreeze=!0),s.videoStats.videoTotalFreezeTime=s.videoTotalFreezeTime,s.videoStats.videoTotalPlayDuration=s.videoTotalPlayDuration,s.videoStats.videoFreezeRate=Math.ceil(100*s.videoTotalFreezeTime/s.videoTotalPlayDuration),i.player&&i.player.video&&i.player.video.videoWidth&&i.player.video.videoHeight?(s.videoStats.renderRemoteWidth=i.player.video.videoWidth,s.videoStats.renderRemoteHeight=i.player.video.videoHeight):(s.videoStats.renderRemoteWidth=i.videoWidth||s.videoStats.googFrameWidthReceived,s.videoStats.renderRemoteHeight=i.videoHeight||s.videoStats.googFrameHeightReceived)}}))}),t.remoteStats=n;var o={};if(Object.keys(t.gatewayClient.localStreams).forEach(function(e){var n=t.gatewayClient.localStreams[e],i=t.localStats[e],a={id:e,updatedAt:r};o[e]=a,i?(a.videoTotalPlayDuration=i.videoTotalPlayDuration+1,a.videoTotalFreezeTime=i.videoTotalFreezeTime,a.isVideoFreeze=!1):(a.videoTotalPlayDuration=1,a.videoTotalFreezeTime=0),n&&(n.isPlaying()&&(a.audioDisabled=n.userMuteAudio?"1":"0",a.videoDisabled=n.userMuteVideo?"1":"0"),n.video&&n.attributes.maxVideoBW?a.videoTargetSendBitrate=n.attributes.maxVideoBW:n.video&&n.screenAttributes&&(a.videoTargetSendBitrate=n.screenAttributes.maxVideoBW),n.pc&&"established"==n.pc.state&&n.pc.getStats(function(e){if(a.pcStats=e.reverse(),a.audioStats=e.find(function(e){return"audio"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)}),a.videoStats=e.find(function(e){return"video"==e.mediaType&&(e.id.indexOf("_send")>-1||e.id.toLowerCase().indexOf("outbound")>-1)}),a.audioStats&&i&&i.audioStats){var r=parseInt(a.audioStats.bytesSent)-parseInt(i.audioStats.bytesSent);if(a.audioStats.audioSendBytesDelta=r,t.session.sendBytes+=r,isFinite(r)&&a.audioStats.timestamp){var o=a.audioStats.timestamp.getTime()-i.audioStats.timestamp.getTime();a.audioSendBitrate=Math.floor(8*r/o)}}if(a.videoStats&&i&&i.videoStats){var s=parseInt(a.videoStats.bytesSent)-parseInt(i.videoStats.bytesSent);a.videoStats.videoSendBytesDelta=s,t.session.sendBytes+=s,isFinite(s)&&a.videoStats.timestamp&&(o=a.videoStats.timestamp.getTime()-i.videoStats.timestamp.getTime(),a.videoSendBitrate=Math.floor(8*s/o)),t.isLocalVideoFreeze(a.videoStats,i.videoStats)&&(a.videoTotalFreezeTime++,a.isVideoFreeze=!0),a.videoStats.videoTotalFreezeTime=a.videoTotalFreezeTime,a.videoStats.videoTotalPlayDuration=a.videoTotalPlayDuration,a.videoStats.videoFreezeRate=Math.ceil(100*a.videoTotalFreezeTime/a.videoTotalPlayDuration),a.videoStats.renderLocalWidth=n.videoWidth||a.videoStats.googFrameWidthSent,a.videoStats.renderLocalHeight=n.videoHeight||a.videoStats.googFrameHeightSent}}))}),t.localStats=o,t.session.HTTPSendBytesDelta=Object(C.getHTTPSendBytes)()-t.session.HTTPSendBytes,t.session.HTTPSendBytes=Object(C.getHTTPSendBytes)(),t.session.HTTPRecvBytesDelta=Object(C.getHTTPRecvBytes)()-t.session.HTTPRecvBytes,t.session.HTTPRecvBytes=Object(C.getHTTPRecvBytes)(),t.gatewayClient.socket&&t.gatewayClient.socket.state===t.gatewayClient.CONNECTED){var i=t.gatewayClient.socket;t.session.WSSendBytesDelta=i.getSendBytes()-t.session.WSSendBytes,t.session.WSSendBytes=i.getSendBytes(),t.session.WSRecvBytesDelta=i.getRecvBytes()-t.session.WSRecvBytes,t.session.WSRecvBytes=i.getRecvBytes()}},1e3),t.gatewayClient.on("join",function(){t.session={sendBytes:0,recvBytes:0,WSSendBytes:0,WSSendBytesDelta:0,WSRecvBytes:0,WSRecvBytesDelta:0,HTTPSendBytes:0,HTTPSendBytesDelta:0,HTTPRecvBytes:0,HTTPRecvBytesDelta:0}}),t}(t.gatewayClient),t.configDistributManager=function(e){var t={};return t.client=e,t.client.gatewayClient&&t.client.gatewayClient.on("config-distribute",function(r){var n=r.joinInfo,o=r.config;if(o){Object(D.isEmpty)(o.uploadLog)||(Object(i.setParameter)("UPLOAD_LOG",o.uploadLog),s.report.reportApiInvoke(n.sid,{name:"_configDistribute",options:{feature:"uploadLog",value:o.uploadLog}})()),Object(D.isEmpty)(o.dualStream)||(e.isDualStream=o.dualStream,s.report.reportApiInvoke(n.sid,{name:"_configDistribute",options:{feature:"dualStream",value:o.dualStream}})()),Object(D.isEmpty)(o.streamFallbackOption)||t.client.gatewayClient&&t.client.gatewayClient.on("stream-subscribed",function(e){var r=e.stream;r?(t.client.gatewayClient.setStreamFallbackOption(r,o.streamFallbackOption),s.report.reportApiInvoke(n.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:o.streamFallbackOption,streamId:r.getId()}})()):s.report.reportApiInvoke(n.sid,{name:"_configDistribute",options:{feature:"streamFallbackOption",value:o.streamFallbackOption,streamId:r.getId(),err:"invalid stream"}})()});try{a.default.debug("[".concat(e.clientId,"] setParameter in distribution: ").concat(JSON.stringify(o))),Object.keys(o).map(function(e){return Object(i.setParameter)(e,o[e])})}catch(t){a.default.debug("[".concat(e.clientId,"] setParameter in distribution failed: ").concat(JSON.stringify(o)))}}}),t}(t),Object(k.addLiveStreamingCapability)(t,e),e.areaCode){Object(i.setParameter)("AREA_SETTING",e.areaCode);var r=Object(B.getAreaDomainConfig)(e.areaCode);Object.keys(r).map(function(e){"LOG_UPLOAD_SERVER"==e||"EVENT_REPORT_DOMAIN"==e||"EVENT_REPORT_BACKUP_DOMAIN"==e?Object(i.setParameter)(e,r[e][0]):Object(i.setParameter)(e,r[e])})}return Object(D.isEmpty)(e.turnServer)||t.setTurnServer(e.turnServer),Object(D.isEmpty)(e.proxyServer)||t.setProxyServer(e.proxyServer),"live"===t.mode&&(t.gatewayClient.role="audience"),"rtc"===t.mode&&(t.gatewayClient.role=V),t.gatewayClient.on("onMultiIP",function(e){t.gatewayClient.closeGateway(),t.gatewayClient.socket=void 0,t.gatewayClient.hasChangeBGPAddress=!0,t.joinInfo.multiIP=e.option,t.gatewayClient.state=A.a.CONNECTING;var r=function(e){a.default.info("[".concat(t.clientId,"] Joining channel: ").concat(t.channel)),t.joinInfo.cid=e.cid,t.joinInfo.uid||(t.joinInfo.uid=e.uid),t.joinInfo.uni_lbs_ip=e.uni_lbs_ip,t.joinInfo.gatewayAddr=e.gateway_addr,t.onSuccess?t.gatewayClient.join(t.joinInfo,t.key,function(e){a.default.info("[".concat(t.clientId,"] Join channel ").concat(t.channel," success"));var r=t.onSuccess;t.onSuccess=null,t.onFailure=null,r(e)},t.onFailure):(t.gatewayClient.joinInfo=T()({},t.joinInfo),t.gatewayClient.rejoin())};t.joinInfo.stringUid&&!t.joinInfo.uid?(t.userAccountReq&&!t.userAccountReq.isFinished()&&t.userAccountReq.cancel(),t.userAccountReq=Object(O.getUserAccount)(joinInfo,t.gatewayClient),t.userAccountReq.then(function(e){a.default.error("getUserAccount Success ".concat(e.url," ").concat(joinInfo.stringUid," => ").concat(e.uid)),t.joinInfo.uid=e.uid,Object(O.getGatewayList)(t.joinInfo,r,t.onFailure)}).catch(function(e){a.default.error("getUserAccount rejected",e),t.onFailure(e)})):Object(O.getGatewayList)(t.joinInfo,r,t.onFailure)}),t.gatewayClient.on("rejoin-start",function(){t._renewSession(),s.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{rejoin:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})}),t.gatewayClient.on("recover",function(){t._renewSession(),console.log("recover",e.sessionId),s.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),extend:{recover:!0},cname:t.channel,appid:e.appId,mode:e.mode,succ:!0})}),t.gatewayClient.on("rejoin",function(){var e=t.highStreamState;if(a.default.debug("[".concat(t.clientId,"] Client local stream preState: ").concat(e)),t.onSuccess){var r=t.onSuccess;t.onSuccess=null,t.onFailure=null,r(t.joinInfo.uid)}!t.highStream||0!==e&&1!==e||(a.default.info("[".concat(t.clientId,"] publish after rejoin")),t.highStreamState=2,t.lowStreamState=2,t.publish(t.highStream,function(e){e&&a.default.info("[".concat(t.clientId,"] "),e)}))}),t.gatewayClient.on("streamPublished",function(e){t.hasPublished||(t.hasPublished=!0,t.gatewayClient.dispatchEvent(Object(c.e)({type:"stream-published",stream:e.stream})))}),t.gatewayClient.on("pubP2PLost",function(e){a.default.debug("[".concat(t.clientId,"] Start reconnect local peerConnection: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:t.highStream.getId()}),1===t.highStreamState&&(t.highStreamState=0,t.lowStreamState=0),t._unpublish(t.highStream,function(){t._publish(t.highStream,function(){a.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection success: ").concat(t.highStream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!0,reason:""})},function(e){a.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})},!0)},function(e){a.default.debug("[".concat(t.clientId,"] Reconnect local peerConnection failed: ").concat(e)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:t.highStream.getId(),success:!1,reason:e})},!0)}),t.gatewayClient.on("subP2PLost",function(e){a.default.debug("[".concat(t.clientId,"] Start reconnect remote peerConnection: ").concat(e.stream.getId()," ").concat(e.stream.subscribeOptions)),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",uid:e.stream.getId()});var r=e.stream.subscribeOptions;console.log("Re-subscribe stream",r,e.stream),t.gatewayClient.unsubscribe(e.stream,function(){e.stream.subscribeOptions=r,t.gatewayClient.subscribe(e.stream,function(){a.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection success: ").concat(e.stream.getId())),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!0,reason:""})},function(r){a.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),r),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:r})})},function(r){a.default.debug("[".concat(t.clientId,"] Reconnect remote peerConnection failed: "),r),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",uid:e.stream.getId(),success:!1,reason:r})})}),P.on("networkTypeChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var r=T()({},e,{type:"network-type-changed"});t.gatewayClient.dispatchEvent(r)}),p.a.on("recordingDeviceChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var r=T()({},e,{type:"recording-device-changed"});t.gatewayClient.dispatchEvent(r)}),p.a.on("playoutDeviceChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var r=T()({},e,{type:"playout-device-changed"});t.gatewayClient.dispatchEvent(r)}),p.a.on("cameraChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e);var r=T()({},e,{type:"camera-changed"});t.gatewayClient.dispatchEvent(r)}),t.gatewayClient.on("streamTypeChange",function(r){var n=T()({},r,{type:"stream-type-changed"});t.gatewayClient.dispatchEvent(n),s.report.reportApiInvoke(e.sessionId,{name:"streamTypeChange"})(null,JSON.stringify(r))}),t},F={width:640,height:360,videoBitrate:400,videoFramerate:15,lowLatency:!1,audioSampleRate:48e3,audioBitrate:48,audioChannels:1,videoGop:30,videoCodecProfile:100,userCount:0,userConfigExtraInfo:{},backgroundColor:0,transcodingUsers:[]},W=function(e){switch(e){case"h264_interop":return"h264";default:return"vp8"}},H=function(e){return-1===v.indexOf(e.mode)?R.default.INVALID_CLIENT_MODE:-1===y.indexOf(e.codec)?R.default.INVALID_CLIENT_CODEC:"h264_interop"==e.mode&&"h264"!==e.codec&&R.default.CLIENT_MODE_CODEC_MISMATCH},G=function(e){switch(e.mode){case"interop":case"h264_interop":e.mode="live";break;case"web-only":e.mode="rtc"}},q=p.a.getDevices,z=f.a.getScreenSources,Y=JSON.parse(JSON.stringify(i.SUPPORT_RESOLUTION_LIST));t.default={TranscodingUser:{uid:0,x:0,y:0,width:0,height:0,zOrder:0,alpha:1},LiveTranscoding:F,createClient:function(e){var t=s.report.reportApiInvoke(null,{name:"createClient",options:arguments,tag:"tracer"});(e=T()({},e||{})).codec||(e.codec=W(e.mode));var r=H(e);if(r)throw a.default.error("Invalid parameter setting MODE: ".concat(e.mode," CODEC: ").concat(e.codec," ERROR ").concat(r)),t(r),new Error(r);return a.default.info("Creating client, MODE: ".concat(e.mode," CODEC: ").concat(e.codec)),G(e),t(null,e),$(e)},createStream:g.b,Logger:a.default,report:s.report,getDevices:q,getScreenSources:z,getParameter:i.getParameter,setParameter:i.setParameter,checkSystemRequirements:function(){var e=s.report.reportApiInvoke(null,{name:"checkSystemRequirements",options:arguments,tag:"tracer"}),t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket,o=!!t&&!!r&&!!n,i=!1;u.isChrome()&&u.getBrowserVersion()>=58&&"iOS"!==u.getBrowserOS()&&(i=!0),u.isFireFox()&&u.getBrowserVersion()>=56&&(i=!0),u.isOpera()&&u.getBrowserVersion()>=45&&(i=!0),u.isSafari()&&u.getBrowserVersion()>=11&&(i=!0),u.isEdge()&&(i=!0),(u.isWeChatBrowser()||u.isQQBrowser())&&"iOS"!==u.getBrowserOS()&&(i=!0),u.isSupportedPC()||u.isSupportedMobile()||(i=!1),a.default.debug(u.getBrowserInfo(),"isAPISupport: "+o+", isVendorAndVersionSupport: "+i);var c=o&&i;return e(null,c),c},getSupportedCodec:h.getSupportedCodec,ChannelMediaRelayConfiguration:m.ChannelMediaRelayConfiguration,VERSION:i.VERSION,BUILD:i.BUILD,PROFILE_TABLE:Y,AUDIO_SAMPLE_RATE_32000:32e3,AUDIO_SAMPLE_RATE_44100:44100,AUDIO_SAMPLE_RATE_48000:48e3,VIDEO_CODEC_PROFILE_BASELINE:66,VIDEO_CODEC_PROFILE_MAIN:77,VIDEO_CODEC_PROFILE_HIGH:100,REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2,AREAS:B.AREAS,AREA_VERSION:"global"}}]).default})},function(e,t){/**
 * @license AngularJS v1.8.2
 * (c) 2010-2020 Google LLC. http://angularjs.org
 * License: MIT
 */
!function(e){"use strict";function t(e){if(!S(e))return vo;_(e.objectMaxDepth)&&(vo.objectMaxDepth=r(e.objectMaxDepth)?e.objectMaxDepth:NaN),_(e.urlErrorParamsEnabled)&&k(e.urlErrorParamsEnabled)&&(vo.urlErrorParamsEnabled=e.urlErrorParamsEnabled)}function r(e){return A(e)&&e>0}function n(e,t){t=t||Error;var r="https://errors.angularjs.org/1.8.2/",n=r.replace(".","\\.")+"[\\s\\S]*",o=new RegExp(n,"g");return function(){var n,i,a=arguments[0],s=arguments[1],c="["+(e?e+":":"")+a+"] ",u=Y(arguments,2).map(function(e){return Re(e,vo.objectMaxDepth)});if(c+=s.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<u.length?u[t].replace(o,""):e}),c+="\n"+r+(e?e+"/":"")+a,vo.urlErrorParamsEnabled)for(i=0,n="?";i<u.length;i++,n="&")c+=n+"p"+i+"="+encodeURIComponent(u[i]);return new t(c)}}function o(e){if(null==e||N(e))return!1;if(I(e)||T(e)||fo&&e instanceof fo)return!0;var t="length"in Object(e)&&e.length;return A(t)&&(t>=0&&t-1 in e||"function"==typeof e.item)}function i(e,t,r){var n,a;if(e)if(w(e))for(n in e)"prototype"!==n&&"length"!==n&&"name"!==n&&e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else if(I(e)||o(e)){var s="object"!=typeof e;for(n=0,a=e.length;n<a;n++)(s||n in e)&&t.call(r,e[n],n,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,r,e);else if(b(e))for(n in e)t.call(r,e[n],n,e);else if("function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else for(n in e)_o.call(e,n)&&t.call(r,e[n],n,e);return e}function a(e,t,r){for(var n=Object.keys(e).sort(),o=0;o<n.length;o++)t.call(r,e[n[o]],n[o]);return n}function s(e){return function(t,r){e(r,t)}}function c(){return++No}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,r){for(var n=e.$$hashKey,o=0,i=t.length;o<i;++o){var a=t[o];if(S(a)||w(a))for(var s=Object.keys(a),c=0,d=s.length;c<d;c++){var g=s[c],p=a[g];r&&S(p)?R(p)?e[g]=new Date(p.valueOf()):C(p)?e[g]=new RegExp(p):p.nodeName?e[g]=p.cloneNode(!0):B(p)?e[g]=p.clone():"__proto__"!==g&&(S(e[g])||(e[g]=I(p)?[]:{}),l(e[g],[p],!0)):e[g]=p}}return u(e,n),e}function d(e){return l(e,To.call(arguments,1),!1)}function g(e){return l(e,To.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function h(){}function m(e){return e}function v(e){return function(){return e}}function y(e){return w(e.toString)&&e.toString!==Io}function E(e){return void 0===e}function _(e){return void 0!==e}function S(e){return null!==e&&"object"==typeof e}function b(e){return null!==e&&"object"==typeof e&&!Oo(e)}function T(e){return"string"==typeof e}function A(e){return"number"==typeof e}function R(e){return"[object Date]"===Io.call(e)}function I(e){return Array.isArray(e)||e instanceof Array}function O(e){switch(Io.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function w(e){return"function"==typeof e}function C(e){return"[object RegExp]"===Io.call(e)}function N(e){return e&&e.window===e}function M(e){return e&&e.$evalAsync&&e.$watch}function L(e){return"[object File]"===Io.call(e)}function D(e){return"[object FormData]"===Io.call(e)}function P(e){return"[object Blob]"===Io.call(e)}function k(e){return"boolean"==typeof e}function x(e){return e&&w(e.then)}function j(e){return e&&A(e.length)&&Lo.test(Io.call(e))}function U(e){return"[object ArrayBuffer]"===Io.call(e)}function B(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function V(e){var t,r={},n=e.split(",");for(t=0;t<n.length;t++)r[n[t]]=!0;return r}function $(e){return So(e.nodeName||e[0]&&e[0].nodeName)}function F(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function W(e,t){var r=e.indexOf(t);return r>=0&&e.splice(r,1),r}function H(e,t,n){function o(e,t,r){if(--r<0)return"...";var n,o=t.$$hashKey;if(I(e))for(var i=0,s=e.length;i<s;i++)t.push(a(e[i],r));else if(b(e))for(n in e)t[n]=a(e[n],r);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=a(e[n],r));else for(n in e)_o.call(e,n)&&(t[n]=a(e[n],r));return u(t,o),t}function a(e,t){if(!S(e))return e;var r=c.indexOf(e);if(-1!==r)return l[r];if(N(e)||M(e))throw wo("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=s(e);return void 0===i&&(i=I(e)?[]:Object.create(Oo(e)),n=!0),c.push(e),l.push(i),n?o(e,i,t):i}function s(e){switch(Io.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var r=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return r.lastIndex=e.lastIndex,r;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(w(e.cloneNode))return e.cloneNode(!0)}var c=[],l=[];if(n=r(n)?n:NaN,t){if(j(t)||U(t))throw wo("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw wo("cpi","Can't copy! Source and destination are identical.");return I(t)?t.length=0:i(t,function(e,r){"$$hashKey"!==r&&delete t[r]}),c.push(e),l.push(t),o(e,t,n)}return a(e,n)}function G(e,t){return e===t||e!==e&&t!==t}function q(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,n,o,i=typeof e,a=typeof t;if(i===a&&"object"===i){if(!I(e)){if(R(e))return!!R(t)&&G(e.getTime(),t.getTime());if(C(e))return!!C(t)&&e.toString()===t.toString();if(M(e)||M(t)||N(e)||N(t)||I(t)||R(t)||C(t))return!1;o=_e();for(n in e)if("$"!==n.charAt(0)&&!w(e[n])){if(!q(e[n],t[n]))return!1;o[n]=!0}for(n in t)if(!(n in o)&&"$"!==n.charAt(0)&&_(t[n])&&!w(t[n]))return!1;return!0}if(!I(t))return!1;if((r=e.length)===t.length){for(n=0;n<r;n++)if(!q(e[n],t[n]))return!1;return!0}}return!1}function z(e,t,r){return e.concat(To.call(t,r))}function Y(e,t){return To.call(e,t||0)}function K(e,t){var r=arguments.length>2?Y(arguments,2):[];return!w(t)||t instanceof RegExp?t:r.length?function(){return arguments.length?t.apply(e,z(r,arguments,0)):t.apply(e,r)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function J(t,r){var n=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:N(r)?n="$WINDOW":r&&e.document===r?n="$DOCUMENT":M(r)&&(n="$SCOPE"),n}function X(e,t){if(!E(e))return A(t)||(t=t?2:null),JSON.stringify(e,J,t)}function Q(e){return T(e)?JSON.parse(e):e}function Z(e,t){e=e.replace(jo,"");var r=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return Mo(r)?t:r}function ee(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function te(e,t,r){r=r?-1:1;var n=e.getTimezoneOffset();return ee(e,r*(Z(t,n)-n))}function re(e){e=fo(e).clone().empty();var t=fo("<div></div>").append(e).html();try{return e[0].nodeType===Wo?So(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+So(t)})}catch(e){return So(t)}}function ne(e){try{return decodeURIComponent(e)}catch(e){}}function oe(e){var t={};return i((e||"").split("&"),function(e){var r,n,o;e&&(n=e=e.replace(/\+/g,"%20"),r=e.indexOf("="),-1!==r&&(n=e.substring(0,r),o=e.substring(r+1)),n=ne(n),_(n)&&(o=!_(o)||ne(o),_o.call(t,n)?I(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o))}),t}function ie(e){var t=[];return i(e,function(e,r){I(e)?i(e,function(e){t.push(se(r,!0)+(!0===e?"":"="+se(e,!0)))}):t.push(se(r,!0)+(!0===e?"":"="+se(e,!0)))}),t.length?t.join("&"):""}function ae(e){return se(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function se(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ce(e,t){var r,n,o=Uo.length;for(n=0;n<o;++n)if(r=Uo[n]+t,T(r=e.getAttribute(r)))return r;return null}function ue(t,r){var n,o,a={};if(i(Uo,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,o=t.getAttribute(r))}),i(Uo,function(e){var r,i=e+"app";!n&&(r=t.querySelector("["+i.replace(":","\\:")+"]"))&&(n=r,o=r.getAttribute(i))}),n){if(!Bo)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==ce(n,"strict-di"),r(n,o?[o]:[],a)}}function le(t,r,n){S(n)||(n={}),n=d({strictDi:!1},n);var o=function(){if(t=fo(t),t.injector()){var o=t[0]===e.document?"document":re(t);throw wo("btstrpd","App already bootstrapped with this element '{0}'",o.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var i=pt(r,n.strictDi);return i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,r,n){e.$apply(function(){t.data("$injector",n),r(t)(e)})}]),i},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&a.test(e.name)&&(n.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name))return o();e.name=e.name.replace(s,""),Co.resumeBootstrap=function(e){return i(e,function(e){r.push(e)}),o()},w(Co.resumeDeferredBootstrap)&&Co.resumeDeferredBootstrap()}function de(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ge(e){var t=Co.element(e).injector();if(!t)throw wo("test","no injector found for element argument to getTestability");return t.get("$$testability")}function pe(e,t){return t=t||"_",e.replace(Vo,function(e,r){return(r?t:"")+e.toLowerCase()})}function fe(){xe.legacyXHTMLReplacement=!0}function he(e,t,r){if(!e)throw wo("areq","Argument '{0}' is {1}",t||"?",r||"required");return e}function me(e,t,r){return r&&I(e)&&(e=e[e.length-1]),he(w(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ve(e,t){if("hasOwnProperty"===e)throw wo("badname","hasOwnProperty is not a valid {0} name",t)}function ye(e,t,r){if(!t)return e;for(var n,o=t.split("."),i=e,a=o.length,s=0;s<a;s++)n=o[s],e&&(e=(i=e)[n]);return!r&&w(e)?K(i,e):e}function Ee(e){for(var t,r=e[0],n=e[e.length-1],o=1;r!==n&&(r=r.nextSibling);o++)(t||e[o]!==r)&&(t||(t=fo(To.call(e,0,o))),t.push(r));return t||e}function _e(){return Object.create(null)}function Se(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!y(e)||I(e)||R(e)?X(e):e.toString()}return e}function be(e){function t(e,t,r){return e[t]||(e[t]=r())}var r=n("$injector"),o=n("ng"),i=t(e,"angular",Object);return i.$$minErr=i.$$minErr||n,t(i,"module",function(){var e={};return function(n,i,a){var s={};return function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)}(n,"module"),i&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,t,r,n){return n||(n=c),function(){return n[r||"push"]([e,t,arguments]),g}}function t(e,t,r){return r||(r=c),function(o,i){return i&&w(i)&&(i.$$moduleName=n),r.push([e,t,arguments]),g}}if(!i)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",n);var c=[],u=[],l=[],d=e("$injector","invoke","push",u),g={_invokeQueue:c,_configBlocks:u,_runBlocks:l,info:function(e){if(_(e)){if(!S(e))throw o("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:i,name:n,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",u),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:d,run:function(e){return l.push(e),this}};return a&&d(a),g})}})}function Te(e,t){if(I(e)){t=t||[];for(var r=0,n=e.length;r<n;r++)t[r]=e[r]}else if(S(e)){t=t||{};for(var o in e)"$"===o.charAt(0)&&"$"===o.charAt(1)||(t[o]=e[o])}return t||e}function Ae(e,t){var n=[];return r(t)&&(e=Co.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=J(e,t),S(t)){if(n.indexOf(t)>=0)return"...";n.push(t)}return t})}function Re(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):E(e)?"undefined":"string"!=typeof e?Ae(e,t):e}function Ie(){return++Ko}function Oe(e){return Ce(e.replace(Xo,"ms-"))}function we(e,t){return t.toUpperCase()}function Ce(e){return e.replace(Jo,we)}function Ne(e){return!ti.test(e)}function Me(e){var t=e.nodeType;return t===Fo||!t||t===Go}function Le(e){for(var t in Yo[e.ng339])return!0;return!1}function De(t,r){var n,o,a,s,c,u=r.createDocumentFragment(),l=[];if(Ne(t))l.push(r.createTextNode(t));else{if(n=u.appendChild(r.createElement("div")),o=(ri.exec(t)||["",""])[1].toLowerCase(),s=xe.legacyXHTMLReplacement?t.replace(ni,"<$1></$2>"):t,po<10)for(a=ii[o]||ii._default,n.innerHTML=a[1]+s+a[2],c=a[0];c--;)n=n.firstChild;else{for(a=oi[o]||[],c=a.length;--c>-1;)n.appendChild(e.document.createElement(a[c])),n=n.firstChild;n.innerHTML=s}l=z(l,n.childNodes),n=u.firstChild,n.textContent=""}return u.textContent="",u.innerHTML="",i(l,function(e){u.appendChild(e)}),u}function Pe(t,r){r=r||e.document;var n;return(n=ei.exec(t))?[r.createElement(n[1])]:(n=De(t,r))?n.childNodes:[]}function ke(e,t){var r=e.parentNode;r&&r.replaceChild(t,e),t.appendChild(e)}function xe(e){if(e instanceof xe)return e;var t;if(T(e)&&(e=Do(e),t=!0),!(this instanceof xe)){if(t&&"<"!==e.charAt(0))throw Zo("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xe(e)}t?Ye(this,Pe(e)):w(e)?et(e):Ye(this,e)}function je(e){return e.cloneNode(!0)}function Ue(e,t){!t&&Me(e)&&fo.cleanData([e]),e.querySelectorAll&&fo.cleanData(e.querySelectorAll("*"))}function Be(e){var t;for(t in e)return!1;return!0}function Ve(e){var t=e.ng339,r=t&&Yo[t],n=r&&r.events,o=r&&r.data;o&&!Be(o)||n&&!Be(n)||(delete Yo[t],e.ng339=void 0)}function $e(e,t,r,n){if(_(n))throw Zo("offargs","jqLite#off() does not support the `selector` argument");var o=We(e),a=o&&o.events,s=o&&o.handle;if(s){if(t){var c=function(t){var n=a[t];_(r)&&W(n||[],r),_(r)&&n&&n.length>0||(e.removeEventListener(t,s),delete a[t])};i(t.split(" "),function(e){c(e),Qo[e]&&c(Qo[e])})}else for(t in a)"$destroy"!==t&&e.removeEventListener(t,s),delete a[t];Ve(e)}}function Fe(e,t){var r=e.ng339,n=r&&Yo[r];n&&(t?delete n.data[t]:n.data={},Ve(e))}function We(e,t){var r=e.ng339,n=r&&Yo[r];return t&&!n&&(e.ng339=r=Ie(),n=Yo[r]={events:{},data:{},handle:void 0}),n}function He(e,t,r){if(Me(e)){var n,o=_(r),i=!o&&t&&!S(t),a=!t,s=We(e,!i),c=s&&s.data;if(o)c[Ce(t)]=r;else{if(a)return c;if(i)return c&&c[Ce(t)];for(n in t)c[Ce(n)]=t[n]}}}function Ge(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function qe(e,t){if(t&&e.setAttribute){var r=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=r;i(t.split(" "),function(e){e=Do(e),n=n.replace(" "+e+" "," ")}),n!==r&&e.setAttribute("class",Do(n))}}function ze(e,t){if(t&&e.setAttribute){var r=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),n=r;i(t.split(" "),function(e){e=Do(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),n!==r&&e.setAttribute("class",Do(n))}}function Ye(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var r=t.length;if("number"==typeof r&&t.window!==t){if(r)for(var n=0;n<r;n++)e[e.length++]=t[n]}else e[e.length++]=t}}function Ke(e,t){return Je(e,"$"+(t||"ngController")+"Controller")}function Je(e,t,r){e.nodeType===Go&&(e=e.documentElement);for(var n=I(t)?t:[t];e;){for(var o=0,i=n.length;o<i;o++)if(_(r=fo.data(e,n[o])))return r;e=e.parentNode||e.nodeType===qo&&e.host}}function Xe(e){for(Ue(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Qe(e,t){t||Ue(e);var r=e.parentNode;r&&r.removeChild(e)}function Ze(t,r){r=r||e,"complete"===r.document.readyState?r.setTimeout(t):fo(r).on("load",t)}function et(t){function r(){e.document.removeEventListener("DOMContentLoaded",r),e.removeEventListener("load",r),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",r),e.addEventListener("load",r))}function tt(e,t){var r=di[t.toLowerCase()];return r&&gi[$(e)]&&r}function rt(e){return pi[e]}function nt(e,t){var r=function(r,n){r.isDefaultPrevented=function(){return r.defaultPrevented};var o=t[n||r.type],i=o?o.length:0;if(i){if(E(r.immediatePropagationStopped)){var a=r.stopImmediatePropagation;r.stopImmediatePropagation=function(){r.immediatePropagationStopped=!0,r.stopPropagation&&r.stopPropagation(),a&&a.call(r)}}r.isImmediatePropagationStopped=function(){return!0===r.immediatePropagationStopped};var s=o.specialHandlerWrapper||ot;i>1&&(o=Te(o));for(var c=0;c<i;c++)r.isImmediatePropagationStopped()||s(e,r,o[c])}};return r.elem=e,r}function ot(e,t,r){r.call(e,t)}function it(e,t,r){var n=t.relatedTarget;n&&(n===e||ui.call(e,n))||r.call(e,t)}function at(){this.$get=function(){return d(xe,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ge(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),ze(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),qe(e,t)}})}}function st(e,t){var r=e&&e.$$hashKey;if(r)return"function"==typeof r&&(r=e.$$hashKey()),r;var n=typeof e;return r="function"===n||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||c)():n+":"+e}function ct(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ut(e){return Function.prototype.toString.call(e)}function lt(e){var t=ut(e).replace(Si,"");return t.match(vi)||t.match(yi)}function dt(e){var t=lt(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function gt(e,t,r){var n,o,a;if("function"==typeof e){if(!(n=e.$inject)){if(n=[],e.length){if(t)throw T(r)&&r||(r=e.name||dt(e)),bi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",r);o=lt(e),i(o[1].split(Ei),function(e){e.replace(_i,function(e,t,r){n.push(r)})})}e.$inject=n}}else I(e)?(a=e.length-1,me(e[a],"fn"),n=e.slice(0,a)):me(e,"fn",!0);return n}function pt(e,t){function r(e){return function(t,r){if(!S(t))return e(t,r);i(t,s(e))}}function n(e,t){if(ve(e,"service"),(w(t)||I(t))&&(t=b.instantiate(t)),!t.$get)throw bi("pget","Provider '{0}' must define $get factory method.",e);return _[e+h]=t}function o(e,t){return function(){var r=O.invoke(t,this);if(E(r))throw bi("undef","Provider '{0}' must return a value from $get factory method.",e);return r}}function a(e,t,r){return n(e,{$get:!1!==r?o(e,t):t})}function c(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return a(e,v(t),!1)}function l(e,t){ve(e,"constant"),_[e]=t,A[e]=t}function d(e,t){var r=b.get(e+h),n=r.$get;r.$get=function(){var e=O.invoke(n,r);return O.invoke(t,null,{$delegate:e})}}function g(e){he(E(e)||I(e),"modulesToLoad","not an array");var t,r=[];return i(e,function(e){function n(e){var t,r;for(t=0,r=e.length;t<r;t++){var n=e[t],o=b.get(n[0]);o[n[1]].apply(o,n[2])}}if(!y.get(e)){y.set(e,!0);try{T(e)?(t=mo(e),O.modules[e]=t,r=r.concat(g(t.requires)).concat(t._runBlocks),n(t._invokeQueue),n(t._configBlocks)):w(e)?r.push(b.invoke(e)):I(e)?r.push(b.invoke(e)):me(e,"module")}catch(t){throw I(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),bi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),r}function p(e,r){function n(t,n){if(e.hasOwnProperty(t)){if(e[t]===f)throw bi("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=f,e[t]=r(t,n),e[t]}catch(r){throw e[t]===f&&delete e[t],r}finally{m.shift()}}function o(e,r,o){for(var i=[],a=pt.$$annotate(e,t,o),s=0,c=a.length;s<c;s++){var u=a[s];if("string"!=typeof u)throw bi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);i.push(r&&r.hasOwnProperty(u)?r[u]:n(u,o))}return i}function i(e){if(po||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return k(t)||(t=e.$$ngIsClass=/^class\b/.test(ut(e))),t}function a(e,t,r,n){"string"==typeof r&&(n=r,r=null);var a=o(e,r,n);return I(e)&&(e=e[e.length-1]),i(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,r){var n=I(e)?e[e.length-1]:e,i=o(e,t,r);return i.unshift(null),new(Function.prototype.bind.apply(n,i))}return{invoke:a,instantiate:s,get:n,annotate:pt.$$annotate,has:function(t){return _.hasOwnProperty(t+h)||e.hasOwnProperty(t)}}}t=!0===t;var f={},h="Provider",m=[],y=new hi,_={$provide:{provider:r(n),factory:r(a),service:r(c),value:r(u),constant:r(l),decorator:d}},b=_.$injector=p(_,function(e,t){throw Co.isString(t)&&m.push(t),bi("unpr","Unknown provider: {0}",m.join(" <- "))}),A={},R=p(A,function(e,t){var r=b.get(e+h,t);return O.invoke(r.$get,r,void 0,e)}),O=R;_["$injector"+h]={$get:v(R)},O.modules=b.modules=_e();var C=g(e);return O=R.get("$injector"),O.strictDi=t,i(C,function(e){e&&O.invoke(e)}),O.loadNewModules=function(e){i(g(e),function(e){e&&O.invoke(e)})},O}function ft(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,r,n){function o(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===$(e))return t=e,!0}),t}function i(){var e=s.yOffset;if(w(e))e=e();else if(B(e)){var r=e[0],n=t.getComputedStyle(r);e="fixed"!==n.position?0:r.getBoundingClientRect().bottom}else A(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var r=i();if(r){var n=e.getBoundingClientRect().top;t.scrollBy(0,n-r)}}else t.scrollTo(0,0)}function s(e){e=T(e)?e:A(e)?e.toString():r.hash();var t;e?(t=c.getElementById(e))?a(t):(t=o(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&n.$watch(function(){return r.hash()},function(e,t){e===t&&""===e||Ze(function(){n.$evalAsync(s)})}),s}]}function ht(e,t){return e||t?e?t?(I(e)&&(e=e.join(" ")),I(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function mt(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.nodeType===Ai)return r}}function vt(e){T(e)&&(e=e.split(" "));var t=_e();return i(e,function(e){e.length&&(t[e]=!0)}),t}function yt(e){return S(e)?e:{}}function Et(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function _t(e){return e.replace(/#$/,"")}function St(e,t,r,n,o){function a(){b=null,c()}function s(){v=T(),v=E(v)?null:v,q(v,I)&&(v=I),I=v,y=v}function c(){var e=y;s(),_===u.url()&&e===v||(_=u.url(),y=v,i(A,function(e){e(u.url(),v)}))}var u=this,l=e.location,d=e.history,g=e.setTimeout,p=e.clearTimeout,f={},m=o(r);u.isMock=!1,u.$$completeOutstandingRequest=m.completeTask,u.$$incOutstandingRequestCount=m.incTaskCount,u.notifyWhenNoOutstandingRequests=m.notifyWhenNoPendingTasks;var v,y,_=l.href,S=t.find("base"),b=null,T=n.history?function(){try{return d.state}catch(e){}}:h;s(),u.url=function(t,r,o){if(E(o)&&(o=null),l!==e.location&&(l=e.location),d!==e.history&&(d=e.history),t){var i=y===o;if(t=Xr(t).href,_===t&&(!n.history||i))return u;var a=_&&ir(_)===ir(t);return _=t,y=o,!n.history||a&&i?(a||(b=t),r?l.replace(t):a?l.hash=Et(t):l.href=t,l.href!==t&&(b=t)):(d[r?"replaceState":"pushState"](o,"",t),s()),b&&(b=t),u}return _t(b||l.href)},u.state=function(){return v};var A=[],R=!1,I=null;u.onUrlChange=function(t){return R||(n.history&&fo(e).on("popstate",a),fo(e).on("hashchange",a),R=!0),A.push(t),t},u.$$applicationDestroyed=function(){fo(e).off("hashchange popstate",a)},u.$$checkUrlChange=c,u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},u.defer=function(e,t,r){var n;return t=t||0,r=r||m.DEFAULT_TASK_TYPE,m.incTaskCount(r),n=g(function(){delete f[n],m.completeTask(e,r)},t),f[n]=r,n},u.defer.cancel=function(e){if(f.hasOwnProperty(e)){var t=f[e];return delete f[e],p(e),m.completeTask(h,t),!0}return!1}}function bt(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,r,n,o){return new St(e,n,t,r,o)}]}function Tt(){this.$get=function(){function e(e,r){function o(e){e!==g&&(p?p===e&&(p=e.n):p=e,i(e.n,e.p),i(e,g),g=e,g.n=null)}function i(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw n("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},r,{id:e}),c=_e(),u=r&&r.capacity||Number.MAX_VALUE,l=_e(),g=null,p=null;return t[e]={put:function(e,t){if(!E(t)){if(u<Number.MAX_VALUE){o(l[e]||(l[e]={key:e}))}return e in c||a++,c[e]=t,a>u&&this.remove(p.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;o(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;t===g&&(g=t.p),t===p&&(p=t.n),i(t.n,t.p),delete l[e]}e in c&&(delete c[e],a--)},removeAll:function(){c=_e(),a=0,l=_e(),g=p=null},destroy:function(){c=null,s=null,l=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return i(t,function(t,r){e[r]=t.info()}),e},e.get=function(e){return t[e]},e}}function At(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Rt(){}function It(t,r){function n(e,t,r){var n=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,o=_e();return i(e,function(e,i){if((e=e.trim())in C)return void(o[i]=C[e]);var a=e.match(n);if(!a)throw Mi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,r?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(C[e]=o[i])}),o}function o(e,t){var r={isolateScope:null,bindToController:null};if(S(e.scope)&&(!0===e.bindToController?(r.bindToController=n(e.scope,t,!0),r.isolateScope={}):r.isolateScope=n(e.scope,t,!1)),S(e.bindToController)&&(r.bindToController=n(e.bindToController,t,!0)),r.bindToController&&!e.controller)throw Mi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return r}function a(e){var t=e.charAt(0);if(!t||t!==So(t))throw Mi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Mi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function c(e){var t=e.require||e.controller&&e.name;return!I(t)&&S(t)&&i(t,function(e,r){var n=e.match(A);e.substring(n[0].length)||(t[r]=n[0]+r)}),t}function u(e,t){if(e&&(!T(e)||!/[EACM]/.test(e)))throw Mi("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var l={},g="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,y=/(([\w-]+)(?::([^;]+))?;?)/,b=V("ngSrc,ngSrcset,src,srcset"),A=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,R=/^(on[a-z]+|formaction)$/,C=_e();this.directive=function e(r,n){return he(r,"name"),ve(r,"directive"),T(r)?(a(r),he(n,"directiveFactory"),l.hasOwnProperty(r)||(l[r]=[],t.factory(r+g,["$injector","$exceptionHandler",function(e,t){var n=[];return i(l[r],function(o,i){try{var a=e.invoke(o);w(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=i,a.name=a.name||r,a.require=c(a),a.restrict=u(a.restrict,r),a.$$moduleName=o.$$moduleName,n.push(a)}catch(e){t(e)}}),n}])),l[r].push(n)):i(r,s(e)),this},this.component=function e(t,r){function n(e){function t(t){return w(t)||I(t)?function(r,n){return e.invoke(t,this,{$element:r,$attrs:n})}:t}var n=r.template||r.templateUrl?r.template:"",a={controller:o,controllerAs:Mt(r.controller)||r.controllerAs||"$ctrl",template:t(n),templateUrl:t(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return i(r,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}if(!T(t))return i(t,s(K(this,e))),this;var o=r.controller||function(){};return i(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e,w(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationTrustedUrlList=function(e){return _(e)?(r.aHrefSanitizationTrustedUrlList(e),this):r.aHrefSanitizationTrustedUrlList()},Object.defineProperty(this,"aHrefSanitizationWhitelist",{get:function(){return this.aHrefSanitizationTrustedUrlList},set:function(e){this.aHrefSanitizationTrustedUrlList=e}}),this.imgSrcSanitizationTrustedUrlList=function(e){return _(e)?(r.imgSrcSanitizationTrustedUrlList(e),this):r.imgSrcSanitizationTrustedUrlList()},Object.defineProperty(this,"imgSrcSanitizationWhitelist",{get:function(){return this.imgSrcSanitizationTrustedUrlList},set:function(e){this.imgSrcSanitizationTrustedUrlList=e}});var N=!0;this.debugInfoEnabled=function(e){return _(e)?(N=e,this):N};var L=!1;this.strictComponentBindingsEnabled=function(e){return _(e)?(L=e,this):L};var D=10;this.onChangesTtl=function(e){return arguments.length?(D=e,this):D};var P=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(P=e,this):P};var x=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(x=e,this):x};var j=_e();this.addPropertySecurityContext=function(e,t,r){var n=e.toLowerCase()+"|"+t.toLowerCase();if(n in j&&j[n]!==r)throw Mi("ctxoverride","Property context '{0}.{1}' already set to '{2}', cannot override to '{3}'.",e,t,j[n],r);return j[n]=r,this},function(){function e(e,t){i(t,function(t){j[t.toLowerCase()]=e})}e(ca.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(ca.CSS,["*|style"]),e(ca.URL,["area|href","area|ping","a|href","a|ping","blockquote|cite","body|background","del|cite","input|src","ins|cite","q|cite"]),e(ca.MEDIA_URL,["audio|src","img|src","img|srcset","source|src","source|srcset","track|src","video|src","video|poster"]),e(ca.RESOURCE_URL,["*|formAction","applet|code","applet|codebase","base|href","embed|src","frame|src","form|action","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,r,n,a,s,c,u,v,_){function C(){try{if(!--Ue)throw Le=void 0,Mi("infchng","{0} $onChanges() iterations reached. Aborting!\n",D);u.$apply(function(){for(var e=0,t=Le.length;e<t;++e)try{Le[e]()}catch(e){n(e)}Le=void 0})}finally{Ue++}}function U(e,t){if(!e)return e;if(!T(e))throw Mi("srcset",'Can\'t pass trusted values to `{0}`: "{1}"',t,e.toString());for(var r="",n=Do(e),o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,i=/\s/.test(n)?o:/(,)/,a=n.split(i),s=Math.floor(a.length/2),c=0;c<s;c++){var u=2*c;r+=v.getTrustedMediaUrl(Do(a[u])),r+=" "+Do(a[u+1])}var l=Do(a[2*c]).split(/\s/);return r+=v.getTrustedMediaUrl(Do(l[0])),2===l.length&&(r+=" "+Do(l[1])),r}function B(e,t){if(t){var r,n,o,i=Object.keys(t);for(r=0,n=i.length;r<n;r++)o=i[r],this[o]=t[o]}else this.$attr={};this.$$element=e}function V(e,t,r){Pe.innerHTML="<span "+t+">";var n=Pe.firstChild.attributes,o=n[0];n.removeNamedItem(o.name),o.value=r,e.attributes.setNamedItem(o)}function F(e,t){try{e.addClass(t)}catch(e){}}function H(e,t,r,n,o){e instanceof fo||(e=fo(e));var i=J(e,t,e,r,n,o);H.$$addScopeClass(e);var a=null;return function(t,r,n){if(!e)throw Mi("multilink","This element has already been linked.");he(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),n=n||{};var s=n.parentBoundTranscludeFn,c=n.transcludeControllers,u=n.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=z(u));var l;if(l="html"!==a?fo(ye(a,fo("<div></div>").append(e).html())):r?li.clone.call(e):e,c)for(var d in c)l.data("$"+d+"Controller",c[d].instance);return H.$$addScopeInfo(l,t),r&&r(l,t),i&&i(t,l,l,s),r||(e=i=null),l}}function z(e){var t=e&&e[0];return t&&"foreignobject"!==$(t)&&Io.call(t).match(/SVG/)?"svg":"html"}function J(e,t,r,n,o,i){function a(e,r,n,o){var i,a,s,c,u,l,d,g,h;if(p){var m=r.length;for(h=new Array(m),u=0;u<f.length;u+=3)d=f[u],h[d]=r[d]}else h=r;for(u=0,l=f.length;u<l;)s=h[f[u++]],i=f[u++],a=f[u++],i?(i.scope?(c=e.$new(),H.$$addScopeInfo(fo(s),c)):c=e,g=i.transcludeOnThisElement?Q(e,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&t?Q(e,t):null,i(a,c,s,n,g)):a&&a(e,s.childNodes,void 0,o)}for(var s,c,u,l,d,g,p,f=[],h=I(e)||e instanceof fo,m=0;m<e.length;m++)s=new B,11===po&&X(e,m,h),c=Z(e[m],[],s,0===m?n:void 0,o),u=c.length?ie(c,e[m],s,t,r,null,[],[],i):null,u&&u.scope&&H.$$addScopeClass(s.$$element),d=u&&u.terminal||!(l=e[m].childNodes)||!l.length?null:J(l,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(f.push(m,u,d),g=!0,p=p||u),i=null;return g?a:null}function X(e,t,r){var n,o=e[t],i=o.parentNode;if(o.nodeType===Wo)for(;;){if(!(n=i?o.nextSibling:e[t+1])||n.nodeType!==Wo)break;o.nodeValue=o.nodeValue+n.nodeValue,n.parentNode&&n.parentNode.removeChild(n),r&&n===e[t+1]&&e.splice(t+1,1)}}function Q(e,t,r){function n(n,o,i,a,s){return n||(n=e.$new(!1,s),n.$$transcluded=!0),t(n,o,{parentBoundTranscludeFn:r,transcludeControllers:i,futureParentElement:a})}var o=n.$$slots=_e();for(var i in t.$$slots)t.$$slots[i]?o[i]=Q(e,t.$$slots[i],r):o[i]=null;return n}function Z(e,t,r,n,o){var i,a,s,c=e.nodeType,u=r.$attr;switch(c){case Fo:a=$(e),ue(t,wt(a),"E",n,o);for(var l,d,g,p,f,h=e.attributes,m=0,v=h&&h.length;m<v;m++){var E,_=!1,b=!1,A=!1,R=!1,I=!1;l=h[m],d=l.name,p=l.value,g=wt(d.toLowerCase()),(f=g.match(Fe))?(A="Attr"===f[1],R="Prop"===f[1],I="On"===f[1],d=d.replace(Di,"").toLowerCase().substr(4+f[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(E=g.match(We))&&le(E[1])&&(_=d,b=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),R||I?(r[g]=p,u[g]=l.name,R?Te(e,t,g,d):Ae(t,g,d)):(g=wt(d.toLowerCase()),u[g]=d,!A&&r.hasOwnProperty(g)||(r[g]=p,tt(e,g)&&(r[g]=!0)),Re(e,t,p,g,A),ue(t,g,"A",n,o,_,b))}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!xe)break;if(s=e.className,S(s)&&(s=s.animVal),T(s)&&""!==s)for(;i=y.exec(s);)g=wt(i[2]),ue(t,g,"C",n,o)&&(r[g]=Do(i[3])),s=s.substr(i.index+i[0].length);break;case Wo:ve(t,e.nodeValue);break;case Ho:if(!ke)break;ee(e,t,r,n,o)}return t.sort(fe),t}function ee(e,t,r,n,o){try{var i=p.exec(e.nodeValue);if(i){var a=wt(i[1]);ue(t,a,"M",n,o)&&(r[a]=Do(i[2]))}}catch(e){}}function te(e,t,r){var n=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw Mi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,r);e.nodeType===Fo&&(e.hasAttribute(t)&&o++,e.hasAttribute(r)&&o--),n.push(e),e=e.nextSibling}while(o>0);else n.push(e);return fo(n)}function ne(e,t,r){return function(n,o,i,a,s){return o=te(o[0],t,r),e(n,o,i,a,s)}}function oe(e,t,r,n,o,i){var a;return e?H(t,r,n,o,i):function(){return a||(a=H(t,r,n,o,i),t=r=i=null),a.apply(this,arguments)}}function ie(t,r,o,a,s,c,u,l,g){function p(e,t,r,n){e&&(r&&(e=ne(e,r,n)),e.require=h.require,e.directiveName=m,(R===h||h.$$isolateScope)&&(e=Oe(e,{isolateScope:!0})),u.push(e)),t&&(r&&(t=ne(t,r,n)),t.require=h.require,t.directiveName=m,(R===h||h.$$isolateScope)&&(t=Oe(t,{isolateScope:!0})),l.push(t))}function f(e,t,a,s,c){function g(e,t,r,n){var o;if(M(e)||(n=r,r=t,t=e,e=void 0),D&&(o=y),r||(r=D?b.parent():b),!n)return c(e,t,o,r,j);var i=c.$$slots[n];if(i)return i(e,t,o,r,j);if(E(i))throw Mi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',n,re(b))}var p,f,h,m,v,y,_,b,C,N;r===a?(C=o,b=o.$$element):(b=fo(a),C=new B(b,o)),v=t,R?m=t.$new(!0):T&&(v=t.$parent),c&&(_=g,_.$$boundTransclude=c,_.isSlotFilled=function(e){return!!c.$$slots[e]}),A&&(y=se(b,C,_,A,m,t,R)),R&&(H.$$addScopeInfo(b,m,!0,!(O&&(O===R||O===R.$$originalDirective))),H.$$addScopeClass(b,!0),m.$$isolateBindings=R.$$isolateBindings,N=Me(t,C,m,m.$$isolateBindings,R),N.removeWatches&&m.$on("$destroy",N.removeWatches));for(var L in y){var P=A[L],k=y[L],x=P.$$bindings.bindToController;k.instance=k(),b.data("$"+P.name+"Controller",k.instance),k.bindingInfo=Me(v,C,k.instance,x,P)}for(i(A,function(e,t){var r=e.require;e.bindToController&&!I(r)&&S(r)&&d(y[t].instance,ae(t,r,b,y))}),i(y,function(e){var t=e.instance;if(w(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){n(e)}if(w(t.$onInit))try{t.$onInit()}catch(e){n(e)}w(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),w(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),p=0,f=u.length;p<f;p++)h=u[p],we(h,h.isolateScope?m:t,b,C,h.require&&ae(h.directiveName,h.require,b,y),_);var j=t;for(R&&(R.template||null===R.templateUrl)&&(j=m),e&&e(j,a.childNodes,void 0,c),p=l.length-1;p>=0;p--)h=l[p],we(h,h.isolateScope?m:t,b,C,h.require&&ae(h.directiveName,h.require,b,y),_);i(y,function(e){var t=e.instance;w(t.$postLink)&&t.$postLink()})}g=g||{};for(var h,m,v,y,_,b=-Number.MAX_VALUE,T=g.newScopeDirective,A=g.controllerDirectives,R=g.newIsolateScopeDirective,O=g.templateDirective,C=g.nonTlbTranscludeDirective,N=!1,L=!1,D=g.hasElementTranscludeDirective,P=o.$$element=fo(r),k=c,x=a,j=!1,U=!1,V=0,F=t.length;V<F;V++){h=t[V];var W=h.$$start,G=h.$$end;if(W&&(P=te(r,W,G)),v=void 0,b>h.priority)break;if(_=h.scope,_&&(h.templateUrl||(S(_)?(me("new/isolated scope",R||T,h,P),R=h):me("new/isolated scope",R,h,P)),T=T||h),m=h.name,!j&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var q,z=V+1;q=t[z++];)if(q.transclude&&!q.$$tlb||q.replace&&(q.templateUrl||q.template)){U=!0;break}j=!0}if(!h.templateUrl&&h.controller&&(A=A||_e(),me("'"+m+"' controller",A[m],h,P),A[m]=h),_=h.transclude)if(N=!0,h.$$tlb||(me("transclusion",C,h,P),C=h),"element"===_)D=!0,b=h.priority,v=P,P=o.$$element=fo(H.$$createComment(m,o[m])),r=P[0],Ie(s,Y(v),r),x=oe(U,v,a,b,k&&k.name,{nonTlbTranscludeDirective:C});else{var J=_e();if(S(_)){v=e.document.createDocumentFragment();var X=_e(),Q=_e();i(_,function(e,t){var r="?"===e.charAt(0);e=r?e.substring(1):e,X[e]=t,J[t]=null,Q[t]=r}),i(P.contents(),function(t){var r=X[wt($(t))];r?(Q[r]=!0,J[r]=J[r]||e.document.createDocumentFragment(),J[r].appendChild(t)):v.appendChild(t)}),i(Q,function(e,t){if(!e)throw Mi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var ee in J)if(J[ee]){var ie=fo(J[ee].childNodes);J[ee]=oe(U,ie,a)}v=fo(v.childNodes)}else v=fo(je(r)).contents();P.empty(),x=oe(U,v,a,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),x.$$slots=J}if(h.template)if(L=!0,me("template",O,h,P),O=h,_=w(h.template)?h.template(P,o):h.template,_=$e(_),h.replace){if(k=h,v=Ne(_)?[]:Nt(ye(h.templateNamespace,Do(_))),r=v[0],1!==v.length||r.nodeType!==Fo)throw Mi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");Ie(s,P,r);var ue={$attr:{}},le=Z(r,[],ue),pe=t.splice(V+1,t.length-(V+1));(R||T)&&ce(le,R,T),t=t.concat(le).concat(pe),de(o,ue),F=t.length}else P.html(_);if(h.templateUrl)L=!0,me("template",O,h,P),O=h,h.replace&&(k=h),f=ge(t.splice(V,t.length-V),P,o,s,N&&x,u,l,{controllerDirectives:A,newScopeDirective:T!==h&&T,newIsolateScopeDirective:R,templateDirective:O,nonTlbTranscludeDirective:C}),F=t.length;else if(h.compile)try{y=h.compile(P,o,x);var fe=h.$$originalDirective||h;w(y)?p(null,K(fe,y),W,G):y&&p(K(fe,y.pre),K(fe,y.post),W,G)}catch(e){n(e,re(P))}h.terminal&&(f.terminal=!0,b=Math.max(b,h.priority))}return f.scope=T&&!0===T.scope,f.transcludeOnThisElement=N,f.templateOnThisElement=L,f.transclude=x,g.hasElementTranscludeDirective=D,f}function ae(e,t,r,n){var o;if(T(t)){var a=t.match(A),s=t.substring(a[0].length),c=a[1]||a[3],u="?"===a[2];if("^^"===c?r=r.parent():(o=n&&n[s],o=o&&o.instance),!o){var l="$"+s+"Controller";o="^^"===c&&r[0]&&r[0].nodeType===Go?null:c?r.inheritedData(l):r.data(l)}if(!o&&!u)throw Mi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(I(t)){o=[];for(var d=0,g=t.length;d<g;d++)o[d]=ae(e,t[d],r,n)}else S(t)&&(o={},i(t,function(t,i){o[i]=ae(e,t,r,n)}));return o||null}function se(e,t,r,n,o,i,a){var s=_e();for(var u in n){var l=n[u],d={$scope:l===a||l.$$isolateScope?o:i,$element:e,$attrs:t,$transclude:r},g=l.controller;"@"===g&&(g=t[l.name]);var p=c(g,d,!0,l.controllerAs);s[l.name]=p,e.data("$"+l.name+"Controller",p.instance)}return s}function ce(e,t,r){for(var n=0,o=e.length;n<o;n++)e[n]=f(e[n],{$$isolateScope:t,$$newScope:r})}function ue(e,r,n,i,a,s,c){if(r===a)return null;var u=null;if(l.hasOwnProperty(r))for(var d,p=t.get(r+g),h=0,m=p.length;h<m;h++)if(d=p[h],(E(i)||i>d.priority)&&-1!==d.restrict.indexOf(n)){if(s&&(d=f(d,{$$start:s,$$end:c})),!d.$$bindings){var v=d.$$bindings=o(d,d.name);S(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}e.push(d),u=d}return u}function le(e){if(l.hasOwnProperty(e))for(var r,n=t.get(e+g),o=0,i=n.length;o<i;o++)if(r=n[o],r.multiElement)return!0;return!1}function de(e,t){var r=t.$attr,n=e.$attr;i(e,function(n,o){"$"!==o.charAt(0)&&(t[o]&&t[o]!==n&&(n.length?n+=("style"===o?";":" ")+t[o]:n=t[o]),e.$set(o,n,!0,r[o]))}),i(t,function(t,o){e.hasOwnProperty(o)||"$"===o.charAt(0)||(e[o]=t,"class"!==o&&"style"!==o&&(n[o]=r[o]))})}function ge(e,t,r,o,s,c,u,l){var d,g,p=[],h=t[0],m=e.shift(),v=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),y=w(m.templateUrl)?m.templateUrl(t,r):m.templateUrl,E=m.templateNamespace;return t.empty(),a(y).then(function(n){var a,f,_,b;if(n=$e(n),m.replace){if(_=Ne(n)?[]:Nt(ye(E,Do(n))),a=_[0],1!==_.length||a.nodeType!==Fo)throw Mi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,y);f={$attr:{}},Ie(o,t,a);var T=Z(a,[],f);S(m.scope)&&ce(T,!0),e=T.concat(e),de(r,f)}else a=h,t.html(n);for(e.unshift(v),d=ie(e,a,r,s,t,m,c,u,l),i(o,function(e,r){e===a&&(o[r]=t[0])}),g=J(t[0].childNodes,s);p.length;){var A=p.shift(),R=p.shift(),I=p.shift(),O=p.shift(),w=t[0];if(!A.$$destroyed){if(R!==h){var C=R.className;l.hasElementTranscludeDirective&&m.replace||(w=je(a)),Ie(I,fo(R),w),F(fo(w),C)}b=d.transcludeOnThisElement?Q(A,d.transclude,O):O,d(g,A,w,o,b)}}p=null}).catch(function(e){O(e)&&n(e)}),function(e,t,r,n,o){var i=o;t.$$destroyed||(p?p.push(t,r,n,i):(d.transcludeOnThisElement&&(i=Q(t,d.transclude,o)),d(g,t,r,n,i)))}}function fe(e,t){var r=t.priority-e.priority;return 0!==r?r:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function me(e,t,r,n){function o(e){return e?" (module: "+e+")":""}if(t)throw Mi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),r.name,o(r.$$moduleName),e,re(n))}function ve(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&H.$$addBindingClass(t),function(e,t){var o=t.parent();r||H.$$addBindingClass(o),H.$$addBindingInfo(o,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function ye(t,r){switch(t=So(t||"html")){case"svg":case"math":var n=e.document.createElement("div");return n.innerHTML="<"+t+">"+r+"</"+t+">",n.childNodes[0].childNodes;default:return r}}function Ee(e,t){return"srcdoc"===t?v.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?v.RESOURCE_URL:v.MEDIA_URL:"xlinkHref"===t?"image"===e?v.MEDIA_URL:"a"===e?v.URL:v.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?v.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:v.URL}function Se(e,t){var r=t.toLowerCase();return j[e+"|"+r]||j["*|"+r]}function be(e){return U(v.valueOf(e),"ng-prop-srcset")}function Te(e,t,r,n){if(R.test(n))throw Mi("nodomevents","Property bindings for HTML DOM event properties are disallowed");var o=$(e),i=Se(o,n),a=m;"srcset"!==n||"img"!==o&&"source"!==o?i&&(a=v.getTrusted.bind(v,i)):a=be,t.push({priority:100,compile:function(e,t){var o=s(t[r]),i=s(t[r],function(e){return v.valueOf(e)});return{pre:function(e,t){function r(){var r=o(e);t[0][n]=a(r)}r(),e.$watch(i,r)}}}})}function Ae(e,t,r){e.push(oo(s,u,n,t,r,!1))}function Re(e,t,n,o,i){var a=$(e),s=Ee(a,o),c=!i,u=b[o]||i,l=r(n,c,s,u);if(l){if("multiple"===o&&"select"===a)throw Mi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",re(e));if(R.test(o))throw Mi("nodomevents","Interpolations for HTML DOM event attributes are disallowed");t.push({priority:100,compile:function(){return{pre:function(e,t,i){var a=i.$$observers||(i.$$observers=_e()),c=i[o];c!==n&&(l=c&&r(c,!0,s,u),n=c),l&&(i[o]=l(e),(a[o]||(a[o]=[])).$$inter=!0,(i.$$observers&&i.$$observers[o].$$scope||e).$watch(l,function(e,t){"class"===o&&e!==t?i.$updateClass(e,t):i.$set(o,e)}))}}}})}}function Ie(t,r,n){var o,i,a=r[0],s=r.length,c=a.parentNode;if(t)for(o=0,i=t.length;o<i;o++)if(t[o]===a){t[o++]=n;for(var u=o,l=u+s-1,d=t.length;u<d;u++,l++)l<d?t[u]=t[l]:delete t[u];t.length-=s-1,t.context===a&&(t.context=n);break}c&&c.replaceChild(n,a);var g=e.document.createDocumentFragment();for(o=0;o<s;o++)g.appendChild(r[o]);for(fo.hasData(a)&&(fo.data(n,fo.data(a)),fo(a).off("$destroy")),fo.cleanData(g.querySelectorAll("*")),o=1;o<s;o++)delete r[o];r[0]=n,r.length=1}function Oe(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function we(e,t,r,o,i,a){try{e(t,r,o,i,a)}catch(e){n(e,re(r))}}function Ce(e,t){if(L)throw Mi("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function Me(e,t,n,o,a){function c(t,r,o){w(n.$onChanges)&&!G(r,o)&&(Le||(e.$$postDigest(C),Le=[]),l||(l={},Le.push(u)),l[t]&&(o=l[t].previousValue),l[t]=new Ot(o,r))}function u(){n.$onChanges(l),l=void 0}var l,d=[],g={};return i(o,function(o,i){var u,l,p,f,m,v=o.attrName,y=o.optional,E=o.mode;switch(E){case"@":y||_o.call(t,v)||(Ce(v,a.name),n[i]=t[v]=void 0),m=t.$observe(v,function(e){if(T(e)||k(e)){var t=n[i];c(i,e,t),n[i]=e}}),t.$$observers[v].$$scope=e,u=t[v],T(u)?n[i]=r(u)(e):k(u)&&(n[i]=u),g[i]=new Ot(Li,n[i]),d.push(m);break;case"=":if(!_o.call(t,v)){if(y)break;Ce(v,a.name),t[v]=void 0}if(y&&!t[v])break;l=s(t[v]),f=l.literal?q:G,p=l.assign||function(){throw u=n[i]=l(e),Mi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=n[i]=l(e);var _=function(t){return f(t,n[i])||(f(t,u)?p(e,t=n[i]):n[i]=t),u=t};_.$stateful=!0,m=o.collection?e.$watchCollection(t[v],_):e.$watch(s(t[v],_),null,l.literal),d.push(m);break;case"<":if(!_o.call(t,v)){if(y)break;Ce(v,a.name),t[v]=void 0}if(y&&!t[v])break;l=s(t[v]);var S=l.literal,b=n[i]=l(e);g[i]=new Ot(Li,n[i]),m=e[o.collection?"$watchCollection":"$watch"](l,function(e,t){if(t===e){if(t===b||S&&q(t,b))return;t=b}c(i,e,t),n[i]=e}),d.push(m);break;case"&":if(y||_o.call(t,v)||Ce(v,a.name),(l=t.hasOwnProperty(v)?s(t[v]):h)===h&&y)break;n[i]=function(t){return l(e,t)}}}),{initialChanges:g,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var Le,De=/^\w/,Pe=e.document.createElement("div"),ke=P,xe=x,Ue=D;B.prototype={$normalize:wt,$addClass:function(e){e&&e.length>0&&_.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&_.removeClass(this.$$element,e)},$updateClass:function(e,t){var r=Ct(e,t);r&&r.length&&_.addClass(this.$$element,r);var n=Ct(t,e);n&&n.length&&_.removeClass(this.$$element,n)},$set:function(e,t,r,o){var a,s=this.$$element[0],c=tt(s,e),u=rt(e),l=e;c?(this.$$element.prop(e,t),o=c):u&&(this[u]=t,l=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e])||(this.$attr[e]=o=pe(e,"-")),a=$(this.$$element),"img"===a&&"srcset"===e&&(this[e]=t=U(t,"$set('srcset', value)")),!1!==r&&(null===t||E(t)?this.$$element.removeAttr(o):De.test(o)?c&&!1===t?this.$$element.removeAttr(o):this.$$element.attr(o,t):V(this.$$element[0],o,t));var d=this.$$observers;d&&i(d[l],function(e){try{e(t)}catch(e){n(e)}})},$observe:function(e,t){var r=this,n=r.$$observers||(r.$$observers=_e()),o=n[e]||(n[e]=[]);return o.push(t),u.$evalAsync(function(){o.$$inter||!r.hasOwnProperty(e)||E(r[e])||t(r[e])}),function(){W(o,t)}}};var Be=r.startSymbol(),Ve=r.endSymbol(),$e="{{"===Be&&"}}"===Ve?m:function(e){return e.replace(/\{\{/g,Be).replace(/}}/g,Ve)},Fe=/^ng(Attr|Prop|On)([A-Z].*)$/,We=/^(.+)Start$/;return H.$$addBindingInfo=N?function(e,t){var r=e.data("$binding")||[];I(t)?r=r.concat(t):r.push(t),e.data("$binding",r)}:h,H.$$addBindingClass=N?function(e){F(e,"ng-binding")}:h,H.$$addScopeInfo=N?function(e,t,r,n){var o=r?n?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:h,H.$$addScopeClass=N?function(e,t){F(e,t?"ng-isolate-scope":"ng-scope")}:h,H.$$createComment=function(t,r){var n="";return N&&(n=" "+(t||"")+": ",r&&(n+=r+" ")),e.document.createComment(n)},H}]}function Ot(e,t){this.previousValue=e,this.currentValue=t}function wt(e){return e.replace(Di,"").replace(Pi,function(e,t,r){return r?t.toUpperCase():t})}function Ct(e,t){var r="",n=e.split(/\s+/),o=t.split(/\s+/);e:for(var i=0;i<n.length;i++){for(var a=n[i],s=0;s<o.length;s++)if(a===o[s])continue e;r+=(r.length>0?" ":"")+a}return r}function Nt(e){e=fo(e);var t=e.length;if(t<=1)return e;for(;t--;){var r=e[t];(r.nodeType===Ho||r.nodeType===Wo&&""===r.nodeValue.trim())&&Ao.call(e,t,1)}return e}function Mt(e,t){if(t&&T(t))return t;if(T(e)){var r=xi.exec(e);if(r)return r[3]}}function Lt(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,r){ve(t,"controller"),S(t)?d(e,t):e[t]=r},this.$get=["$injector",function(t){function r(e,t,r,o){if(!e||!S(e.$scope))throw n("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,t);e.$scope[t]=r}return function(n,o,i,a){var s,c,u,l;if(i=!0===i,a&&T(a)&&(l=a),T(n)){if(!(c=n.match(xi)))throw ki("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",n);if(u=c[1],l=l||c[3],!(n=e.hasOwnProperty(u)?e[u]:ye(o.$scope,u,!0)))throw ki("ctrlreg","The controller with the name '{0}' is not registered.",u);me(n,u,!0)}if(i){var g=(I(n)?n[n.length-1]:n).prototype;return s=Object.create(g||null),l&&r(o,l,s,u||n.name),d(function(){var e=t.invoke(n,s,o,u);return e!==s&&(S(e)||w(e))&&(s=e,l&&r(o,l,s,u||n.name)),s},{instance:s,identifier:l})}return s=t.instantiate(n,o,u),l&&r(o,l,s,u||n.name),s}}]}function Dt(){this.$get=["$window",function(e){return fo(e.document)}]}function Pt(){this.$get=["$document","$rootScope",function(e,t){function r(){o=n.hidden}var n=e[0],o=n&&n.hidden;return e.on("visibilitychange",r),t.$on("$destroy",function(){e.off("visibilitychange",r)}),function(){return o}}]}function kt(){this.$get=["$log",function(e){return function(t,r){e.error.apply(e,arguments)}}]}function xt(e){return S(e)?R(e)?e.toISOString():X(e):e}function jt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,r){null===e||E(e)||w(e)||(I(e)?i(e,function(e){t.push(se(r)+"="+se(xt(e)))}):t.push(se(r)+"="+se(xt(e))))}),t.join("&")}}}function Ut(){this.$get=function(){return function(e){function t(e,n,o){I(e)?i(e,function(e,r){t(e,n+"["+(S(e)?r:"")+"]")}):S(e)&&!R(e)?a(e,function(e,r){t(e,n+(o?"":"[")+r+(o?"":"]"))}):(w(e)&&(e=e()),r.push(se(n)+"="+(null==e?"":se(xt(e)))))}if(!e)return"";var r=[];return t(e,"",!0),r.join("&")}}}function Bt(e,t){if(T(e)){var r=e.replace(Fi,"").trim();if(r){var n=t("Content-Type"),o=n&&0===n.indexOf(Ui);if(o||Vt(r))try{e=Q(r)}catch(t){if(!o)return e;throw Wi("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function Vt(e){var t=e.match(Vi);return t&&$i[t[0]].test(e)}function $t(e){function t(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var r,n=_e();return T(e)?i(e.split("\n"),function(e){r=e.indexOf(":"),t(So(Do(e.substr(0,r))),Do(e.substr(r+1)))}):S(e)&&i(e,function(e,r){t(So(r),Do(e))}),n}function Ft(e){var t;return function(r){if(t||(t=$t(e)),r){var n=t[So(r)];return void 0===n&&(n=null),n}return t}}function Wt(e,t,r,n){return w(n)?n(e,t,r):(i(n,function(n){e=n(e,t,r)}),e)}function Ht(e){return 200<=e&&e<300}function Gt(){var e=this.defaults={transformResponse:[Bt],transformRequest:[function(e){return!S(e)||L(e)||P(e)||D(e)?e:X(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Te(Bi),put:Te(Bi),patch:Te(Bi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return _(e)?(t=!!e,this):t};var r=this.interceptors=[],o=this.xsrfTrustedOrigins=[];Object.defineProperty(this,"xsrfWhitelistedOrigins",{get:function(){return this.xsrfTrustedOrigins},set:function(e){this.xsrfTrustedOrigins=e}}),this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,s,c,u,l,g,p,f){function m(t){function r(e,t){for(var r=0,n=t.length;r<n;){var o=t[r++],i=t[r++];e=e.then(o,i)}return t.length=0,e}function o(){a.$$completeOutstandingRequest(h,"$http")}function s(e,t){var r,n={};return i(e,function(e,o){w(e)?null!=(r=e(t))&&(n[o]=r):n[o]=e}),n}function c(t){var r=t.headers,n=Wt(t.data,Ft(r),void 0,t.transformRequest);return E(n)&&i(r,function(e,t){"content-type"===So(t)&&delete r[t]}),E(t.withCredentials)&&!E(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,n).then(u,u)}function u(e){var t=d({},e);return t.data=Wt(e.data,e.headers,e.status,l.transformResponse),Ht(e.status)?t:g.reject(t)}if(!S(t))throw n("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!T(f.valueOf(t.url)))throw n("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var l=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);l.headers=function(t){var r,n,o,i=e.headers,a=d({},t.headers);i=d({},i.common,i[So(t.method)]);e:for(r in i){n=So(r);for(o in a)if(So(o)===n)continue e;a[r]=i[r]}return s(a,Te(t))}(t),l.method=bo(l.method),l.paramSerializer=T(l.paramSerializer)?p.get(l.paramSerializer):l.paramSerializer,a.$$incOutstandingRequestCount("$http");var m=[],y=[],_=g.resolve(l);return i(R,function(e){(e.request||e.requestError)&&m.unshift(e.request,e.requestError),(e.response||e.responseError)&&y.push(e.response,e.responseError)}),_=r(_,m),_=_.then(c),_=r(_,y),_=_.finally(o)}function v(r,n){function o(e){if(e){var r={};return i(e,function(e,n){r[n]=function(r){function n(){e(r)}t?l.$applyAsync(n):l.$$phase?n():l.$apply(n)}}),r}}function a(e,r,n,o,i){function a(){u(r,e,n,o,i)}h&&(Ht(e)?h.put(M,[e,r,$t(n),o,i]):h.remove(M)),t?l.$applyAsync(a):(a(),l.$$phase||l.$apply())}function u(e,t,n,o,i){t=t>=-1?t:0,(Ht(t)?R.resolve:R.reject)({data:e,status:t,headers:Ft(n),config:r,statusText:o,xhrStatus:i})}function d(e){u(e.data,e.status,Te(e.headers()),e.statusText,e.xhrStatus)}function p(){var e=m.pendingRequests.indexOf(r);-1!==e&&m.pendingRequests.splice(e,1)}var h,v,R=g.defer(),w=R.promise,C=r.headers,N="jsonp"===So(r.method),M=r.url;if(N?M=f.getTrustedResourceUrl(M):T(M)||(M=f.valueOf(M)),M=y(M,r.paramSerializer(r.params)),N&&(M=b(M,r.jsonpCallbackParam)),m.pendingRequests.push(r),w.then(p,p),!r.cache&&!e.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(h=S(r.cache)?r.cache:S(e.cache)?e.cache:A),h&&(v=h.get(M),_(v)?x(v)?v.then(d,d):I(v)?u(v[1],v[0],Te(v[2]),v[3],v[4]):u(v,200,{},"OK","complete"):h.put(M,w)),E(v)){var L=O(r.url)?c()[r.xsrfCookieName||e.xsrfCookieName]:void 0;L&&(C[r.xsrfHeaderName||e.xsrfHeaderName]=L),s(r.method,M,n,a,C,r.timeout,r.withCredentials,r.responseType,o(r.eventHandlers),o(r.uploadEventHandlers))}return w}function y(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function b(e,t){var r=e.split("?");if(r.length>2)throw Wi("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return i(oe(r[1]),function(r,n){if("JSON_CALLBACK"===r)throw Wi("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(n===t)throw Wi("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var A=u("$http");e.paramSerializer=T(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var R=[];i(r,function(e){R.unshift(T(e)?p.get(e):p.invoke(e))});var O=en(o);return m.pendingRequests=[],function(e){i(arguments,function(e){m[e]=function(t,r){return m(d({},r||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){i(arguments,function(e){m[e]=function(t,r,n){return m(d({},n||{},{method:e,url:t,data:r}))}})}("post","put","patch"),m.defaults=e,m}]}function qt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function zt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,r,n){return Yt(e,n,e.defer,t,r[0])}]}function Yt(e,t,r,n,o){function a(e,t,r){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=e,i.async=!0,a=function(e){i.removeEventListener("load",a),i.removeEventListener("error",a),o.body.removeChild(i),i=null;var s=-1,c="unknown";e&&("load"!==e.type||n.wasCalled(t)||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),r&&r(s,c)},i.addEventListener("load",a),i.addEventListener("error",a),o.body.appendChild(i),a}return function(o,s,c,u,l,d,g,p,f,h){function m(e){T="timeout"===e,S&&S(),b&&b.abort()}function v(e,t,n,o,i,a){_(O)&&r.cancel(O),S=b=null,e(t,n,o,i,a)}if(s=s||e.url(),"jsonp"===So(o))var y=n.createCallback(s),S=a(s,y,function(e,t){var r=200===e&&n.getResponse(y);v(u,e,r,"",t,"complete"),n.removeCallback(y)});else{var b=t(o,s),T=!1;b.open(o,s,!0),i(l,function(e,t){_(e)&&b.setRequestHeader(t,e)}),b.onload=function(){var e=b.statusText||"",t="response"in b?b.response:b.responseText,r=1223===b.status?204:b.status;0===r&&(r=t?200:"file"===Xr(s).protocol?404:0),v(u,r,t,b.getAllResponseHeaders(),e,"complete")};var A=function(){v(u,-1,null,null,"","error")},R=function(){v(u,-1,null,null,"",T?"timeout":"abort")},I=function(){v(u,-1,null,null,"","timeout")};if(b.onerror=A,b.ontimeout=I,b.onabort=R,i(f,function(e,t){b.addEventListener(t,e)}),i(h,function(e,t){b.upload.addEventListener(t,e)}),g&&(b.withCredentials=!0),p)try{b.responseType=p}catch(e){if("json"!==p)throw e}b.send(E(c)?null:c)}if(d>0)var O=r(function(){m("timeout")},d);else x(d)&&d.then(function(){m(_(d.$$timeoutId)?"timeout":"abort")})}}function Kt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(r,n,o){function i(e){return"\\\\\\"+e}function a(r){return r.replace(g,e).replace(p,t)}function s(e,t,r,n){var o=e.$watch(function(e){return o(),n(e)},t,r);return o}function c(i,c,g,p){function f(e){try{return e=g&&!h?o.getTrusted(g,e):o.valueOf(e),p&&!_(e)?e:Se(e)}catch(e){n(Hi.interr(i,e))}}var h=g===o.URL||g===o.MEDIA_URL;if(!i.length||-1===i.indexOf(e)){if(c)return;var m=a(i);h&&(m=o.getTrusted(g,m));var y=v(m);return y.exp=i,y.expressions=[],y.$$watchDelegate=s,y}p=!!p;for(var S,b,T,A,R,I=0,O=[],w=i.length,C=[],N=[];I<w;){if(-1===(S=i.indexOf(e,I))||-1===(b=i.indexOf(t,S+u))){I!==w&&C.push(a(i.substring(I)));break}I!==S&&C.push(a(i.substring(I,S))),A=i.substring(S+u,b),O.push(A),I=b+l,N.push(C.length),C.push("")}R=1===C.length&&1===N.length;var M=h&&R?void 0:f;if(T=O.map(function(e){return r(e,M)}),!c||O.length){var L=function(e){for(var t=0,r=O.length;t<r;t++){if(p&&E(e[t]))return;C[N[t]]=e[t]}return h?o.getTrusted(g,R?C[0]:C.join("")):(g&&C.length>1&&Hi.throwNoconcat(i),C.join(""))};return d(function(e){var t=0,r=O.length,o=new Array(r);try{for(;t<r;t++)o[t]=T[t](e);return L(o)}catch(e){n(Hi.interr(i,e))}},{exp:i,expressions:O,$$watchDelegate:function(e,t){var r;return e.$watchGroup(T,function(n,o){var i=L(n);t.call(this,i,n!==o?r:i,e),r=i})}})}}var u=e.length,l=t.length,g=new RegExp(e.replace(/./g,i),"g"),p=new RegExp(t.replace(/./g,i),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Jt(){this.$get=["$$intervalFactory","$window",function(e,t){var r={},n=function(e,n,o){var i=t.setInterval(e,n);return r[i]=o,i},o=function(e){t.clearInterval(e),delete r[e]},i=e(n,o);return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Gi("badprom","`$interval.cancel()` called with a promise that was not generated by `$interval()`.");if(!r.hasOwnProperty(e.$$intervalId))return!1;var t=e.$$intervalId,n=r[t];return xr(n.promise),n.reject("canceled"),o(t),!0},i}]}function Xt(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,r,n){return function(o,i){return function(a,s,c,u){function l(){g?a.apply(null,p):a(f)}function d(){h?e.defer(l):n.$evalAsync(l),m.notify(f++),c>0&&f>=c&&(m.resolve(f),i(v.$$intervalId)),h||n.$apply()}var g=arguments.length>4,p=g?Y(arguments,4):[],f=0,h=_(u)&&!u,m=(h?r:t).defer(),v=m.promise;return c=_(c)?c:0,v.$$intervalId=o(d,s,m,h),v}}}]}function Qt(e){for(var t=e.split("/"),r=t.length;r--;)t[r]=ae(t[r].replace(/%2F/g,"/"));return t.join("/")}function Zt(e,t){for(var r=e.split("/"),n=r.length;n--;)r[n]=decodeURIComponent(r[n]),t&&(r[n]=r[n].replace(/\//g,"%2F"));return r.join("/")}function er(e,t,r){var n=ie(t),o=r?"#"+ae(r):"";return Qt(e)+(n?"?"+n:"")+o}function tr(e,t){var r=Xr(e);t.$$protocol=r.protocol,t.$$host=r.hostname,t.$$port=p(r.port)||Yi[r.protocol]||null}function rr(e,t,r){if(Ji.test(e))throw Ki("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var o=Xr(e),i=n&&"/"===o.pathname.charAt(0)?o.pathname.substring(1):o.pathname;t.$$path=Zt(i,r),t.$$search=oe(o.search),t.$$hash=decodeURIComponent(o.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function nr(e,t){return e.slice(0,t.length)===t}function or(e,t){if(nr(t,e))return t.substr(e.length)}function ir(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function ar(e){return e.substr(0,ir(e).lastIndexOf("/")+1)}function sr(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function cr(e,t,r){this.$$html5=!0,r=r||"",tr(e,this),this.$$parse=function(e){var r=or(t,e);if(!T(r))throw Ki("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);rr(r,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(n,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a,s;return _(i=or(e,n))?(a=i,s=r&&_(i=or(r,i))?t+(or("/",i)||i):e+a):_(i=or(t,n))?s=t+i:t===n+"/"&&(s=t),s&&this.$$parse(s),!!s}}function ur(e,t,r){tr(e,this),this.$$parse=function(n){var o,i=or(e,n)||or(t,n);E(i)||"#"!==i.charAt(0)?this.$$html5?o=i:(o="",E(i)&&(e=n,this.replace())):(o=or(r,i),E(o)&&(o=i)),rr(o,this,!1),this.$$path=function(e,t,r){var n,o=/^\/[A-Z]:(\/.*)/;return nr(t,r)&&(t=t.replace(r,"")),o.exec(t)?e:(n=o.exec(e),n?n[1]:e)}(this.$$path,o,e),this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?r+t:"")},this.$$parseLinkUrl=function(t,r){return ir(e)===ir(t)&&(this.$$parse(t),!0)}}function lr(e,t,r){this.$$html5=!0,ur.apply(this,arguments),this.$$parseLinkUrl=function(n,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a;return e===ir(n)?i=n:(a=or(t,n))?i=e+r+a:t===n+"/"&&(i=t),i&&this.$$parse(i),!!i},this.$$normalizeUrl=function(t){return e+r+t}}function dr(e){return function(){return this[e]}}function gr(e,t){return function(r){return E(r)?this[e]:(this[e]=t(r),this.$$compose(),this)}}function pr(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(e){return k(e)?(t.enabled=e,this):S(e)?(k(e.enabled)&&(t.enabled=e.enabled),k(e.requireBase)&&(t.requireBase=e.requireBase),(k(e.rewriteLinks)||T(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(r,n,o,i,a){function s(e,t){return e===t||Xr(e).href===Xr(t).href}function c(e,t,r){var o=l.url(),i=l.$$state;try{n.url(e,t,r),l.$$state=n.state()}catch(e){throw l.url(o),l.$$state=i,e}}function u(e,t){r.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,d,g,p=n.baseHref(),f=n.url();if(t.enabled){if(!p&&t.requireBase)throw Ki("nobase","$location in HTML5 mode requires a <base> tag to be present!");g=sr(f)+(p||"/"),d=o.history?cr:lr}else g=ir(f),d=ur;var h=ar(g);l=new d(g,h,"#"+e),l.$$parseLinkUrl(f,f),l.$$state=n.state();var m=/^\s*(javascript|mailto):/i;i.on("click",function(e){var o=t.rewriteLinks;if(o&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var a=fo(e.target);"a"!==$(a[0]);)if(a[0]===i[0]||!(a=a.parent())[0])return;if(!T(o)||!E(a.attr(o))){var s=a.prop("href"),c=a.attr("href")||a.attr("xlink:href");S(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Xr(s.animVal).href),m.test(s)||!s||a.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,c)&&(e.preventDefault(),l.absUrl()!==n.url()&&r.$apply())}}}),l.absUrl()!==f&&n.url(l.absUrl(),!0);var v=!0;return n.onUrlChange(function(e,t){if(!nr(e,h))return void(a.location.href=e);r.$evalAsync(function(){var n,o=l.absUrl(),i=l.$$state;l.$$parse(e),l.$$state=t,n=r.$broadcast("$locationChangeStart",e,o,t,i).defaultPrevented,l.absUrl()===e&&(n?(l.$$parse(o),l.$$state=i,c(o,!1,i)):(v=!1,u(o,i)))}),r.$$phase||r.$digest()}),r.$watch(function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var e=n.url(),t=l.absUrl(),i=n.state(),a=l.$$replace,d=!s(e,t)||l.$$html5&&o.history&&i!==l.$$state;(v||d)&&(v=!1,r.$evalAsync(function(){var t=l.absUrl(),n=r.$broadcast("$locationChangeStart",t,e,l.$$state,i).defaultPrevented;l.absUrl()===t&&(n?(l.$$parse(e),l.$$state=i):(d&&c(t,a,i===l.$$state?null:l.$$state),u(e,i)))}))}l.$$replace=!1}),l}]}function fr(){var e=!0,t=this;this.debugEnabled=function(t){return _(t)?(e=t,this):e},this.$get=["$window",function(r){function n(e){return O(e)&&(e.stack&&a?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=r.console||{},o=t[e]||t.log||h;return function(){var e=[];return i(arguments,function(t){e.push(n(t))}),Function.prototype.apply.call(o,t,e)}}var a=po||/\bEdge\//.test(r.navigator&&r.navigator.userAgent);return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var r=o("debug");return function(){e&&r.apply(t,arguments)}}()}}]}function hr(e){return e+""}function mr(e,t){return void 0!==e?e:t}function vr(e,t){return void 0===e?t:void 0===t?e:e+t}function yr(e,t){return!e(t).$stateful}function Er(e,t){switch(e.type){case na.MemberExpression:if(e.computed)return!1;break;case na.UnaryExpression:return oa;case na.BinaryExpression:return"+"!==e.operator&&oa;case na.CallExpression:return!1}return void 0===t?ia:t}function _r(e,t,r){var n,o,a,s=e.isPure=Er(e,r);switch(e.type){case na.Program:n=!0,i(e.body,function(e){_r(e.expression,t,s),n=n&&e.expression.constant}),e.constant=n;break;case na.Literal:e.constant=!0,e.toWatch=[];break;case na.UnaryExpression:_r(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case na.BinaryExpression:_r(e.left,t,s),_r(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case na.LogicalExpression:_r(e.left,t,s),_r(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case na.ConditionalExpression:_r(e.test,t,s),_r(e.alternate,t,s),_r(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case na.Identifier:e.constant=!1,e.toWatch=[e];break;case na.MemberExpression:_r(e.object,t,s),e.computed&&_r(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case na.CallExpression:a=!!e.filter&&yr(t,e.callee.name),n=a,o=[],i(e.arguments,function(e){_r(e,t,s),n=n&&e.constant,o.push.apply(o,e.toWatch)}),e.constant=n,e.toWatch=a?o:[e];break;case na.AssignmentExpression:_r(e.left,t,s),_r(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case na.ArrayExpression:n=!0,o=[],i(e.elements,function(e){_r(e,t,s),n=n&&e.constant,o.push.apply(o,e.toWatch)}),e.constant=n,e.toWatch=o;break;case na.ObjectExpression:n=!0,o=[],i(e.properties,function(e){_r(e.value,t,s),n=n&&e.value.constant,o.push.apply(o,e.value.toWatch),e.computed&&(_r(e.key,t,!1),n=n&&e.key.constant,o.push.apply(o,e.key.toWatch))}),e.constant=n,e.toWatch=o;break;case na.ThisExpression:case na.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Sr(e){if(1===e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:void 0}}function br(e){return e.type===na.Identifier||e.type===na.MemberExpression}function Tr(e){if(1===e.body.length&&br(e.body[0].expression))return{type:na.AssignmentExpression,left:e.body[0].expression,right:{type:na.NGValueParameter},operator:"="}}function Ar(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===na.Literal||e.body[0].expression.type===na.ArrayExpression||e.body[0].expression.type===na.ObjectExpression)}function Rr(e){return e.constant}function Ir(e){this.$filter=e}function Or(e){this.$filter=e}function wr(e,t,r){this.ast=new na(e,r),this.astCompiler=r.csp?new Or(t):new Ir(t)}function Cr(e){return w(e.valueOf)?e.valueOf():Zi.call(e)}function Nr(){var e,t,r=_e(),n={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){n[e]=t},this.setIdentifierFns=function(r,n){return e=r,t=n,this},this.$get=["$filter",function(o){function a(e,t){var n,i;switch(typeof e){case"string":if(e=e.trim(),i=e,!(n=r[i])){n=new wr(new ra(E),o,E).parse(e),r[i]=p(n)}return v(n,t);case"function":return v(e,t);default:return v(h,t)}}function s(e){return new wr(new ra(E),o,E).getAst(e).ast}function c(e,t,r){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=Cr(e))&&!r)&&(e===t||e!==e&&t!==t)}function u(e,t,r,n,o){var i,a=n.inputs;if(1===a.length){var s=c;return a=a[0],e.$watch(function(e){var t=a(e);return c(t,s,a.isPure)||(i=n(e,void 0,void 0,[t]),s=t&&Cr(t)),i},t,r,o)}for(var u=[],l=[],d=0,g=a.length;d<g;d++)u[d]=c,l[d]=null;return e.$watch(function(e){for(var t=!1,r=0,o=a.length;r<o;r++){var s=a[r](e);(t||(t=!c(s,u[r],a[r].isPure)))&&(l[r]=s,u[r]=s&&Cr(s))}return t&&(i=n(e,void 0,void 0,l)),i},t,r,o)}function l(e,t,r,n,o){function i(){u(c)&&s()}function a(e,t,r,n){return c=f&&n?n[0]:l(e,t,r,n),u(c)&&e.$$postDigest(i),g(c)}var s,c,u=n.literal?d:_,l=n.$$intercepted||n,g=n.$$interceptor||m,f=n.inputs&&!l.inputs;return a.literal=n.literal,a.constant=n.constant,a.inputs=n.inputs,p(a),s=e.$watch(a,t,r,o)}function d(e){var t=!0;return i(e,function(e){_(e)||(t=!1)}),t}function g(e,t,r,n){var o=e.$watch(function(e){return o(),n(e)},t,r);return o}function p(e){return e.constant?e.$$watchDelegate=g:e.oneTime?e.$$watchDelegate=l:e.inputs&&(e.$$watchDelegate=u),e}function f(e,t){function r(r){return t(e(r))}return r.$stateful=e.$stateful||t.$stateful,r.$$pure=e.$$pure&&t.$$pure,r}function v(e,t){if(!t)return e;e.$$interceptor&&(t=f(e.$$interceptor,t),e=e.$$intercepted);var r=!1,n=function(n,o,i,a){var s=r&&a?a[0]:e(n,o,i,a);return t(s)};return n.$$intercepted=e,n.$$interceptor=t,n.literal=e.literal,n.oneTime=e.oneTime,n.constant=e.constant,t.$stateful||(r=!e.inputs,n.inputs=e.inputs?e.inputs:[e],t.$$pure||(n.inputs=n.inputs.map(function(e){return e.isPure===ia?function(t){return e(t)}:e}))),p(n)}var y=ko().noUnsafeEval,E={csp:y,literals:H(n),isIdentifierStart:w(e)&&e,isIdentifierContinue:w(t)&&t};return a.$$getAst=s,a}]}function Mr(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,r){return Dr(function(e){t.$evalAsync(e)},r,e)}],this.errorOnUnhandledRejections=function(t){return _(t)?(e=t,this):e}}function Lr(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,r){return Dr(function(e){t.defer(e)},r,e)}],this.errorOnUnhandledRejections=function(t){return _(t)?(e=t,this):e}}function Dr(e,t,r){function o(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){g(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function c(n){var o,i,a;a=n.pending,n.processScheduled=!1,n.pending=void 0;try{for(var s=0,c=a.length;s<c;++s){kr(n),i=a[s][0],o=a[s][n.status];try{w(o)?g(i,o(n.value)):1===n.status?g(i,n.value):f(i,n.value)}catch(e){f(i,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--C,r&&0===C&&e(u)}}function u(){for(;!C&&N.length;){var e=N.shift();if(!Pr(e)){kr(e);var r="Possibly unhandled rejection: "+Re(e.value);O(e.value)?t(e.value,r):t(r)}}}function l(t){!r||t.pending||2!==t.status||Pr(t)||(0===C&&0===N.length&&e(u),N.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++C,e(function(){c(t)}))}function g(e,t){e.$$state.status||(t===e?h(e,R("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){function r(t){a||(a=!0,p(e,t))}function n(t){a||(a=!0,h(e,t))}function o(t){m(e,t)}var i,a=!1;try{(S(t)||w(t))&&(i=t.then),w(i)?(e.$$state.status=-1,i.call(t,r,n,o)):(e.$$state.value=t,e.$$state.status=1,l(e.$$state))}catch(e){n(e)}}function f(e,t){e.$$state.status||h(e,t)}function h(e,t){e.$$state.value=t,e.$$state.status=2,l(e.$$state)}function m(r,n){var o=r.$$state.pending;r.$$state.status<=0&&o&&o.length&&e(function(){for(var e,r,i=0,a=o.length;i<a;i++){r=o[i][0],e=o[i][3];try{m(r,w(e)?e(n):n)}catch(e){t(e)}}})}function v(e){var t=new s;return f(t,e),t}function y(e,t,r){var n=null;try{w(r)&&(n=r())}catch(e){return v(e)}return x(n)?n.then(function(){return t(e)},v):t(e)}function _(e,t,r,n){var o=new s;return g(o,e),o.then(t,r,n)}function b(e){var t=new s,r=0,n=I(e)?[]:{};return i(e,function(e,o){r++,_(e).then(function(e){n[o]=e,--r||g(t,n)},function(e){f(t,e)})}),0===r&&g(t,n),t}function T(e){var t=o();return i(e,function(e){_(e).then(t.resolve,t.reject)}),t.promise}function A(e){function t(e){g(n,e)}function r(e){f(n,e)}if(!w(e))throw R("norslvr","Expected resolverFn, got '{0}'",e);var n=new s;return e(t,r),n}var R=n("$q",TypeError),C=0,N=[];d(s.prototype,{then:function(e,t,r){if(E(e)&&E(t)&&E(r))return this;var n=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([n,e,t,r]),this.$$state.status>0&&l(this.$$state),n},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return y(t,M,e)},function(t){return y(t,v,e)},t)}});var M=_;return A.prototype=s.prototype,A.defer=o,A.reject=v,A.when=_,A.resolve=M,A.all=b,A.race=T,A}function Pr(e){return!!e.pur}function kr(e){e.pur=!0}function xr(e){e.$$state&&kr(e.$$state)}function jr(){this.$get=["$window","$timeout",function(e,t){var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame,n=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!r,i=o?function(e){var t=r(e);return function(){n(t)}}:function(e){var r=t(e,16.66,!1);return function(){t.cancel(r)}};return i.supported=o,i}]}function Ur(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}var t=10,r=n("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(n,u,l){function d(e){e.currentScope.$$destroyed=!0}function g(e){9===po&&(e.$$childHead&&g(e.$$childHead),e.$$nextSibling&&g(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$suspended=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(A.$$phase)throw r("inprog","{0} already in progress",A.$$phase);A.$$phase=e}function m(){A.$$phase=null}function v(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function y(e,t,r){do{e.$$listenerCount[r]-=t,0===e.$$listenerCount[r]&&delete e.$$listenerCount[r]}while(e=e.$parent)}function _(){}function b(){for(;O.length;)try{O.shift()()}catch(e){n(e)}s=null}function T(){null===s&&(s=l.defer(function(){A.$apply(b)},null,"$applyAsync"))}p.prototype={constructor:p,$new:function(t,r){var n;return r=r||this,t?(n=new p,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),n=new this.$$ChildScope),n.$parent=r,n.$$prevSibling=r.$$childTail,r.$$childHead?(r.$$childTail.$$nextSibling=n,r.$$childTail=n):r.$$childHead=r.$$childTail=n,(t||r!==this)&&n.$on("$destroy",d),n},$watch:function(e,t,r,n){var o=u(e),i=w(t)?t:h;if(o.$$watchDelegate)return o.$$watchDelegate(this,i,r,o,e);var s=this,c=s.$$watchers,l={fn:i,last:_,get:o,exp:n||e,eq:!!r};return a=null,c||(c=s.$$watchers=[],c.$$digestWatchIndex=-1),c.unshift(l),c.$$digestWatchIndex++,v(this,1),function(){var e=W(c,l);e>=0&&(v(s,-1),e<c.$$digestWatchIndex&&c.$$digestWatchIndex--),a=null}},$watchGroup:function(e,t){function r(){c=!1;try{u?(u=!1,t(o,o,s)):t(o,n,s)}finally{for(var r=0;r<e.length;r++)n[r]=o[r]}}var n=new Array(e.length),o=new Array(e.length),a=[],s=this,c=!1,u=!0;if(!e.length){var l=!0;return s.$evalAsync(function(){l&&t(o,o,s)}),function(){l=!1}}return 1===e.length?this.$watch(e[0],function(e,r,i){o[0]=e,n[0]=r,t(o,e===r?o:n,i)}):(i(e,function(e,t){var n=s.$watch(e,function(e){o[t]=e,c||(c=!0,s.$evalAsync(r))});a.push(n)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){i=e;var t,r,n,s;if(!E(i)){if(S(i))if(o(i)){a!==p&&(a=p,m=a.length=0,d++),t=i.length,m!==t&&(d++,a.length=m=t);for(var c=0;c<t;c++)s=a[c],n=i[c],s!==s&&n!==n||s===n||(d++,a[c]=n)}else{a!==f&&(a=f={},m=0,d++),t=0;for(r in i)_o.call(i,r)&&(t++,n=i[r],s=a[r],r in a?s!==s&&n!==n||s===n||(d++,a[r]=n):(m++,a[r]=n,d++));if(m>t){d++;for(r in a)_o.call(i,r)||(m--,delete a[r])}}else a!==i&&(a=i,d++);return d}}function n(){if(h?(h=!1,t(i,i,c)):t(i,s,c),l)if(S(i))if(o(i)){s=new Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else{s={};for(var r in i)_o.call(i,r)&&(s[r]=i[r])}else s=i}r.$$pure=u(e).literal,r.$stateful=!r.$$pure;var i,a,s,c=this,l=t.length>1,d=0,g=u(e,r),p=[],f={},h=!0,m=0;return this.$watch(g,n)},$digest:function(){var e,o,i,c,u,d,g,p,h,v,y,E=t,S=R.length?A:this,T=[];f("$digest"),l.$$checkUrlChange(),this===A&&null!==s&&(l.defer.cancel(s),b()),a=null;do{g=!1,h=S;for(var O=0;O<R.length;O++){try{y=R[O],c=y.fn,c(y.scope,y.locals)}catch(e){n(e)}a=null}R.length=0;e:do{if(d=!h.$$suspended&&h.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(u=e.get,(o=u(h))===(i=e.last)||(e.eq?q(o,i):Mo(o)&&Mo(i))){if(e===a){g=!1;break e}}else g=!0,a=e,e.last=e.eq?H(o,null):o,c=e.fn,c(o,i===_?o:i,h),E<5&&(v=4-E,T[v]||(T[v]=[]),T[v].push({msg:w(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:o,oldVal:i}))}catch(e){n(e)}if(!(p=!h.$$suspended&&h.$$watchersCount&&h.$$childHead||h!==S&&h.$$nextSibling))for(;h!==S&&!(p=h.$$nextSibling);)h=h.$parent}while(h=p);if((g||R.length)&&!E--)throw m(),r("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,T)}while(g||R.length);for(m();C<I.length;)try{I[C++]()}catch(e){n(e)}I.length=C=0,l.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===A&&l.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$$nextSibling=null,g(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){A.$$phase||R.length||l.defer(function(){R.length&&A.$digest()},null,"$evalAsync"),R.push({scope:this,fn:u(e),locals:t})},$$postDigest:function(e){I.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{m()}}catch(e){n(e)}finally{try{A.$digest()}catch(e){throw n(e),e}}},$applyAsync:function(e){function t(){r.$eval(e)}var r=this;e&&O.push(t),e=u(e),T()},$on:function(e,t){var r=this.$$listeners[e];r||(this.$$listeners[e]=r=[]),r.push(t);var n=this;do{n.$$listenerCount[e]||(n.$$listenerCount[e]=0),n.$$listenerCount[e]++}while(n=n.$parent);var o=this;return function(){var n=r.indexOf(t);-1!==n&&(delete r[n],y(o,1,e))}},$emit:function(e,t){var r,o,i,a=[],s=this,c=!1,u={name:e,targetScope:s,stopPropagation:function(){c=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=z([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,o=0,i=r.length;o<i;o++)if(r[o])try{r[o].apply(null,l)}catch(e){n(e)}else r.splice(o,1),o--,i--;if(c)break;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var r=this,o=r,i=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,c,u,l=z([a],arguments,1);o=i;){for(a.currentScope=o,s=o.$$listeners[e]||[],c=0,u=s.length;c<u;c++)if(s[c])try{s[c].apply(null,l)}catch(e){n(e)}else s.splice(c,1),c--,u--;if(!(i=o.$$listenerCount[e]&&o.$$childHead||o!==r&&o.$$nextSibling))for(;o!==r&&!(i=o.$$nextSibling);)o=o.$parent}return a.currentScope=null,a}};var A=new p,R=A.$$asyncQueue=[],I=A.$$postDigestQueue=[],O=A.$$applyAsyncQueue=[],C=0;return A}]}function Br(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationTrustedUrlList=function(t){return _(t)?(e=t,this):e},this.imgSrcSanitizationTrustedUrlList=function(e){return _(e)?(t=e,this):t},this.$get=function(){return function(r,n){var o=n?t:e,i=Xr(r&&r.trim()).href;return""===i||i.match(o)?r:"unsafe:"+i}}}function Vr(e){return e.replace(ua,we)}function $r(e){if("self"===e)return e;if(T(e)){if(e.indexOf("***")>-1)throw sa("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Po(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(C(e))return new RegExp("^"+e.source+"$");throw sa("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Fr(e){var t=[];return _(e)&&i(e,function(e){t.push($r(e))}),t}function Wr(){this.SCE_CONTEXTS=ca;var e=["self"],t=[];this.trustedResourceUrlList=function(t){return arguments.length&&(e=Fr(t)),e},Object.defineProperty(this,"resourceUrlWhitelist",{get:function(){return this.trustedResourceUrlList},set:function(e){this.trustedResourceUrlList=e}}),this.bannedResourceUrlList=function(e){return arguments.length&&(t=Fr(e)),t},Object.defineProperty(this,"resourceUrlBlacklist",{get:function(){return this.bannedResourceUrlList},set:function(e){this.bannedResourceUrlList=e}}),this.$get=["$injector","$$sanitizeUri",function(r,n){function o(e,t){return"self"===e?Qr(t)||Zr(t):!!e.exec(t.href)}function i(r){var n,i,a=Xr(r.toString()),s=!1;for(n=0,i=e.length;n<i;n++)if(o(e[n],a)){s=!0;break}if(s)for(n=0,i=t.length;n<i;n++)if(o(t[n],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=g.hasOwnProperty(e)?g[e]:null;if(!r)throw sa("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||E(t)||""===t)return t;if("string"!=typeof t)throw sa("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof d?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||E(t)||""===t)return t;var r=g.hasOwnProperty(e)?g[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(w(t.$$unwrapTrustedValue)&&(t=t.$$unwrapTrustedValue()),e===ca.MEDIA_URL||e===ca.URL)return n(t.toString(),e===ca.MEDIA_URL);if(e===ca.RESOURCE_URL){if(i(t))return t;throw sa("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ca.HTML)return l(t);throw sa("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(e){throw sa("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(l=r.get("$sanitize"));var d=a(),g={};return g[ca.HTML]=a(d),g[ca.CSS]=a(d),g[ca.MEDIA_URL]=a(d),g[ca.URL]=a(g[ca.MEDIA_URL]),g[ca.JS]=a(d),g[ca.RESOURCE_URL]=a(g[ca.URL]),{trustAs:s,getTrusted:u,valueOf:c}}]}function Hr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,r){if(e&&po<8)throw sa("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var n=Te(ca);n.isEnabled=function(){return e},n.trustAs=r.trustAs,n.getTrusted=r.getTrusted,n.valueOf=r.valueOf,e||(n.trustAs=n.getTrusted=function(e,t){return t},n.valueOf=m),n.parseAs=function(e,r){var o=t(r);return o.literal&&o.constant?o:t(r,function(t){return n.getTrusted(e,t)})};var o=n.parseAs,a=n.getTrusted,s=n.trustAs;return i(ca,function(e,t){var r=So(t);n[Vr("parse_as_"+r)]=function(t){return o(e,t)},n[Vr("get_trusted_"+r)]=function(t){return a(e,t)},n[Vr("trust_as_"+r)]=function(t){return s(e,t)}}),n}]}function Gr(){this.$get=["$window","$document",function(e,t){var r={},n=e.nw&&e.nw.process,o=!n&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),i=!o&&e.history&&e.history.pushState,a=p((/android (\d+)/.exec(So((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),c=t[0]||{},u=c.body&&c.body.style,l=!1,d=!1;return u&&(l=!!("transition"in u||"webkitTransition"in u),d=!!("animation"in u||"webkitAnimation"in u)),{history:!(!i||a<4||s),hasEvent:function(e){if("input"===e&&po)return!1;if(E(r[e])){var t=c.createElement("div");r[e]="on"+e in t}return r[e]},csp:ko(),transitions:l,animations:d,android:a}}]}function qr(){this.$get=v(function(e){return new zr(e)})}function zr(e){function t(t,i){i=i||d;try{t()}finally{r(i);var a=c[i],s=c[l];if(!s||!a)for(var u,g=s?o:n;u=g(i);)try{u()}catch(t){e.error(t)}}}function r(e){e=e||d,c[e]&&(c[e]--,c[l]--)}function n(){var e=u.pop();return e&&e.cb}function o(e){for(var t=u.length-1;t>=0;--t){var r=u[t];if(r.type===e)return u.splice(t,1),r.cb}}function i(e){e=e||d,c[e]=(c[e]||0)+1,c[l]=(c[l]||0)+1}function a(e,t){t=t||l,c[t]?u.push({type:t,cb:e}):e()}var s=this,c={},u=[],l=s.ALL_TASKS_TYPE="$$all$$",d=s.DEFAULT_TASK_TYPE="$$default$$";s.completeTask=t,s.incTaskCount=i,s.notifyWhenNoPendingTasks=a}function Yr(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,r,n,o,i){function a(s,c){function u(e){return c||(e=la("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),o.reject(e)}a.totalPendingRequests++,T(s)&&!E(r.get(s))||(s=i.getTrustedResourceUrl(s));var l=n.defaults&&n.defaults.transformResponse;return I(l)?l=l.filter(function(e){return e!==Bt}):l===Bt&&(l=null),n.get(s,d({cache:r,transformResponse:l},e)).finally(function(){a.totalPendingRequests--}).then(function(e){return r.put(s,e.data)},u)}return a.totalPendingRequests=0,a}]}function Kr(){this.$get=["$rootScope","$browser","$location",function(e,t,r){var n={};return n.findBindings=function(e,t,r){var n=e.getElementsByClassName("ng-binding"),o=[];return i(n,function(e){var n=Co.element(e).data("$binding");n&&i(n,function(n){if(r){new RegExp("(^|\\s)"+Po(t)+"(\\s|\\||$)").test(n)&&o.push(e)}else-1!==n.indexOf(t)&&o.push(e)})}),o},n.findModels=function(e,t,r){for(var n=["ng-","data-ng-","ng\\:"],o=0;o<n.length;++o){var i=r?"=":"*=",a="["+n[o]+"model"+i+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},n.getLocation=function(){return r.url()},n.setLocation=function(t){t!==r.url()&&(r.url(t),e.$digest())},n.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},n}]}function Jr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,r,n,o){function i(i,s,c){w(i)||(c=s,s=i,i=h);var u,l=Y(arguments,3),d=_(c)&&!c,g=(d?n:r).defer(),p=g.promise;return u=t.defer(function(){try{g.resolve(i.apply(null,l))}catch(e){g.reject(e),o(e)}finally{delete a[p.$$timeoutId]}d||e.$apply()},s,"$timeout"),p.$$timeoutId=u,a[u]=g,p}var a={};return i.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw da("badprom","`$timeout.cancel()` called with a promise that was not generated by `$timeout()`.");if(!a.hasOwnProperty(e.$$timeoutId))return!1;var r=e.$$timeoutId,n=a[r];return xr(n.promise),n.reject("canceled"),delete a[r],t.defer.cancel(r)},i}]}function Xr(e){if(!T(e))return e;var t=e;po&&(ga.setAttribute("href",t),t=ga.href),ga.setAttribute("href",t);var r=ga.hostname;return!fa&&r.indexOf(":")>-1&&(r="["+r+"]"),{href:ga.href,protocol:ga.protocol?ga.protocol.replace(/:$/,""):"",host:ga.host,search:ga.search?ga.search.replace(/^\?/,""):"",hash:ga.hash?ga.hash.replace(/^#/,""):"",hostname:r,port:ga.port,pathname:"/"===ga.pathname.charAt(0)?ga.pathname:"/"+ga.pathname}}function Qr(e){return tn(e,pa)}function Zr(e){return tn(e,rn())}function en(e){var t=[pa].concat(e.map(Xr));return function(e){var r=Xr(e);return t.some(tn.bind(null,r))}}function tn(e,t){return e=Xr(e),t=Xr(t),e.protocol===t.protocol&&e.host===t.host}function rn(){return e.document.baseURI?e.document.baseURI:(aa||(aa=e.document.createElement("a"),aa.href=".",aa=aa.cloneNode(!1)),aa.href)}function nn(){this.$get=v(e)}function on(e){function t(e){try{return e.cookie||""}catch(e){return""}}function r(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},o={},i="";return function(){var e,a,s,c,u,l=t(n);if(l!==i)for(i=l,e=i.split("; "),o={},s=0;s<e.length;s++)a=e[s],(c=a.indexOf("="))>0&&(u=r(a.substring(0,c)),E(o[u])&&(o[u]=r(a.substring(c+1))));return o}}function an(){this.$get=on}function sn(e){function t(n,o){if(S(n)){var a={};return i(n,function(e,r){a[r]=t(r,e)}),a}return e.factory(n+r,o)}var r="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+r)}}],t("currency",gn),t("date",On),t("filter",cn),t("json",wn),t("limitTo",Cn),t("lowercase",Sa),t("number",pn),t("orderBy",Mn),t("uppercase",ba)}function cn(){return function(e,t,r,i){if(!o(e)){if(null==e)return e;throw n("filter")("notarray","Expected array but received: {0}",e)}i=i||"$";var a,s,c=dn(t);switch(c){case"function":a=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=un(t,r,i,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function un(e,t,r,n){var o=S(e)&&r in e;return!0===t?t=q:w(t)||(t=function(e,t){return!E(e)&&(null===e||null===t?e===t:!(S(t)||S(e)&&!y(e))&&(e=So(""+e),t=So(""+t),-1!==e.indexOf(t)))}),function(i){return o&&!S(i)?ln(i,e[r],t,r,!1):ln(i,e,t,r,n)}}function ln(e,t,r,n,o,i){var a=dn(e),s=dn(t);if("string"===s&&"!"===t.charAt(0))return!ln(e,t.substring(1),r,n,o);if(I(e))return e.some(function(e){return ln(e,t,r,n,o)});switch(a){case"object":var c;if(o){for(c in e)if(c.charAt&&"$"!==c.charAt(0)&&ln(e[c],t,r,n,!0))return!0;return!i&&ln(e,t,r,n,!1)}if("object"===s){for(c in t){var u=t[c];if(!w(u)&&!E(u)){var l=c===n;if(!ln(l?e:e[c],u,r,n,l,l))return!1}}return!0}return r(e,t);case"function":return!1;default:return r(e,t)}}function dn(e){return null===e?"null":typeof e}function gn(e){var t=e.NUMBER_FORMATS;return function(e,r,n){E(r)&&(r=t.CURRENCY_SYM),E(n)&&(n=t.PATTERNS[1].maxFrac);var o=r?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:mn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,n).replace(o,r)}}function pn(e){var t=e.NUMBER_FORMATS;return function(e,r){return null==e?e:mn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,r)}}function fn(e){var t,r,n,o,i,a=0;for((r=e.indexOf(ma))>-1&&(e=e.replace(ma,"")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charAt(n)===va;n++);if(n===(i=e.length))t=[0],r=1;else{for(i--;e.charAt(i)===va;)i--;for(r-=n,t=[],o=0;n<=i;n++,o++)t[o]=+e.charAt(n)}return r>ha&&(t=t.splice(0,ha-1),a=r-1,r=1),{d:t,e:a,i:r}}function hn(e,t,r,n){var o=e.d,i=o.length-e.i;t=E(t)?Math.min(Math.max(r,i),n):+t;var a=t+e.i,s=o[a];if(a>0){o.splice(Math.max(e.i,a));for(var c=a;c<o.length;c++)o[c]=0}else{i=Math.max(0,i),e.i=1,o.length=Math.max(1,a=t+1),o[0]=0;for(var u=1;u<a;u++)o[u]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)o.unshift(0),e.i++;o.unshift(1),e.i++}else o[a-1]++;for(;i<Math.max(0,t);i++)o.push(0);var d=o.reduceRight(function(e,t,r,n){return t+=e,n[r]=t%10,Math.floor(t/10)},0);d&&(o.unshift(d),e.i++)}function mn(e,t,r,n,o){if(!T(e)&&!A(e)||isNaN(e))return"";var i,a=!isFinite(e),s=!1,c=Math.abs(e)+"",u="";if(a)u="∞";else{i=fn(c),hn(i,o,t.minFrac,t.maxFrac);var l=i.d,d=i.i,g=i.e,p=[];for(s=l.reduce(function(e,t){return e&&!t},!0);d<0;)l.unshift(0),d++;d>0?p=l.splice(d,l.length):(p=l,l=[0]);var f=[];for(l.length>=t.lgSize&&f.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)f.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&f.unshift(l.join("")),u=f.join(r),p.length&&(u+=n+p.join("")),g&&(u+="e+"+g)}return e<0&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function vn(e,t,r,n){var o="";for((e<0||n&&e<=0)&&(n?e=1-e:(e=-e,o="-")),e=""+e;e.length<t;)e=va+e;return r&&(e=e.substr(e.length-t)),o+e}function yn(e,t,r,n,o){return r=r||0,function(i){var a=i["get"+e]();return(r>0||a>-r)&&(a+=r),0===a&&-12===r&&(a=12),vn(a,t,n,o)}}function En(e,t,r){return function(n,o){var i=n["get"+e]();return o[bo((r?"STANDALONE":"")+(t?"SHORT":"")+e)][i]}}function _n(e,t,r){var n=-1*r,o=n>=0?"+":"";return o+=vn(Math[n>0?"floor":"ceil"](n/60),2)+vn(Math.abs(n%60),2)}function Sn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function bn(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Tn(e){return function(t){var r=Sn(t.getFullYear()),n=bn(t),o=+n-+r;return vn(1+Math.round(o/6048e5),e)}}function An(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Rn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function In(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function On(e){function t(e){var t;if(t=e.match(r)){var n=new Date(0),o=0,i=0,a=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(o=p(t[9]+t[10]),i=p(t[9]+t[11])),a.call(n,p(t[1]),p(t[2])-1,p(t[3]));var c=p(t[4]||0)-o,u=p(t[5]||0)-i,l=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,c,u,l,d),n}return e}var r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(r,n,o){var a,s,c="",u=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,T(r)&&(r=_a.test(r)?p(r):t(r)),A(r)&&(r=new Date(r)),!R(r)||!isFinite(r.getTime()))return r;for(;n;)s=Ea.exec(n),s?(u=z(u,s,1),n=u.pop()):(u.push(n),n=null);var l=r.getTimezoneOffset();return o&&(l=Z(o,l),r=te(r,o,!0)),i(u,function(t){a=ya[t],c+=a?a(r,e.DATETIME_FORMATS,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function wn(){return function(e,t){return E(t)&&(t=2),X(e,t)}}function Cn(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):p(t),Mo(t)?e:(A(e)&&(e=e.toString()),o(e)?(r=!r||isNaN(r)?0:p(r),r=r<0?Math.max(0,e.length+r):r,t>=0?Nn(e,r,r+t):0===r?Nn(e,t,e.length):Nn(e,Math.max(0,r+t),r)):e)}}function Nn(e,t,r){return T(e)?e.slice(t,r):To.call(e,t,r)}function Mn(e){function t(t){return t.map(function(t){var r=1,n=m;if(w(t))n=t;else if(T(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(r="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=e(t),n.constant))){var o=n();n=function(e){return e[o]}}return{get:n,descending:r}})}function r(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function i(e){return w(e.valueOf)&&(e=e.valueOf(),r(e))?e:(y(e)&&(e=e.toString(),r(e)),e)}function a(e,t){var r=typeof e;return null===e?r="null":"object"===r&&(e=i(e)),{value:e,type:r,index:t}}function s(e,t){var r=0,n=e.type,o=t.type;if(n===o){var i=e.value,a=t.value;"string"===n?(i=i.toLowerCase(),a=a.toLowerCase()):"object"===n&&(S(i)&&(i=e.index),S(a)&&(a=t.index)),i!==a&&(r=i<a?-1:1)}else r="undefined"===n?1:"undefined"===o?-1:"null"===n?1:"null"===o?-1:n<o?-1:1;return r}return function(e,r,i,c){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(r){return a(r.get(e),t)})}}function l(e,t){for(var r=0,n=d.length;r<n;r++){var o=p(e.predicateValues[r],t.predicateValues[r]);if(o)return o*d[r].descending*g}return(p(e.tieBreaker,t.tieBreaker)||s(e.tieBreaker,t.tieBreaker))*g}if(null==e)return e;if(!o(e))throw n("orderBy")("notarray","Expected array but received: {0}",e);I(r)||(r=[r]),0===r.length&&(r=["+"]);var d=t(r),g=i?-1:1,p=w(c)?c:s,f=Array.prototype.map.call(e,u);return f.sort(l),e=f.map(function(e){return e.value})}}function Ln(e){return w(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function Dn(e,t){e.$name=t}function Pn(e,t,r,n,o){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=o(t.name||t.ngForm||"")(r),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Ra,this.$$element=e,this.$$animate=n,kn(this)}function kn(e){e.$$classCache={},e.$$classCache[us]=!(e.$$classCache[cs]=e.$$element.hasClass(cs))}function xn(e){function t(e,t,r,n){e[t]||(e[t]={}),a(e[t],r,n)}function r(e,t,r,n){e[t]&&s(e[t],r,n),jn(e[t])&&(e[t]=void 0)}function n(e,t,r){r&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!r&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function o(e,t,r){t=t?"-"+pe(t,"-"):"",n(e,cs+t,!0===r),n(e,us+t,!1===r)}var i=e.clazz,a=e.set,s=e.unset;i.prototype.$setValidity=function(e,i,c){E(i)?t(this,"$pending",e,c):r(this,"$pending",e,c),k(i)?i?(s(this.$error,e,c),a(this.$$success,e,c)):(a(this.$error,e,c),s(this.$$success,e,c)):(s(this.$error,e,c),s(this.$$success,e,c)),this.$pending?(n(this,Ia,!0),this.$valid=this.$invalid=void 0,o(this,"",null)):(n(this,Ia,!1),this.$valid=jn(this.$error),this.$invalid=!this.$valid,o(this,"",this.$valid));var u;u=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),o(this,e,u),this.$$parentForm.$setValidity(e,u,this)}}function jn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Un(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Bn(e,t,r,n,o,i){Vn(e,t,r,n,o,i),Un(n)}function Vn(e,t,r,n,o,i){var a=So(t[0].type);if(!o.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionupdate",function(e){(E(e.data)||""===e.data)&&(s=!1)}),t.on("compositionend",function(){s=!1,u()})}var c,u=function(e){if(c&&(i.defer.cancel(c),c=null),!s){var o=t.val(),u=e&&e.type;"password"===a||r.ngTrim&&"false"===r.ngTrim||(o=Do(o)),(n.$viewValue!==o||""===o&&n.$$hasNativeValidators)&&n.$setViewValue(o,u)}};if(o.hasEvent("input"))t.on("input",u);else{var l=function(e,t,r){c||(c=i.defer(function(){c=null,t&&t.value===r||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||l(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut drop",l)}t.on("change",u),Va[a]&&n.$$hasNativeValidators&&a===r.type&&t.on(Ba,function(e){if(!c){var t=this[Eo],r=t.badInput,n=t.typeMismatch;c=i.defer(function(){c=null,t.badInput===r&&t.typeMismatch===n||u(e)})}}),n.$render=function(){var e=n.$isEmpty(n.$viewValue)?"":n.$viewValue;t.val()!==e&&t.val(e)}}function $n(e,t){if(R(e))return e;if(T(e)){xa.lastIndex=0;var r=xa.exec(e);if(r){var n=+r[1],o=+r[2],i=0,a=0,s=0,c=0,u=Sn(n),l=7*(o-1);return t&&(i=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(n,0,u.getDate()+l,i,a,s,c)}}return NaN}function Fn(e,t){return function(r,n){var o,a;if(R(r))return r;if(T(r)){if('"'===r.charAt(0)&&'"'===r.charAt(r.length-1)&&(r=r.substring(1,r.length-1)),Na.test(r))return new Date(r);if(e.lastIndex=0,o=e.exec(r)){o.shift(),a=n?{yyyy:n.getFullYear(),MM:n.getMonth()+1,dd:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds(),sss:n.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,r){r<t.length&&(a[t[r]]=+e)});var s=new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0);return a.yyyy<100&&s.setFullYear(a.yyyy),s}}return NaN}}function Wn(e,t,r,n){return function(o,i,a,s,c,u,l,d){function g(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return _(e)&&!R(e)?f(e)||void 0:e}function f(e,t){var n=s.$options.getOption("timezone");v&&v!==n&&(t=ee(t,Z(v)));var o=r(e,t);return!isNaN(o)&&n&&(o=te(o,n)),o}function h(e,t){var r=n;y&&T(s.$options.getOption("timeSecondsFormat"))&&(r=n.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,""));var o=l("date")(e,r,t);return y&&s.$options.getOption("timeStripZeroSeconds")&&(o=o.replace(/(?::00)?(?:\.000)?$/,"")),o}Hn(o,i,a,s,e),Vn(o,i,a,s,c,u);var m,v,y="time"===e||"datetimelocal"===e;if(s.$parsers.push(function(r){return s.$isEmpty(r)?null:t.test(r)?f(r,m):void(s.$$parserName=e)}),s.$formatters.push(function(e){if(e&&!R(e))throw gs("datefmt","Expected `{0}` to be a date",e);if(g(e)){m=e;var t=s.$options.getOption("timezone");return t&&(v=t,m=te(m,t,!0)),h(e,t)}return m=null,v=null,""}),_(a.min)||a.ngMin){var S=a.min||d(a.ngMin)(o),b=p(S);s.$validators.min=function(e){return!g(e)||E(b)||r(e)>=b},a.$observe("min",function(e){e!==S&&(b=p(e),S=e,s.$validate())})}if(_(a.max)||a.ngMax){var A=a.max||d(a.ngMax)(o),I=p(A);s.$validators.max=function(e){return!g(e)||E(I)||r(e)<=I},a.$observe("max",function(e){e!==A&&(I=p(e),A=e,s.$validate())})}}}function Hn(e,t,r,n,o){var i=t[0];(n.$$hasNativeValidators=S(i.validity))&&n.$parsers.push(function(e){var r=t.prop(Eo)||{};return r.badInput||r.typeMismatch?void(n.$$parserName=o):e})}function Gn(e){e.$parsers.push(function(t){return e.$isEmpty(t)?null:Da.test(t)?parseFloat(t):void(e.$$parserName="number")}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!A(t))throw gs("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function qn(e){return _(e)&&!A(e)&&(e=parseFloat(e)),Mo(e)?void 0:e}function zn(e){return(0|e)===e}function Yn(e){var t=e.toString(),r=t.indexOf(".");if(-1===r){if(-1<e&&e<1){var n=/e-(\d+)$/.exec(t);if(n)return Number(n[1])}return 0}return t.length-r-1}function Kn(e,t,r){var n=Number(e),o=!zn(n),i=!zn(t),a=!zn(r);if(o||i||a){var s=o?Yn(n):0,c=i?Yn(t):0,u=a?Yn(r):0,l=Math.max(s,c,u),d=Math.pow(10,l);n*=d,t*=d,r*=d,o&&(n=Math.round(n)),i&&(t=Math.round(t)),a&&(r=Math.round(r))}return(n-t)%r==0}function Jn(e,t,r,n,o,i,a,s){Hn(e,t,r,n,"number"),Gn(n),Vn(e,t,r,n,o,i);var c;if(_(r.min)||r.ngMin){var u=r.min||s(r.ngMin)(e);c=qn(u),n.$validators.min=function(e,t){return n.$isEmpty(t)||E(c)||t>=c},r.$observe("min",function(e){e!==u&&(c=qn(e),u=e,n.$validate())})}if(_(r.max)||r.ngMax){var l=r.max||s(r.ngMax)(e),d=qn(l);n.$validators.max=function(e,t){return n.$isEmpty(t)||E(d)||t<=d},r.$observe("max",function(e){e!==l&&(d=qn(e),l=e,n.$validate())})}if(_(r.step)||r.ngStep){var g=r.step||s(r.ngStep)(e),p=qn(g);n.$validators.step=function(e,t){return n.$isEmpty(t)||E(p)||Kn(t,c||0,p)},r.$observe("step",function(e){e!==g&&(p=qn(e),g=e,n.$validate())})}}function Xn(e,t,r,n,o,i){function a(e,n){t.attr(e,r[e]);var o=r[e];r.$observe(e,function(e){e!==o&&(o=e,n(e))})}function s(e){if(d=qn(e),!Mo(n.$modelValue))if(l){var r=t.val();d>r&&(r=d,t.val(r)),n.$setViewValue(r)}else n.$validate()}function c(e){if(g=qn(e),!Mo(n.$modelValue))if(l){var r=t.val();g<r&&(t.val(g),r=g<d?d:g),n.$setViewValue(r)}else n.$validate()}function u(e){p=qn(e),Mo(n.$modelValue)||(l?n.$viewValue!==t.val()&&n.$setViewValue(t.val()):n.$validate())}Hn(e,t,r,n,"range"),Gn(n),Vn(e,t,r,n,o,i);var l=n.$$hasNativeValidators&&"range"===t[0].type,d=l?0:void 0,g=l?100:void 0,p=l?1:void 0,f=t[0].validity,h=_(r.min),m=_(r.max),v=_(r.step),y=n.$render;n.$render=l&&_(f.rangeUnderflow)&&_(f.rangeOverflow)?function(){y(),n.$setViewValue(t.val())}:y,h&&(d=qn(r.min),n.$validators.min=l?function(){return!0}:function(e,t){return n.$isEmpty(t)||E(d)||t>=d},a("min",s)),m&&(g=qn(r.max),n.$validators.max=l?function(){return!0}:function(e,t){return n.$isEmpty(t)||E(g)||t<=g},a("max",c)),v&&(p=qn(r.step),n.$validators.step=l?function(){return!f.stepMismatch}:function(e,t){return n.$isEmpty(t)||E(p)||Kn(t,d||0,p)},a("step",u))}function Qn(e,t,r,n,o,i){Vn(e,t,r,n,o,i),Un(n),n.$validators.url=function(e,t){var r=e||t;return n.$isEmpty(r)||Ma.test(r)}}function Zn(e,t,r,n,o,i){Vn(e,t,r,n,o,i),Un(n),n.$validators.email=function(e,t){var r=e||t;return n.$isEmpty(r)||La.test(r)}}function eo(e,t,r,n){var o=!r.ngTrim||"false"!==Do(r.ngTrim);E(r.name)&&t.attr("name",c());var i=function(e){var i;t[0].checked&&(i=r.value,o&&(i=Do(i)),n.$setViewValue(i,e&&e.type))};t.on("change",i),n.$render=function(){var e=r.value;o&&(e=Do(e)),t[0].checked=e===n.$viewValue},r.$observe("value",n.$render)}function to(e,t,r,n,o){var i;if(_(n)){if(i=e(n),!i.constant)throw gs("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",r,n);return i(t)}return o}function ro(e,t,r,n,o,i,a,s){var c=to(s,e,"ngTrueValue",r.ngTrueValue,!0),u=to(s,e,"ngFalseValue",r.ngFalseValue,!1),l=function(e){n.$setViewValue(t[0].checked,e&&e.type)};t.on("change",l),n.$render=function(){t[0].checked=n.$viewValue},n.$isEmpty=function(e){return!1===e},n.$formatters.push(function(e){return q(e,c)}),n.$parsers.push(function(e){return e?c:u})}function no(e,t){function r(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var r=[];e:for(var n=0;n<e.length;n++){for(var o=e[n],i=0;i<t.length;i++)if(o===t[i])continue e;r.push(o)}return r}function n(e){return e&&e.split(" ")}function o(e){if(!e)return e;var t=e;return I(e)?t=e.map(o).join(" "):S(e)?t=Object.keys(e).filter(function(t){return e[t]}).join(" "):T(e)||(t=e+""),t}e="ngClass"+e;var a;return["$parse",function(s){return{restrict:"AC",link:function(c,u,l){function d(e){e=f(n(e),1),l.$addClass(e)}function g(e){e=f(n(e),-1),l.$removeClass(e)}function p(e,t){var o=n(e),i=n(t),a=r(o,i),s=r(i,o),c=f(a,-1),u=f(s,1);l.$addClass(u),l.$removeClass(c)}function f(e,t){var r=[];return i(e,function(e){(t>0||y[e])&&(y[e]=(y[e]||0)+t,y[e]===+(t>0)&&r.push(e))}),r.join(" ")}function h(e){e===t?d(v):g(v),E=e}function m(e){E===t&&p(v,e),v=e}var v,y=u.data("$classCounts"),E=!0;y||(y=_e(),u.data("$classCounts",y)),"ngClass"!==e&&(a||(a=s("$index",function(e){return 1&e})),c.$watch(a,h)),c.$watch(s(l[e],o),m)}}}]}function oo(e,t,r,n,o,i){return{restrict:"A",compile:function(a,s){var c=e(s[n]);return function(e,n){n.on(o,function(n){var o=function(){c(e,{$event:n})};if(t.$$phase)if(i)e.$evalAsync(o);else try{o()}catch(e){r(e)}else e.$apply(o)})}}}}function io(e,t,r,n,o,i,a,s,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(r.name||"",!1)(e),this.$$parentForm=Ra,this.$options=ps,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=o(r.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=r,this.$$element=n,this.$$animate=i,this.$$timeout=a,this.$$parse=o,this.$$q=s,this.$$exceptionHandler=t,kn(this),ao(this)}function ao(e){e.$$scope.$watch(function(t){var r=e.$$ngModelGet(t);return r===e.$modelValue||e.$modelValue!==e.$modelValue&&r!==r||e.$$setModelValue(r),r})}function so(e){this.$$options=e}function co(e,t){i(t,function(t,r){_(e[r])||(e[r]=t)})}function uo(e,t){e.prop("selected",t),e.attr("selected",t)}function lo(e,t,r){if(e){if(T(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw n("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",t,e,re(r));return e}}function go(e){var t=p(e);return Mo(t)?-1:t}var po,fo,ho,mo,vo={objectMaxDepth:5,urlErrorParamsEnabled:!0},yo=/^\/(.+)\/([a-z]*)$/,Eo="validity",_o=Object.prototype.hasOwnProperty,So=function(e){return T(e)?e.toLowerCase():e},bo=function(e){return T(e)?e.toUpperCase():e},To=[].slice,Ao=[].splice,Ro=[].push,Io=Object.prototype.toString,Oo=Object.getPrototypeOf,wo=n("ng"),Co=e.angular||(e.angular={}),No=0;po=e.document.documentMode;var Mo=Number.isNaN||function(e){return e!==e};h.$inject=[],m.$inject=[];var Lo=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Do=function(e){return T(e)?e.trim():e},Po=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ko=function(){if(!_(ko.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var r=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ko.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else ko.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return ko.rules},xo=function(){if(_(xo.name_))return xo.name_;var t,r,n,o,i=Uo.length;for(r=0;r<i;++r)if(n=Uo[r],t=e.document.querySelector("["+n.replace(":","\\:")+"jq]")){o=t.getAttribute(n+"jq");break}return xo.name_=o},jo=/:/g,Uo=["ng-","data-ng-","ng:","x-ng-"],Bo=function(t){var r=t.currentScript;if(!r)return!0;if(!(r instanceof e.HTMLScriptElement||r instanceof e.SVGScriptElement))return!1;var n=r.attributes;return[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var r=t.createElement("a");if(r.href=e.value,t.location.origin===r.origin)return!0;switch(r.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document),Vo=/[A-Z]/g,$o=!1,Fo=1,Wo=3,Ho=8,Go=9,qo=11,zo={full:"1.8.2",major:1,minor:8,dot:2,codeName:"meteoric-mining"};xe.expando="ng339";var Yo=xe.cache={},Ko=1;xe._data=function(e){return this.cache[e[this.expando]]||{}};var Jo=/-([a-z])/g,Xo=/^-ms-/,Qo={mouseleave:"mouseout",mouseenter:"mouseover"},Zo=n("jqLite"),ei=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ti=/<|&#?\w+;/,ri=/<([\w:-]+)/,ni=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oi={thead:["table"],col:["colgroup","table"],tr:["tbody","table"],td:["tr","tbody","table"]};oi.tbody=oi.tfoot=oi.colgroup=oi.caption=oi.thead,oi.th=oi.td;var ii={option:[1,'<select multiple="multiple">',"</select>"],_default:[0,"",""]};for(var ai in oi){var si=oi[ai],ci=si.slice().reverse();ii[ai]=[ci.length,"<"+ci.join("><")+">","</"+si.join("></")+">"]}ii.optgroup=ii.option;var ui=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},li=xe.prototype={ready:et,toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return fo(e>=0?this[e]:this[this.length+e])},length:0,push:Ro,sort:[].sort,splice:[].splice},di={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){di[So(e)]=e});var gi={};i("input,select,option,textarea,button,form,details".split(","),function(e){gi[e]=!0});var pi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};i({data:He,removeData:Fe,hasData:Le,cleanData:function(e){for(var t=0,r=e.length;t<r;t++)Fe(e[t]),$e(e[t])}},function(e,t){xe[t]=e}),i({data:He,inheritedData:Je,scope:function(e){return fo.data(e,"$scope")||Je(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return fo.data(e,"$isolateScope")||fo.data(e,"$isolateScopeNoTemplate")},controller:Ke,injector:function(e){return Je(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ge,css:function(e,t,r){if(t=Oe(t),!_(r))return e.style[t];e.style[t]=r},attr:function(e,t,r){var n,o=e.nodeType;if(o!==Wo&&2!==o&&o!==Ho&&e.getAttribute){var i=So(t),a=di[i];if(!_(r))return n=e.getAttribute(t),a&&null!==n&&(n=i),null===n?void 0:n;null===r||!1===r&&a?e.removeAttribute(t):e.setAttribute(t,a?i:r)}},prop:function(e,t,r){if(!_(r))return e[t];e[t]=r},text:function(){function e(e,t){if(E(t)){var r=e.nodeType;return r===Fo||r===Wo?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(E(t)){if(e.multiple&&"select"===$(e)){var r=[];return i(e.options,function(e){e.selected&&r.push(e.value||e.text)}),r}return e.value}e.value=t},html:function(e,t){if(E(t))return e.innerHTML;Ue(e,!0),e.innerHTML=t},empty:Xe},function(e,t){xe.prototype[t]=function(t,r){var n,o,i=this.length;if(e!==Xe&&E(2===e.length&&e!==Ge&&e!==Ke?t:r)){if(S(t)){for(n=0;n<i;n++)if(e===He)e(this[n],t);else for(o in t)e(this[n],o,t[o]);return this}for(var a=e.$dv,s=E(a)?Math.min(i,1):i,c=0;c<s;c++){var u=e(this[c],t,r);a=a?a+u:u}return a}for(n=0;n<i;n++)e(this[n],t,r);return this}}),i({removeData:Fe,on:function(e,t,r,n){if(_(n))throw Zo("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Me(e)){var o=We(e,!0),i=o.events,a=o.handle;a||(a=o.handle=nt(e,i));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length,u=function(t,n,o){var s=i[t];s||(s=i[t]=[],s.specialHandlerWrapper=n,"$destroy"===t||o||e.addEventListener(t,a)),s.push(r)};c--;)t=s[c],Qo[t]?(u(Qo[t],it),u(t,void 0,!0)):u(t)}},off:$e,one:function(e,t,r){e=fo(e),e.on(t,function n(){e.off(t,r),e.off(t,n)}),e.on(t,r)},replaceWith:function(e,t){var r,n=e.parentNode;Ue(e),i(new xe(t),function(t){r?n.insertBefore(t,r.nextSibling):n.replaceChild(t,e),r=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===Fo&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var r=e.nodeType;if(r===Fo||r===qo){t=new xe(t);for(var n=0,o=t.length;n<o;n++){var i=t[n];e.appendChild(i)}}},prepend:function(e,t){if(e.nodeType===Fo){var r=e.firstChild;i(new xe(t),function(t){e.insertBefore(t,r)})}},wrap:function(e,t){ke(e,fo(t).eq(0).clone()[0])},remove:Qe,detach:function(e){Qe(e,!0)},after:function(e,t){var r=e,n=e.parentNode;if(n){t=new xe(t);for(var o=0,i=t.length;o<i;o++){var a=t[o];n.insertBefore(a,r.nextSibling),r=a}}},addClass:ze,removeClass:qe,toggleClass:function(e,t,r){t&&i(t.split(" "),function(t){var n=r;E(n)&&(n=!Ge(e,t)),(n?ze:qe)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==qo?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:je,triggerHandler:function(e,t,r){var n,o,a,s=t.type||t,c=We(e),u=c&&c.events,l=u&&u[s];l&&(n={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:h,type:s,target:e},t.type&&(n=d(n,t)),o=Te(l),a=r?[n].concat(r):[n],i(o,function(t){n.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){xe.prototype[t]=function(t,r,n){for(var o,i=0,a=this.length;i<a;i++)E(o)?(o=e(this[i],t,r,n),_(o)&&(o=fo(o))):Ye(o,e(this[i],t,r,n));return _(o)?o:this}}),xe.prototype.bind=xe.prototype.on,xe.prototype.unbind=xe.prototype.off;var fi=Object.create(null);ct.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return Mo(e)?fi:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var r=this._idx(e);-1===r&&(r=this._lastIndex=this._keys.length),this._keys[r]=e,this._values[r]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var hi=ct,mi=[function(){this.$get=[function(){return hi}]}],vi=/^([^(]+?)=>/,yi=/^[^(]*\(\s*([^)]*)\)/m,Ei=/,/,_i=/^\s*(_?)(\S+?)\1\s*$/,Si=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,bi=n("$injector");pt.$$annotate=gt;var Ti=n("$animate"),Ai=1,Ri=function(){this.$get=h},Ii=function(){var e=new hi,t=[];this.$get=["$$AnimateRunner","$rootScope",function(r,n){function o(e,t,r){var n=!1;return t&&(t=T(t)?t.split(" "):I(t)?t:[],i(t,function(t){t&&(n=!0,e[t]=r)})),n}function a(){i(t,function(t){var r=e.get(t);if(r){var n=vt(t.attr("class")),o="",a="";i(r,function(e,t){e!==!!n[t]&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&ze(e,o),a&&qe(e,a)}),e.delete(t)}}),t.length=0}function s(r,i,s){var c=e.get(r)||{},u=o(c,i,!0),l=o(c,s,!1);(u||l)&&(e.set(r,c),t.push(r),1===t.length&&n.$$postDigest(a))}return{enabled:h,on:h,off:h,pin:h,push:function(e,t,n,o){o&&o(),n=n||{},n.from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&s(e,n.addClass,n.removeClass);var i=new r;return i.complete(),i}}}]},Oi=["$provide",function(e){var t=this,r=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(r,n){if(r&&"."!==r.charAt(0))throw Ti("notcsel","Expecting class selector starting with '.' got '{0}'.",r);var o=r+"-animation";t.$$registeredAnimations[r.substr(1)]=o,e.factory(o,n)},this.customFilter=function(e){return 1===arguments.length&&(n=w(e)?e:null),n},this.classNameFilter=function(e){if(1===arguments.length&&(r=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(r.toString()))throw r=null,Ti("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return r},this.$get=["$$animateQueue",function(e){function t(e,t,r){if(r){var n=mt(r);!n||n.parentNode||n.previousElementSibling||(r=null)}r?r.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(r,n,o,i){return n=n&&fo(n),o=o&&fo(o),n=n||o.parent(),t(r,n,o),e.push(r,"enter",yt(i))},move:function(r,n,o,i){return n=n&&fo(n),o=o&&fo(o),n=n||o.parent(),t(r,n,o),e.push(r,"move",yt(i))},leave:function(t,r){return e.push(t,"leave",yt(r),function(){t.remove()})},addClass:function(t,r,n){return n=yt(n),n.addClass=ht(n.addclass,r),e.push(t,"addClass",n)},removeClass:function(t,r,n){return n=yt(n),n.removeClass=ht(n.removeClass,r),e.push(t,"removeClass",n)},setClass:function(t,r,n,o){return o=yt(o),o.addClass=ht(o.addClass,r),o.removeClass=ht(o.removeClass,n),e.push(t,"setClass",o)},animate:function(t,r,n,o,i){return i=yt(i),i.from=i.from?d(i.from,r):r,i.to=i.to?d(i.to,n):n,o=o||"ng-inline-animate",i.tempClasses=ht(i.tempClasses,o),e.push(t,"animate",i)}}}]}],wi=function(){this.$get=["$$rAF",function(e){function t(t){r.push(t),r.length>1||e(function(){for(var e=0;e<r.length;e++)r[e]();r=[]})}var r=[];return function(){var e=!1;return t(function(){e=!0}),function(r){e?r():t(r)}}}]},Ci=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,r,n,o){function a(e){this.setHost(e);var t=r(),i=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){n()?i(e):t(e)},this._state=0}return a.chain=function(e,t){function r(){if(n===e.length)return void t(!0);e[n](function(e){if(!1===e)return void t(!1);n++,r()})}var n=0;r()},a.all=function(e,t){function r(r){o=o&&r,++n===e.length&&t(o)}var n=0,o=!0;i(e,function(e){e.done(r)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:h,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,r){t.done(function(t){!1===t?r():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(i(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},Ni=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,r){return function(t,n){function o(){return e(function(){i(),s||c.complete(),s=!0}),c}function i(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=n||{};a.$$prepared||(a=H(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,c=new r;return{start:o,end:o}}}]},Mi=n("$compile"),Li=new Rt;It.$inject=["$provide","$$sanitizeUriProvider"],Ot.prototype.isFirstChange=function(){return this.previousValue===Li};var Di=/^((?:x|data)[:\-_])/i,Pi=/[:\-_]+(.)/g,ki=n("$controller"),xi=/^(\S+)(\s+as\s+([\w$]+))?$/,ji=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof fo&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ui="application/json",Bi={"Content-Type":Ui+";charset=utf-8"},Vi=/^\[|^\{(?!\{)/,$i={"[":/]$/,"{":/}$/},Fi=/^\)]\}',?\n/,Wi=n("$http"),Hi=Co.$interpolateMinErr=n("$interpolate");Hi.throwNoconcat=function(e){throw Hi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Hi.interr=function(e,t){return Hi("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Gi=n("$interval"),qi=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=Co.callbacks,r={};return{createCallback:function(n){var o="_"+(t.$$counter++).toString(36),i="angular.callbacks."+o,a=e(o);return r[i]=t[o]=a,i},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var n=r[e];delete t[n.id],delete r[e]}}}},zi=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Yi={http:80,https:443,ftp:21},Ki=n("$location"),Ji=/^\s*[\\/]{2,}/,Xi={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){this.$$url=er(this.$$path,this.$$search,this.$$hash),this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:dr("$$absUrl"),url:function(e){if(E(e))return this.$$url;var t=zi.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:dr("$$protocol"),host:dr("$$host"),port:dr("$$port"),path:gr("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(T(e)||A(e))e=e.toString(),this.$$search=oe(e);else{if(!S(e))throw Ki("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=H(e,{}),i(e,function(t,r){null==t&&delete e[r]}),this.$$search=e}break;default:E(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:gr("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([lr,ur,cr],function(e){e.prototype=Object.create(Xi),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==cr||!this.$$html5)throw Ki("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=E(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Qi=n("$parse"),Zi={}.constructor.prototype.valueOf,ea=_e();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){ea[e]=!0});var ta={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},ra=function(e){this.options=e};ra.prototype={constructor:ra,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var r=t+this.peek(),n=r+this.peek(2),o=ea[t],i=ea[r],a=ea[n];if(o||i||a){var s=a?n:i?r:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var r=e.charCodeAt(0),n=t.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,r){r=r||this.index;var n=_(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,r)+"]":" "+r;throw Qi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var r=So(this.text.charAt(this.index));if("."===r||this.isNumber(r))e+=r;else{var n=this.peek();if("e"===r&&this.isExpOperator(n))e+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&"e"===e.charAt(e.length-1))e+=r;else{if(!this.isExpOperator(r)||n&&this.isNumber(n)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var r="",n=e,o=!1;this.index<this.text.length;){var i=this.text.charAt(this.index);if(n+=i,o){if("u"===i){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,r+=String.fromCharCode(parseInt(a,16))}else{r+=ta[i]||i}o=!1}else if("\\"===i)o=!0;else{if(i===e)return this.index++,void this.tokens.push({index:t,text:n,constant:!0,value:r});r+=i}this.index++}this.throwError("Unterminated quote",t)}};var na=function(e,t){this.lexer=e,this.options=t};na.Program="Program",na.ExpressionStatement="ExpressionStatement",na.AssignmentExpression="AssignmentExpression",na.ConditionalExpression="ConditionalExpression",na.LogicalExpression="LogicalExpression",na.BinaryExpression="BinaryExpression",na.UnaryExpression="UnaryExpression",na.CallExpression="CallExpression",na.MemberExpression="MemberExpression",na.Identifier="Identifier",na.Literal="Literal",na.ArrayExpression="ArrayExpression",na.Property="Property",na.ObjectExpression="ObjectExpression",na.ThisExpression="ThisExpression",na.LocalsExpression="LocalsExpression",na.NGValueParameter="NGValueParameter",na.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:na.Program,body:e}},expressionStatement:function(){return{type:na.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!br(e))throw Qi("lval","Trying to assign a value to a non l-value");e={type:na.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,r=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:na.ConditionalExpression,test:r,alternate:e,consequent:t}):r},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:na.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:na.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:na.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:na.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:na.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:na.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:na.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:na.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:na.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:na.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:na.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],r={type:na.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return r},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:na.Identifier,name:e.text}},constant:function(){return{type:na.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:na.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:na.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:na.ObjectExpression,properties:t}},throwError:function(e,t){throw Qi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Qi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Qi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,r,n){return this.peekAhead(0,e,t,r,n)},peekAhead:function(e,t,r,n,o){if(this.tokens.length>e){var i=this.tokens[e],a=i.text;if(a===t||a===r||a===n||a===o||!t&&!r&&!n&&!o)return i}return!1},expect:function(e,t,r,n){var o=this.peek(e,t,r,n);return!!o&&(this.tokens.shift(),o)},selfReferential:{this:{type:na.ThisExpression},$locals:{type:na.LocalsExpression}}};var oa=1,ia=2;Ir.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},_r(e,t.$filter);var r,n="";if(this.stage="assign",r=Tr(e)){this.state.computing="assign";var o=this.nextId();this.recurse(r,o),this.return_(o),n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=Sr(e.body);t.stage="inputs",i(a,function(e,r){var n="fn"+r;t.state[n]={vars:[],body:[],own:{}},t.state.computing=n;var o=t.nextId();t.recurse(e,o),t.return_(o),t.state.inputs.push({name:n,isPure:e.isPure}),e.watchId=r}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,hr,mr,vr);return this.state=this.stage=void 0,c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,r=this;return i(t,function(t){e.push("var "+t.name+"="+r.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(r,n){e.push(r+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,n,o,a){var s,c,u,l,d,g=this;if(n=n||h,!a&&_(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,n,o,!0));switch(e.type){case na.Program:i(e.body,function(t,r){g.recurse(t.expression,void 0,void 0,function(e){c=e}),r!==e.body.length-1?g.current().body.push(c,";"):g.return_(c)});break;case na.Literal:l=this.escape(e.value),this.assign(t,l),n(t||l);break;case na.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){c=e}),l=e.operator+"("+this.ifDefined(c,0)+")",this.assign(t,l),n(l);break;case na.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){c=e}),l="+"===e.operator?this.plus(s,c):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(c,0):"("+s+")"+e.operator+"("+c+")",this.assign(t,l),n(l);break;case na.LogicalExpression:t=t||this.nextId(),g.recurse(e.left,t),g.if_("&&"===e.operator?t:g.not(t),g.lazyRecurse(e.right,t)),n(t);break;case na.ConditionalExpression:t=t||this.nextId(),g.recurse(e.test,t),g.if_(t,g.lazyRecurse(e.alternate,t),g.lazyRecurse(e.consequent,t)),n(t);break;case na.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===g.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),g.if_("inputs"===g.stage||g.not(g.getHasOwnProperty("l",e.name)),function(){g.if_("inputs"===g.stage||"s",function(){o&&1!==o&&g.if_(g.isNull(g.nonComputedMember("s",e.name)),g.lazyAssign(g.nonComputedMember("s",e.name),"{}")),g.assign(t,g.nonComputedMember("s",e.name))})},t&&g.lazyAssign(t,g.nonComputedMember("l",e.name))),n(t);break;case na.MemberExpression:s=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),g.recurse(e.object,s,void 0,function(){g.if_(g.notNull(s),function(){e.computed?(c=g.nextId(),g.recurse(e.property,c),g.getStringValue(c),o&&1!==o&&g.if_(g.not(g.computedMember(s,c)),g.lazyAssign(g.computedMember(s,c),"{}")),l=g.computedMember(s,c),g.assign(t,l),r&&(r.computed=!0,r.name=c)):(o&&1!==o&&g.if_(g.isNull(g.nonComputedMember(s,e.property.name)),g.lazyAssign(g.nonComputedMember(s,e.property.name),"{}")),l=g.nonComputedMember(s,e.property.name),g.assign(t,l),r&&(r.computed=!1,r.name=e.property.name))},function(){g.assign(t,"undefined")}),n(t)},!!o);break;case na.CallExpression:t=t||this.nextId(),e.filter?(c=g.filter(e.callee.name),u=[],i(e.arguments,function(e){var t=g.nextId();g.recurse(e,t),u.push(t)}),l=c+"("+u.join(",")+")",g.assign(t,l),n(t)):(c=g.nextId(),s={},u=[],g.recurse(e.callee,c,s,function(){g.if_(g.notNull(c),function(){i(e.arguments,function(t){g.recurse(t,e.constant?void 0:g.nextId(),void 0,function(e){u.push(e)})}),l=s.name?g.member(s.context,s.name,s.computed)+"("+u.join(",")+")":c+"("+u.join(",")+")",g.assign(t,l)},function(){g.assign(t,"undefined")}),n(t)}));break;case na.AssignmentExpression:c=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){g.if_(g.notNull(s.context),function(){g.recurse(e.right,c),l=g.member(s.context,s.name,s.computed)+e.operator+c,g.assign(t,l),n(t||l)})},1);break;case na.ArrayExpression:u=[],i(e.elements,function(t){g.recurse(t,e.constant?void 0:g.nextId(),void 0,function(e){u.push(e)})}),l="["+u.join(",")+"]",this.assign(t,l),n(t||l);break;case na.ObjectExpression:u=[],d=!1,i(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),i(e.properties,function(e){e.computed?(s=g.nextId(),g.recurse(e.key,s)):s=e.key.type===na.Identifier?e.key.name:""+e.key.value,c=g.nextId(),g.recurse(e.value,c),g.assign(g.member(t,s,e.computed),c)})):(i(e.properties,function(t){g.recurse(t.value,e.constant?void 0:g.nextId(),void 0,function(e){u.push(g.escape(t.key.type===na.Identifier?t.key.name:""+t.key.value)+":"+e)})}),l="{"+u.join(",")+"}",this.assign(t,l)),n(t||l);break;case na.ThisExpression:this.assign(t,"s"),n(t||"s");break;case na.LocalsExpression:this.assign(t,"l"),n(t||"l");break;case na.NGValueParameter:this.assign(t,"v"),n(t||"v")}},getHasOwnProperty:function(e,t){var r=e+"."+t,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[r]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,r){if(!0===e)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g;return r.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,r){return r?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,r,n,o,i){var a=this;return function(){a.recurse(e,t,r,n,o,i)}},lazyAssign:function(e,t){var r=this;return function(){r.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(T(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(A(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Qi("esc","IMPOSSIBLE")},nextId:function(e,t){var r="v"+this.state.nextId++;return e||this.current().vars.push(r+(t?"="+t:"")),r},current:function(){return this.state[this.state.computing]}},Or.prototype={compile:function(e){var t=this;_r(e,t.$filter);var r,n;(r=Tr(e))&&(n=this.recurse(r));var o,a=Sr(e.body);a&&(o=[],i(a,function(e,r){var n=t.recurse(e);n.isPure=e.isPure,e.input=n,o.push(n),e.watchId=r}));var s=[];i(e.body,function(e){s.push(t.recurse(e.expression))});var c=0===e.body.length?h:1===e.body.length?s[0]:function(e,t){var r;return i(s,function(n){r=n(e,t)}),r};return n&&(c.assign=function(e,t,r){return n(e,r,t)}),o&&(c.inputs=o),c},recurse:function(e,t,r){var n,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case na.Literal:return this.value(e.value,t);case na.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case na.BinaryExpression:case na.LogicalExpression:return n=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](n,o,t);case na.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case na.Identifier:return s.identifier(e.name,t,r);case na.MemberExpression:return n=this.recurse(e.object,!1,!!r),e.computed||(o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(n,o,t,r):this.nonComputedMember(n,o,t,r);case na.CallExpression:return a=[],i(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,r,n,i){for(var s=[],c=0;c<a.length;++c)s.push(a[c](e,r,n,i));var u=o.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:u}:u}:function(e,r,n,i){var s,c=o(e,r,n,i);if(null!=c.value){for(var u=[],l=0;l<a.length;++l)u.push(a[l](e,r,n,i));s=c.value.apply(c.context,u)}return t?{value:s}:s};case na.AssignmentExpression:return n=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,r,i,a){var s=n(e,r,i,a),c=o(e,r,i,a);return s.context[s.name]=c,t?{value:c}:c};case na.ArrayExpression:return a=[],i(e.elements,function(e){a.push(s.recurse(e))}),function(e,r,n,o){for(var i=[],s=0;s<a.length;++s)i.push(a[s](e,r,n,o));return t?{value:i}:i};case na.ObjectExpression:return a=[],i(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===na.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,r,n,o){for(var i={},s=0;s<a.length;++s)a[s].computed?i[a[s].key(e,r,n,o)]=a[s].value(e,r,n,o):i[a[s].key]=a[s].value(e,r,n,o);return t?{value:i}:i};case na.ThisExpression:return function(e){return t?{value:e}:e};case na.LocalsExpression:return function(e,r){return t?{value:r}:r};case na.NGValueParameter:return function(e,r,n){return t?{value:n}:n}}},"unary+":function(e,t){return function(r,n,o,i){var a=e(r,n,o,i);return a=_(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(r,n,o,i){var a=e(r,n,o,i);return a=_(a)?-a:-0,t?{value:a}:a}},"unary!":function(e,t){return function(r,n,o,i){var a=!e(r,n,o,i);return t?{value:a}:a}},"binary+":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a),c=t(n,o,i,a),u=vr(s,c);return r?{value:u}:u}},"binary-":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a),c=t(n,o,i,a),u=(_(s)?s:0)-(_(c)?c:0);return r?{value:u}:u}},"binary*":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)*t(n,o,i,a);return r?{value:s}:s}},"binary/":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)/t(n,o,i,a);return r?{value:s}:s}},"binary%":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)%t(n,o,i,a);return r?{value:s}:s}},"binary===":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)===t(n,o,i,a);return r?{value:s}:s}},"binary!==":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)!==t(n,o,i,a);return r?{value:s}:s}},"binary==":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)==t(n,o,i,a);return r?{value:s}:s}},"binary!=":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)!=t(n,o,i,a);return r?{value:s}:s}},"binary<":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)<t(n,o,i,a);return r?{value:s}:s}},"binary>":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)>t(n,o,i,a);return r?{value:s}:s}},"binary<=":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)<=t(n,o,i,a);return r?{value:s}:s}},"binary>=":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)>=t(n,o,i,a);return r?{value:s}:s}},"binary&&":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)&&t(n,o,i,a);return r?{value:s}:s}},"binary||":function(e,t,r){return function(n,o,i,a){var s=e(n,o,i,a)||t(n,o,i,a);return r?{value:s}:s}},"ternary?:":function(e,t,r,n){return function(o,i,a,s){var c=e(o,i,a,s)?t(o,i,a,s):r(o,i,a,s);return n?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,r){return function(n,o,i,a){var s=o&&e in o?o:n;r&&1!==r&&s&&null==s[e]&&(s[e]={});var c=s?s[e]:void 0;return t?{context:s,name:e,value:c}:c}},computedMember:function(e,t,r,n){return function(o,i,a,s){var c,u,l=e(o,i,a,s);return null!=l&&(c=t(o,i,a,s),c=hr(c),n&&1!==n&&l&&!l[c]&&(l[c]={}),u=l[c]),r?{context:l,name:c,value:u}:u}},nonComputedMember:function(e,t,r,n){return function(o,i,a,s){var c=e(o,i,a,s);n&&1!==n&&c&&null==c[t]&&(c[t]={});var u=null!=c?c[t]:void 0;return r?{context:c,name:t,value:u}:u}},inputs:function(e,t){return function(r,n,o,i){return i?i[t]:e(r,n,o)}}},wr.prototype={constructor:wr,parse:function(e){var t=this.getAst(e),r=this.astCompiler.compile(t.ast);return r.literal=Ar(t.ast),r.constant=Rr(t.ast),r.oneTime=t.oneTime,r},getAst:function(e){var t=!1;return e=e.trim(),":"===e.charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var aa,sa=n("$sce"),ca={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ua=/_([a-z])/g,la=n("$templateRequest"),da=n("$timeout"),ga=e.document.createElement("a"),pa=Xr(e.location.href);ga.href="http://[::1]";var fa="[::1]"===ga.hostname;on.$inject=["$document"],sn.$inject=["$provide"];var ha=22,ma=".",va="0";gn.$inject=["$locale"],pn.$inject=["$locale"];var ya={yyyy:yn("FullYear",4,0,!1,!0),yy:yn("FullYear",2,0,!0,!0),y:yn("FullYear",1,0,!1,!0),MMMM:En("Month"),MMM:En("Month",!0),MM:yn("Month",2,1),M:yn("Month",1,1),LLLL:En("Month",!1,!0),dd:yn("Date",2),d:yn("Date",1),HH:yn("Hours",2),H:yn("Hours",1),hh:yn("Hours",2,-12),h:yn("Hours",1,-12),mm:yn("Minutes",2),m:yn("Minutes",1),ss:yn("Seconds",2),s:yn("Seconds",1),sss:yn("Milliseconds",3),EEEE:En("Day"),EEE:En("Day",!0),a:An,Z:_n,ww:Tn(2),w:Tn(1),G:Rn,GG:Rn,GGG:Rn,GGGG:In},Ea=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,_a=/^-?\d+$/;On.$inject=["$locale"];var Sa=v(So),ba=v(bo);Mn.$inject=["$parse"];var Ta=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var r="[object SVGAnimatedString]"===Io.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(r)||e.preventDefault()})}}}}),Aa={};i(di,function(e,t){function r(e,r,o){e.$watch(o[n],function(e){o.$set(t,!!e)})}if("multiple"!==e){var n=wt("ng-"+t),o=r;"checked"===e&&(o=function(e,t,o){o.ngModel!==o[n]&&r(e,t,o)}),Aa[n]=function(){return{restrict:"A",priority:100,link:o}}}}),i(pi,function(e,t){Aa[t]=function(){return{priority:100,link:function(e,r,n){if("ngPattern"===t&&"/"===n.ngPattern.charAt(0)){var o=n.ngPattern.match(yo);if(o)return void n.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(n[t],function(e){n.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=wt("ng-"+e);Aa[t]=["$sce",function(r){return{priority:99,link:function(n,o,i){var a=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Io.call(o.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",a=null),i.$set(t,r.getTrustedMediaUrl(i[t])),i.$observe(t,function(t){if(!t)return void("href"===e&&i.$set(s,null));i.$set(s,t),po&&a&&o.prop(a,i[s])})}}}]});var Ra={$addControl:h,$getControls:v([]),$$renameControl:Dn,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h,$$setSubmitted:h},Ia="ng-pending";Pn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Pn.prototype={$rollbackViewValue:function(){i(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){i(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ve(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return Te(this.$$controls)},$$renameControl:function(e,t){var r=e.$name;this[r]===e&&delete this[r],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],i(this.$pending,function(t,r){this.$setValidity(r,null,e)},this),i(this.$error,function(t,r){this.$setValidity(r,null,e)},this),i(this.$$success,function(t,r){this.$setValidity(r,null,e)},this),W(this.$$controls,e),e.$$parentForm=Ra},$setDirty:function(){this.$$animate.removeClass(this.$$element,ls),this.$$animate.addClass(this.$$element,ds),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,ls,ds+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,i(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){i(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==Ra;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,i(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},xn({clazz:Pn,set:function(e,t,r){var n=e[t];if(n){-1===n.indexOf(r)&&n.push(r)}else e[t]=[r]},unset:function(e,t,r){var n=e[t];n&&(W(n,r),0===n.length&&delete e[t])}});var Oa=function(e){return["$timeout","$parse",function(t,r){function n(e){return""===e?r('this[""]').assign:r(e).assign||h}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Pn,compile:function(r,o){r.addClass(ls).addClass(cs);var i=o.name?"name":!(!e||!o.ngForm)&&"ngForm";return{pre:function(e,r,o,a){var s=a[0];if(!("action"in o)){var c=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};r[0].addEventListener("submit",c),r.on("$destroy",function(){t(function(){r[0].removeEventListener("submit",c)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=i?n(s.$name):h;i&&(u(e,s),o.$observe(i,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=n(s.$name))(e,s))})),r.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),d(s,Ra)})}}}}}]},wa=Oa(),Ca=Oa(!0),Na=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ma=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,La=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Da=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Pa=/^(\d{4,})-(\d{2})-(\d{2})$/,ka=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xa=/^(\d{4,})-W(\d\d)$/,ja=/^(\d{4,})-(\d\d)$/,Ua=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ba="keydown wheel mousedown",Va=_e();i("date,datetime-local,month,time,week".split(","),function(e){Va[e]=!0});var $a={text:Bn,date:Wn("date",Pa,Fn(Pa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Wn("datetimelocal",ka,Fn(ka,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Wn("time",Ua,Fn(Ua,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Wn("week",xa,$n,"yyyy-Www"),month:Wn("month",ja,Fn(ja,["yyyy","MM"]),"yyyy-MM"),number:Jn,url:Qn,email:Zn,radio:eo,range:Xn,checkbox:ro,hidden:h,button:h,submit:h,reset:h,file:h},Fa=["$browser","$sniffer","$filter","$parse",function(e,t,r,n){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,i,a,s){s[0]&&($a[So(a.type)]||$a.text)(o,i,a,s[0],t,e,r,n)}}}}],Wa=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,r){if("hidden"===So(r.type))return{pre:function(t,r,n,o){var i=r[0];i.parentNode&&i.parentNode.insertBefore(i,i.nextSibling),Object.defineProperty&&Object.defineProperty(i,"value",e)}}}}},Ha=/^(true|false|\d+)$/,Ga=function(){function e(e,t,r){var n=_(r)?r:9===po?"":null;e.prop("value",n),t.$set("value",r)}return{restrict:"A",priority:100,compile:function(t,r){return Ha.test(r.ngValue)?function(t,r,n){e(r,n,t.$eval(n.ngValue))}:function(t,r,n){t.$watch(n.ngValue,function(t){e(r,n,t)})}}}},qa=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,n){e.$$addBindingInfo(r,n.ngBind),r=r[0],t.$watch(n.ngBind,function(e){r.textContent=Se(e)})}}}}],za=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,n,o){var i=e(n.attr(o.$attr.ngBindTemplate));t.$$addBindingInfo(n,i.expressions),n=n[0],o.$observe("ngBindTemplate",function(e){n.textContent=E(e)?"":e})}}}}],Ya=["$sce","$parse","$compile",function(e,t,r){return{restrict:"A",compile:function(n,o){var i=t(o.ngBindHtml),a=t(o.ngBindHtml,function(t){return e.valueOf(t)});return r.$$addBindingClass(n),function(t,n,o){r.$$addBindingInfo(n,o.ngBindHtml),t.$watch(a,function(){var r=i(t);n.html(e.getTrustedHtml(r)||"")})}}}}],Ka=v({restrict:"A",require:"ngModel",link:function(e,t,r,n){n.$viewChangeListeners.push(function(){e.$eval(r.ngChange)})}}),Ja=no("",!0),Xa=no("Odd",0),Qa=no("Even",1),Za=Ln({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),es=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ts={},rs={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=wt("ng-"+e);ts[t]=["$parse","$rootScope","$exceptionHandler",function(r,n,o){return oo(r,n,o,t,e,rs[e])}]});var ns=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(r,n,o,i,a){var s,c,u;r.$watch(o.ngIf,function(r){r?c||a(function(r,i){c=i,r[r.length++]=t.$$createComment("end ngIf",o.ngIf),s={clone:r},e.enter(r,n.parent(),n)}):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=Ee(s.clone),e.leave(u).done(function(e){!1!==e&&(u=null)}),s=null))})}}}],os=["$templateRequest","$anchorScroll","$animate",function(e,t,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Co.noop,compile:function(n,o){var i=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(n,o,c,u,l){var d,g,p,f=0,h=function(){g&&(g.remove(),g=null),d&&(d.$destroy(),d=null),p&&(r.leave(p).done(function(e){!1!==e&&(g=null)}),g=p,p=null)};n.$watch(i,function(i){var c=function(e){!1===e||!_(s)||s&&!n.$eval(s)||t()},g=++f;i?(e(i,!0).then(function(e){if(!n.$$destroyed&&g===f){var t=n.$new();u.template=e;var s=l(t,function(e){h(),r.enter(e,null,o).done(c)});d=t,p=s,d.$emit("$includeContentLoaded",i),n.$eval(a)}},function(){n.$$destroyed||g===f&&(h(),n.$emit("$includeContentError",i))}),n.$emit("$includeContentRequested",i)):(h(),u.template=null)})}}}}],is=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(r,n,o,i){if(Io.call(n[0]).match(/SVG/))return n.empty(),void t(De(i.template,e.document).childNodes)(r,function(e){n.append(e)},{futureParentElement:n});n.html(i.template),t(n.contents())(r)}}}],as=Ln({priority:450,compile:function(){return{pre:function(e,t,r){e.$eval(r.ngInit)}}}}),ss=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,n){var o=r.ngList||", ",a="false"!==r.ngTrim,s=a?Do(o):o,c=function(e){if(!E(e)){var t=[];return e&&i(e.split(s),function(e){e&&t.push(a?Do(e):e)}),t}};n.$parsers.push(c),n.$formatters.push(function(e){if(I(e))return e.join(o)}),n.$isEmpty=function(e){return!e||!e.length}}}},cs="ng-valid",us="ng-invalid",ls="ng-pristine",ds="ng-dirty",gs=n("ngModel");io.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],io.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var r=this.$$parsedNgModel(t);return w(r)&&(r=e(t)),r},this.$$ngModelSet=function(e,r){w(this.$$parsedNgModel(e))?t(e,{$$$p:r}):this.$$parsedNgModelAssign(e,r)}}else if(!this.$$parsedNgModel.assign)throw gs("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,re(this.$$element))},$render:h,$isEmpty:function(e){return E(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,ds),this.$$animate.addClass(this.$$element,ls)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,ls),this.$$animate.addClass(this.$$element,ds),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Mo(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,r=this.$valid,n=this.$modelValue,o=this.$options.getOption("allowInvalid"),i=this;this.$$runValidators(t,e,function(e){o||r===e||(i.$modelValue=e?t:void 0,i.$modelValue!==n&&i.$$writeModelToScope())})}},$$runValidators:function(e,t,r){function n(e,t){a===s.$$currentValidationRunId&&s.$setValidity(e,t)}function o(e){a===s.$$currentValidationRunId&&r(e)}this.$$currentValidationRunId++;var a=this.$$currentValidationRunId,s=this;return function(){var e=s.$$parserName;return E(s.$$parserValid)?(n(e,null),!0):(s.$$parserValid||(i(s.$validators,function(e,t){n(t,null)}),i(s.$asyncValidators,function(e,t){n(t,null)})),n(e,s.$$parserValid),s.$$parserValid)}()&&function(){var r=!0;return i(s.$validators,function(o,i){var a=Boolean(o(e,t));r=r&&a,n(i,a)}),!!r||(i(s.$asyncValidators,function(e,t){n(t,null)}),!1)}()?void function(){var r=[],a=!0;i(s.$asyncValidators,function(o,i){var s=o(e,t);if(!x(s))throw gs("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);n(i,void 0),r.push(s.then(function(){n(i,!0)},function(){a=!1,n(i,!1)}))}),r.length?s.$$q.all(r).then(function(){o(a)},h):o(!0)}():void o(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){n.$modelValue!==i&&n.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,r=t,n=this;if(this.$$parserValid=!E(r)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var o=0;o<this.$parsers.length;o++)if(r=this.$parsers[o](r),E(r)){this.$$parserValid=!1;break}Mo(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=r,a&&(this.$modelValue=r,e()),this.$$runValidators(r,this.$$lastCommittedViewValue,function(t){a||(n.$modelValue=t?r:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),i(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");A(t[e])?t=t[e]:A(t.default)&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t.default:A(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var r=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){r.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){r.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,h))},$$format:function(){for(var e=this.$formatters,t=e.length,r=this.$modelValue;t--;)r=e[t](r);return r},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},xn({clazz:io,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var ps,fs=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:io,priority:1,compile:function(t){return t.addClass(ls).addClass("ng-untouched").addClass(cs),{pre:function(e,t,r,n){var o=n[0],i=n[1]||o.$$parentForm,a=n[2];a&&(o.$options=a.$options),o.$$initGetterSetters(),i.$addControl(o),r.$observe("name",function(e){o.$name!==e&&o.$$parentForm.$$renameControl(o,e)}),e.$on("$destroy",function(){o.$$parentForm.$removeControl(o)})},post:function(t,r,n,o){function i(){a.$setTouched()}var a=o[0];a.$$setUpdateOnEvents(),r.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(i):t.$apply(i))})}}}}}],hs=/(\s+|^)default(\s+|$)/;so.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=d({},e),i(e,function(r,n){"$inherit"===r?"*"===n?t=!0:(e[n]=this.$$options[n],"updateOn"===n&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===n&&(e.updateOnDefault=!1,e[n]=Do(r.replace(hs,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],co(e,this.$$options)),co(e,ps.$$options),new so(e)}},ps=new so({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var ms=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:ps,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},vs=Ln({terminal:!0,priority:1e3}),ys=n("ngOptions"),Es=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,_s=["$compile","$document","$parse",function(t,r,n){function a(e,t,r){function i(e,t,r,n,o){this.selectValue=e,this.viewValue=t,this.label=r,this.group=n,this.disabled=o}function a(e){var t;if(!u&&o(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Es);if(!s)throw ys("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,re(t));var c=s[5]||s[7],u=s[6],l=/ as /.test(s[0])&&s[1],d=s[9],g=n(s[2]?s[1]:c),p=l&&n(l),f=p||g,h=d&&n(d),m=d?function(e,t){return h(r,t)}:function(e){return st(e)},v=function(e,t){return m(e,T(e,t))},y=n(s[2]||s[1]),E=n(s[3]||""),_=n(s[4]||""),S=n(s[8]),b={},T=u?function(e,t){return b[u]=t,b[c]=e,b}:function(e){return b[c]=e,b};return{trackBy:d,getTrackByValue:v,getWatchables:n(S,function(e){var t=[];e=e||[];for(var n=a(e),o=n.length,i=0;i<o;i++){var c=e===n?i:n[i],u=e[c],l=T(u,c),d=m(u,l);if(t.push(d),s[2]||s[1]){var g=y(r,l);t.push(g)}if(s[4]){var p=_(r,l);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},n=S(r)||[],o=a(n),s=o.length,c=0;c<s;c++){var u=n===o?c:o[c],l=n[u],g=T(l,u),p=f(r,g),h=m(p,g),b=y(r,g),A=E(r,g),R=_(r,g),I=new i(h,p,b,A,R);e.push(I),t[h]=I}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?H(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function l(e,t){var r=c.cloneNode(!1);t.appendChild(r),g(e,r)}function d(e){var t=b.getOptionFromViewValue(e),r=t&&t.element;return r&&!r.selected&&(r.selected=!0),t}function g(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=b&&f.readValue();if(b)for(var t=b.items.length-1;t>=0;t--){var r=b.items[t];Qe(_(r.group)?r.element.parentNode:r.element)}b=T.getOptions();var o={};if(b.items.forEach(function(e){var t;_(e.group)?(t=o[e.group],t||(t=u.cloneNode(!1),A.appendChild(t),t.label=null===e.group?"null":e.group,o[e.group]=t),l(e,t)):l(e,A)}),n[0].appendChild(A),h.$render(),!h.$isEmpty(e)){var i=f.readValue();(T.trackBy||m?q(e,i):e===i)||(h.$setViewValue(i),h.$render())}}for(var f=s[0],h=s[1],m=o.multiple,v=0,y=n.children(),E=y.length;v<E;v++)if(""===y[v].value){f.hasEmptyOption=!0,f.emptyOption=y.eq(v);break}n.empty();var S=!!f.emptyOption;fo(c.cloneNode(!1)).val("?");var b,T=a(o.ngOptions,n,e),A=r[0].createDocumentFragment();f.generateUnknownOptionValue=function(e){return"?"},m?(f.writeValue=function(e){if(b){var t=e&&e.map(d)||[];b.items.forEach(function(e){e.element.selected&&!F(t,e)&&(e.element.selected=!1)})}},f.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var r=b.selectValueMap[e];r&&!r.disabled&&t.push(b.getViewValueFromOption(r))}),t},T.trackBy&&e.$watchCollection(function(){if(I(h.$viewValue))return h.$viewValue.map(function(e){return T.getTrackByValue(e)})},function(){h.$render()})):(f.writeValue=function(e){if(b){var t=n[0].options[n[0].selectedIndex],r=b.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),r?(n[0].value!==r.selectValue&&(f.removeUnknownOption(),n[0].value=r.selectValue,r.element.selected=!0),r.element.setAttribute("selected","selected")):f.selectUnknownOrEmptyOption(e)}},f.readValue=function(){var e=b.selectValueMap[n.val()];return e&&!e.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),b.getViewValueFromOption(e)):null},T.trackBy&&e.$watch(function(){return T.getTrackByValue(h.$viewValue)},function(){h.$render()})),S&&(t(f.emptyOption)(e),n.prepend(f.emptyOption),f.emptyOption[0].nodeType===Ho?(f.hasEmptyOption=!1,f.registerOption=function(e,t){""===t.val()&&(f.hasEmptyOption=!0,f.emptyOption=t,f.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",function(){var e=f.$isEmptyOptionSelected();f.hasEmptyOption=!1,f.emptyOption=void 0,e&&h.$render()}))}):f.emptyOption.removeClass("ng-scope")),e.$watchCollection(T.getWatchables,p)}var c=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,r,n){n[0].registerOption=h},post:s}}}],Ss=["$locale","$interpolate","$log",function(e,t,r){var n=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function u(e){s.text(e||"")}var l,d=c.count,g=c.$attr.when&&s.attr(c.$attr.when),p=c.offset||0,f=a.$eval(g)||{},m={},v=t.startSymbol(),y=t.endSymbol(),_=v+d+"-"+p+y,S=Co.noop;i(c,function(e,t){var r=o.exec(t);if(r){var n=(r[1]?"-":"")+So(r[2]);f[n]=s.attr(c.$attr[t])}}),i(f,function(e,r){m[r]=t(e.replace(n,_))}),a.$watch(d,function(t){var n=parseFloat(t),o=Mo(n);if(o||n in f||(n=e.pluralCat(n-p)),!(n===l||o&&Mo(l))){S();var i=m[n];E(i)?(null!=t&&r.debug("ngPluralize: no rule defined for '"+n+"' in "+g),S=h,u()):S=a.$watch(i,u),l=n}})}}}],bs=n("ngRef"),Ts=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,r){var n=wt($(t)),o=e(r.ngRef),i=o.assign||function(){throw bs("nonassign",'Expression in ngRef="{0}" is non-assignable!',r.ngRef)};return function(e,t,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=t;else if(!(s=t.data("$"+a.ngRefRead+"Controller")))throw bs("noctrl",'The controller for ngRefRead="{0}" could not be found on ngRef="{1}"',a.ngRefRead,r.ngRef)}else s=t.data("$"+n+"Controller");s=s||t,i(e,s),t.on("$destroy",function(){o(e)===s&&i(e,null)})}}}}],As=["$parse","$animate","$compile",function(e,t,r){var a=n("ngRepeat"),s=function(e,t,r,n,o,i,a){e[r]=n,o&&(e[o]=i),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},c=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]},l=function(e,t,r){return st(r)},d=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(n,g){var p=g.ngRepeat,f=r.$$createComment("end ngRepeat",p),h=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=h[1],v=h[2],y=h[3],E=h[4];if(!(h=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw a("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=h[3]||h[1],S=h[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw a("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var b;if(E){var T={$id:st},A=e(E);b=function(e,t,r,n){return S&&(T[S]=t),T[_]=r,T.$index=n,A(e,T)}}return function(e,r,n,g,h){var m=_e();e.$watchCollection(v,function(n){var g,v,E,A,R,I,O,w,C,N,M,L,D=r[0],P=_e();if(y&&(e[y]=n),o(n))C=n,w=b||l;else{w=b||d,C=[];for(var k in n)_o.call(n,k)&&"$"!==k.charAt(0)&&C.push(k)}for(A=C.length,M=new Array(A),g=0;g<A;g++)if(R=n===C?g:C[g],I=n[R],O=w(e,R,I,g),m[O])N=m[O],delete m[O],P[O]=N,M[g]=N;else{if(P[O])throw i(M,function(e){e&&e.scope&&(m[e.id]=e)}),a("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,O,I);M[g]={id:O,scope:void 0,clone:void 0},P[O]=!0}T&&(T[_]=void 0);for(var x in m){if(N=m[x],L=Ee(N.clone),t.leave(L),L[0].parentNode)for(g=0,v=L.length;g<v;g++)L[g].$$NG_REMOVED=!0;N.scope.$destroy()}for(g=0;g<A;g++)if(R=n===C?g:C[g],I=n[R],N=M[g],N.scope){E=D;do{E=E.nextSibling}while(E&&E.$$NG_REMOVED);c(N)!==E&&t.move(Ee(N.clone),null,D),D=u(N),s(N.scope,g,_,I,S,R,A)}else h(function(e,r){N.scope=r;var n=f.cloneNode(!1);e[e.length++]=n,t.enter(e,null,D),D=n,N.clone=e,P[N.id]=N,s(N.scope,g,_,I,S,R,A)});m=P})}}}}],Rs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,r,n){t.$watch(n.ngShow,function(t){e[t?"removeClass":"addClass"](r,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Is=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,r,n){t.$watch(n.ngHide,function(t){e[t?"addClass":"removeClass"](r,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Os=Ln(function(e,t,r){e.$watchCollection(r.ngStyle,function(e,r){r&&e!==r&&i(r,function(e,r){t.css(r,"")}),e&&t.css(e)})}),ws=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,n,o,a){var s=o.ngSwitch||o.on,c=[],u=[],l=[],d=[],g=function(e,t){return function(r){!1!==r&&e.splice(t,1)}};r.$watch(s,function(r){for(var n,o;l.length;)e.cancel(l.pop());for(n=0,o=d.length;n<o;++n){var s=Ee(u[n].clone);d[n].$destroy();(l[n]=e.leave(s)).done(g(l,n))}u.length=0,d.length=0,(c=a.cases["!"+r]||a.cases["?"])&&i(c,function(r){r.transclude(function(n,o){d.push(o);var i=r.element;n[n.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:n};u.push(a),e.enter(n,i.parent(),i)})})})}}}],Cs=Ln({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,r,n,o){i(r.ngSwitchWhen.split(r.ngSwitchWhenSeparator).sort().filter(function(e,t,r){return r[t-1]!==e}),function(e){n.cases["!"+e]=n.cases["!"+e]||[],n.cases["!"+e].push({transclude:o,element:t})})}}),Ns=Ln({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,r,n,o){n.cases["?"]=n.cases["?"]||[],n.cases["?"].push({transclude:o,element:t})}}),Ms=n("ngTransclude"),Ls=["$compile",function(e){return{restrict:"EAC",compile:function(t){var r=e(t.contents());return t.empty(),function(e,t,n,o,i){function a(e,r){e.length&&c(e)?t.append(e):(s(),r.$destroy())}function s(){r(e,function(e){t.append(e)})}function c(e){for(var t=0,r=e.length;t<r;t++){var n=e[t];if(n.nodeType!==Wo||n.nodeValue.trim())return!0}}if(!i)throw Ms("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",re(t));n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude="");var u=n.ngTransclude||n.ngTranscludeSlot;i(a,null,u),u&&!i.isSlotFilled(u)&&s()}}}}],Ds=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,r){if("text/ng-template"===r.type){var n=r.id,o=t[0].text;e.put(n,o)}}}}],Ps={$setViewValue:h,$render:h},ks=["$element","$scope",function(t,r){function n(){s||(s=!0,r.$$postDigest(function(){s=!1,i.ngModelCtrl.$render()}))}function o(e){c||(c=!0,r.$$postDigest(function(){r.$$destroyed||(c=!1,i.ngModelCtrl.$setViewValue(i.readValue()),e&&i.ngModelCtrl.$render())}))}var i=this,a=new hi;i.selectValueMap={},i.ngModelCtrl=Ps,i.multiple=!1,i.unknownOption=fo(e.document.createElement("option")),i.hasEmptyOption=!1,i.emptyOption=void 0,i.renderUnknownOption=function(e){var r=i.generateUnknownOptionValue(e);i.unknownOption.val(r),t.prepend(i.unknownOption),uo(i.unknownOption,!0),t.val(r)},i.updateUnknownOption=function(e){var r=i.generateUnknownOptionValue(e);i.unknownOption.val(r),uo(i.unknownOption,!0),t.val(r)},i.generateUnknownOptionValue=function(e){return"? "+st(e)+" ?"},i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.selectEmptyOption=function(){i.emptyOption&&(t.val(""),uo(i.emptyOption,!0))},i.unselectEmptyOption=function(){i.hasEmptyOption&&uo(i.emptyOption,!1)},r.$on("$destroy",function(){i.renderUnknownOption=h}),i.readValue=function(){var e=t.val(),r=e in i.selectValueMap?i.selectValueMap[e]:e;return i.hasOption(r)?r:null},i.writeValue=function(e){var r=t[0].options[t[0].selectedIndex];if(r&&uo(fo(r),!1),i.hasOption(e)){i.removeUnknownOption();var n=st(e);t.val(n in i.selectValueMap?n:e);var o=t[0].options[t[0].selectedIndex];uo(fo(o),!0)}else i.selectUnknownOrEmptyOption(e)},i.addOption=function(e,t){if(t[0].nodeType!==Ho){ve(e,'"option value"'),""===e&&(i.hasEmptyOption=!0,i.emptyOption=t);var r=a.get(e)||0;a.set(e,r+1),n()}},i.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.delete(e),""===e&&(i.hasEmptyOption=!1,i.emptyOption=void 0)):a.set(e,t-1))},i.hasOption=function(e){return!!a.get(e)},i.$hasEmptyOption=function(){return i.hasEmptyOption},i.$isUnknownOptionSelected=function(){return t[0].options[0]===i.unknownOption[0]},i.$isEmptyOptionSelected=function(){return i.hasEmptyOption&&t[0].options[t[0].selectedIndex]===i.emptyOption[0]},i.selectUnknownOrEmptyOption=function(e){null==e&&i.emptyOption?(i.removeUnknownOption(),i.selectEmptyOption()):i.unknownOption.parent().length?i.updateUnknownOption(e):i.renderUnknownOption(e)};var s=!1,c=!1;i.registerOption=function(e,t,r,a,s){if(r.$attr.ngValue){var c,u;r.$observe("value",function(e){var r,n=t.prop("selected");_(u)&&(i.removeOption(c),delete i.selectValueMap[u],r=!0),u=st(e),c=e,i.selectValueMap[u]=e,i.addOption(e,t),t.attr("value",u),r&&n&&o()})}else a?r.$observe("value",function(e){i.readValue();var r,n=t.prop("selected");_(c)&&(i.removeOption(c),r=!0),c=e,i.addOption(e,t),r&&n&&o()}):s?e.$watch(s,function(e,n){r.$set("value",e);var a=t.prop("selected");n!==e&&i.removeOption(n),i.addOption(e,t),n&&a&&o()}):i.addOption(r.value,t);r.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(i.multiple?o(!0):(i.ngModelCtrl.$setViewValue(null),i.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=i.readValue(),t=r.value;i.removeOption(t),n(),(i.multiple&&e&&-1!==e.indexOf(t)||e===t)&&o(!0)})}}],xs=function(){function e(e,t,r,n){var o=n[0],a=n[1];if(!a)return void(o.registerOption=h);if(o.ngModelCtrl=a,t.on("change",function(){o.removeUnknownOption(),e.$apply(function(){a.$setViewValue(o.readValue())})}),r.multiple){o.multiple=!0,o.readValue=function(){var e=[];return i(t.find("option"),function(t){if(t.selected&&!t.disabled){var r=t.value;e.push(r in o.selectValueMap?o.selectValueMap[r]:r)}}),e},o.writeValue=function(e){i(t.find("option"),function(t){var r=!!e&&(F(e,t.value)||F(e,o.selectValueMap[t.value]));r!==t.selected&&uo(fo(t),r)})};var s,c=NaN;e.$watch(function(){c!==a.$viewValue||q(s,a.$viewValue)||(s=Te(a.$viewValue),a.$render()),c=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,r,n){var o=n[1];if(o){var i=n[0];o.$render=function(){i.writeValue(o.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:ks,priority:1,link:{pre:e,post:t}}},js=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,r){var n,o;return _(r.ngValue)||(_(r.value)?n=e(r.value,!0):(o=e(t.text(),!0))||r.$set("value",t.text())),function(e,t,r){var i=t.parent(),a=i.data("$selectController")||i.parent().data("$selectController");a&&a.registerOption(e,t,r,n,o)}}}}],Us=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,r,n,o){if(o){var i=n.hasOwnProperty("required")||e(n.ngRequired)(t);n.ngRequired||(n.required=!0),o.$validators.required=function(e,t){return!i||!o.$isEmpty(t)},n.$observe("required",function(e){i!==e&&(i=e,o.$validate())})}}}}],Bs=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,r){var n,o;return r.ngPattern&&(n=r.ngPattern,o="/"===r.ngPattern.charAt(0)&&yo.test(r.ngPattern)?function(){return r.ngPattern}:e(r.ngPattern)),function(e,t,r,i){if(i){var a=r.pattern;r.ngPattern?a=o(e):n=r.pattern;var s=lo(a,n,t);r.$observe("pattern",function(e){var r=s;s=lo(e,n,t),(r&&r.toString())!==(s&&s.toString())&&i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||E(s)||s.test(t)}}}}}}],Vs=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,r,n,o){if(o){var i=n.maxlength||e(n.ngMaxlength)(t),a=go(i);n.$observe("maxlength",function(e){i!==e&&(a=go(e),i=e,o.$validate())}),o.$validators.maxlength=function(e,t){return a<0||o.$isEmpty(t)||t.length<=a}}}}}],$s=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,r,n,o){if(o){var i=n.minlength||e(n.ngMinlength)(t),a=go(i)||-1;n.$observe("minlength",function(e){i!==e&&(a=go(e)||-1,i=e,o.$validate())}),o.$validators.minlength=function(e,t){return o.$isEmpty(t)||t.length>=a}}}}}];if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load AngularJS more than once."));!function(){var t;if(!$o){var r=xo();ho=E(r)?e.jQuery:r?e[r]:void 0,ho&&ho.fn.on?(fo=ho,d(ho.fn,{scope:li.scope,isolateScope:li.isolateScope,controller:li.controller,injector:li.injector,inheritedData:li.inheritedData})):fo=xe,t=fo.cleanData,fo.cleanData=function(e){for(var r,n,o=0;null!=(n=e[o]);o++)(r=(fo._data(n)||{}).events)&&r.$destroy&&fo(n).triggerHandler("$destroy");t(e)},Co.element=fo,$o=!0}}(),function(r){d(r,{errorHandlingConfig:t,bootstrap:le,copy:H,extend:d,merge:g,equals:q,element:fo,forEach:i,injector:pt,noop:h,bind:K,toJson:X,fromJson:Q,identity:m,isUndefined:E,isDefined:_,isString:T,isFunction:w,isObject:S,isNumber:A,isElement:B,isArray:I,version:zo,isDate:R,callbacks:{$$counter:0},getTestability:ge,reloadWithDebugInfo:de,UNSAFE_restoreLegacyJqLiteXHTMLReplacement:fe,$$minErr:n,$$csp:ko,$$encodeUriSegment:ae,$$encodeUriQuery:se,$$lowercase:So,$$stringify:Se,$$uppercase:bo}),mo=be(e),mo("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Br}),e.provider("$compile",It).directive({a:Ta,input:Fa,textarea:Fa,form:wa,script:Ds,select:xs,option:js,ngBind:qa,ngBindHtml:Ya,ngBindTemplate:za,ngClass:Ja,ngClassEven:Qa,ngClassOdd:Xa,ngCloak:Za,ngController:es,ngForm:Ca,ngHide:Is,ngIf:ns,ngInclude:os,ngInit:as,ngNonBindable:vs,ngPluralize:Ss,ngRef:Ts,ngRepeat:As,ngShow:Rs,ngStyle:Os,ngSwitch:ws,ngSwitchWhen:Cs,ngSwitchDefault:Ns,ngOptions:_s,ngTransclude:Ls,ngModel:fs,ngList:ss,ngChange:Ka,pattern:Bs,ngPattern:Bs,required:Us,ngRequired:Us,minlength:$s,ngMinlength:$s,maxlength:Vs,ngMaxlength:Vs,ngValue:Ga,ngModelOptions:ms}).directive({ngInclude:is,input:Wa}).directive(Aa).directive(ts),e.provider({$anchorScroll:ft,$animate:Oi,$animateCss:Ni,$$animateJs:Ri,$$animateQueue:Ii,$$AnimateRunner:Ci,$$animateAsyncRun:wi,$browser:bt,$cacheFactory:Tt,$controller:Lt,$document:Dt,$$isDocumentHidden:Pt,$exceptionHandler:kt,$filter:sn,$$forceReflow:ji,$interpolate:Kt,$interval:Jt,$$intervalFactory:Xt,$http:Gt,$httpParamSerializer:jt,$httpParamSerializerJQLike:Ut,$httpBackend:zt,$xhrFactory:qt,$jsonpCallbacks:qi,$location:pr,$log:fr,$parse:Nr,$rootScope:Ur,$q:Mr,$$q:Lr,$sce:Hr,$sceDelegate:Wr,$sniffer:Gr,$$taskTrackerFactory:qr,$templateCache:At,$templateRequest:Yr,$$testability:Kr,$timeout:Jr,$window:nn,$$rAF:jr,$$jqLite:at,$$Map:mi,$$cookieReader:an})}]).info({angularVersion:"1.8.2"})}(Co),Co.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function r(e,r){var n=r;void 0===n&&(n=Math.min(t(e),3));var o=Math.pow(10,n);return{v:n,f:(e*o|0)%o}}var n={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var o=0|e,i=r(e,t);return 1==o&&0==i.v?n.ONE:n.OTHER}})}]),fo(function(){ue(e.document,le)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend(window.angular.element("<style>").text('@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}'))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(e){return e&&e.__esModule?e:{default:e}}(n);r(5);var i=r(4),a=function(){return{template:r(6),controller:"AppCtrl",controllerAs:"app"}};i.AppCtrl.$inject=["$scope"];o.default.module("app",[]).directive("app",a).controller("AppCtrl",i.AppCtrl),t.default="app"},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){console.log(e.classes+": "+e.text)}Object.defineProperty(t,"__esModule",{value:!0}),t.RadioPlayer=void 0;var s=r(0),c=n(s),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(7),d=n(l),g=r(19),p=n(g),f={info:function(e){a({text:e,classes:"info-toast"})},notice:function(e){a({text:e,classes:"notice-toast"})},error:function(e){a({text:e,classes:"error-toast"})}};t.RadioPlayer=function(){function e(){i(this,e),console.log("agora sdk version: "+d.default.VERSION+" compatible: "+d.default.checkSystemRequirements()),this.rtc={client:null,joined:!1,published:!1,localStream:null,remoteStreams:[],params:{uid:null}},this.rtc.client=d.default.createClient({mode:"live",codec:"vp8"}),this._handleEvents(this.rtc)}return u(e,[{key:"play",value:function(){function e(e){return t.apply(this,arguments)}var t=o(c.default.mark(function e(t){var r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.rtc,e.next=3,new Promise(function(e,n){if(r.joined)return f.error("Your already joined"),void n("Your already joined");r.client.init(t.appID,function(){r.client.setClientRole("audience",function(o){if(o)return console.log("setHost error",o),void n(o);r.client.join(t.token,t.channel,t.uid,function(n){f.notice("join channel: "+t.channel+" success, uid: "+n),console.log("join channel: "+t.channel+" success, uid: "+n),r.joined=!0,r.params.uid=n,e(n)},function(e){f.error("client join failed, please open console see more detail"),console.error("client join failed",e),n(e)})})},function(e){f.error("client init failed, please open console see more detail"),console.error(e),n(e)})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"stop",value:function(){function e(){return t.apply(this,arguments)}var t=o(c.default.mark(function e(){var t,r;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.rtc,t.client){e.next=4;break}return f.error("Please Join First!"),e.abrupt("return");case 4:if(t.joined){e.next=7;break}return f.error("You are not in channel"),e.abrupt("return");case 7:return r=this,e.next=10,new Promise(function(e,n){t.client.leave(function(){for(var n=0;n<t.remoteStreams.length;n++){var o=t.remoteStreams.shift(),i=o.getId();o.isPlaying()&&o.stop(),r.removeView(i)}t.remoteStreams=[],console.log("client leaves channel success"),t.published=!1,t.joined=!1,f.notice("leave success"),e(!0)},function(e){console.log("channel leave failed"),f.error("leave success"),console.error(e),n(e)})});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"_handleEvents",value:function(e){var t=this;e.client.on("error",function(e){console.log(e)}),e.client.on("peer-leave",function(r){var n=r.uid;console.log("id",r);var o=e.remoteStreams.filter(function(e){return n!==e.getId()}),i=e.remoteStreams.find(function(e){return n===e.getId()});i&&i.isPlaying()&&i.stop(),e.remoteStreams=o,n!==e.params.uid&&t.removeView(n),f.notice("peer leave"),console.log("peer-leave",n)}),e.client.on("stream-added",function(t){var r=t.stream,n=r.getId();f.info("stream-added uid: "+n),n!==e.params.uid&&e.client.subscribe(r,{video:!1,audio:!0},function(t){console.log("stream subscribe failed",t),"SAFARI_NOT_SUPPORTED_FOR_TRACK_SUBSCRIPTION"==t&&e.client.subscribe(r,null,function(e){console.log("stream subscribe failed again",e)})}),console.log("stream-added remote-uid: ",n)}),e.client.on("stream-subscribed",function(r){var n=r.stream,o=n.getId();e.remoteStreams.push(n),t.addView(o),n.play("remote_video_"+o),f.info("stream-subscribed remote-uid: "+o),console.log("stream-subscribed remote-uid: ",o)}),e.client.on("stream-removed",function(r){var n=r.stream,o=n.getId();f.info("stream-removed uid: "+o),n.isPlaying()&&n.stop(),e.remoteStreams=e.remoteStreams.filter(function(e){return e.getId()!==o}),t.removeView(o),console.log("stream-removed remote-uid: ",o)}),e.client.on("onTokenPrivilegeWillExpire",function(){f.info("onTokenPrivilegeWillExpire"),console.log("onTokenPrivilegeWillExpire")}),e.client.on("onTokenPrivilegeDidExpire",function(){f.info("onTokenPrivilegeDidExpire"),console.log("onTokenPrivilegeDidExpire")})}},{key:"addView",value:function(e,t){(0,p.default)("#"+e)[0]||((0,p.default)("<div/>",{id:"remote_video_panel_"+e,class:"video-view"}).appendTo("#video"),(0,p.default)("<div/>",{id:"remote_video_"+e,class:"video-placeholder"}).appendTo("#remote_video_panel_"+e),(0,p.default)("<div/>",{id:"remote_video_info_"+e,class:"video-profile "+(t?"":"hide")}).appendTo("#remote_video_panel_"+e),(0,p.default)("<div/>",{id:"video_autoplay_"+e,class:"autoplay-fallback hide"}).appendTo("#remote_video_panel_"+e))}},{key:"removeView",value:function(e){(0,p.default)("#remote_video_panel_"+e)[0]&&(0,p.default)("#remote_video_panel_"+e).remove()}}]),e}()},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.RadioTuner=void 0;var i=r(0),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(2),u=c.BroadcastTokenRequest,l=c.IndexRequest,d=r(12),g=d.RoomServiceClient,p=d.IndexServiceClient;t.RadioTuner=function(){function e(){o(this,e);var t=atob("aHR0cHM6Ly96YXA2MzIxNTItMS5wbGVzazA5LnphcC13ZWJzcGFjZS5jb20vcm1t");this.roomService=new g(t,null,null),this.indexService=new p(t,null,null)}return s(e,[{key:"_base64ToArrayBuffer",value:function(e){for(var t=window.atob(e),r=t.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=t.charCodeAt(o);return n.buffer}},{key:"getStations",value:function(){function e(){return t.apply(this,arguments)}var t=n(a.default.mark(function e(){var t,r,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new l,t.setType(3),r=this,e.next=5,new Promise(function(e,o){n.indexService.index(t,{},function(t,n){if(t)o(t);else{var i=[];n.getRecommendlistList().forEach(function(e){var t=r.convertItem(e);t&&i.push(t)}),e(i)}})});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"convertItem",value:function(e){var t=e.getRoom();if(t){var r=t.getOwner(),n=r?r.getUserid():null,o=r?r.getNickname():null;return{id:t.getRoomid(),name:t.getRoomname(),title:t.getTitle(),type:t.getType(),status:t.getStatus(),audienceToken:t.getAudiencetoken(),album:t.getAlbum(),viewerSize:t.getViewersize(),isPublic:t.getPublic(),sessionId:t.getSessionid(),ownerId:n,ownerName:o}}return null}},{key:"getBoradcastToken",value:function(){function e(e){return t.apply(this,arguments)}var t=n(a.default.mark(function e(t){var r,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new u,r.setRoomid(t),e.next=4,new Promise(function(e,t){n.roomService.broadcasttoken(r,{},function(r,n){if(r)t(r);else{var o={appID:n.getAppid(),channel:n.getRoomid(),token:n.getMtoken(),uid:n.getMaccount()};e(o)}})});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return e}()}]),e}()},function(e,t,r){"use strict";var n={};n.web=r(16);var o={};o.grpc={},o.grpc.video=r(2),o.grpc.video.RoomServiceClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},o.grpc.video.RoomServicePromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};var i=new n.web.MethodDescriptor("/grpc.video.RoomService/broadcasttoken",n.web.MethodType.UNARY,o.grpc.video.BroadcastTokenRequest,o.grpc.video.BroadcastTokenResponse,function(e){return e.serializeBinary()},o.grpc.video.BroadcastTokenResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(o.grpc.video.BroadcastTokenResponse,function(e){return e.serializeBinary()},o.grpc.video.BroadcastTokenResponse.deserializeBinary);o.grpc.video.RoomServiceClient.prototype.broadcasttoken=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/grpc.video.RoomService/broadcasttoken",e,t||{},i,r)},o.grpc.video.RoomServicePromiseClient.prototype.broadcasttoken=function(e,t){return this.client_.unaryCall(this.hostname_+"/grpc.video.RoomService/broadcasttoken",e,t||{},i)},o.grpc.video.IndexServiceClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e},o.grpc.video.IndexServicePromiseClient=function(e,t,r){r||(r={}),r.format="text",this.client_=new n.web.GrpcWebClientBase(r),this.hostname_=e};var a=new n.web.MethodDescriptor("/grpc.video.IndexService/index",n.web.MethodType.UNARY,o.grpc.video.IndexRequest,o.grpc.video.IndexResponse,function(e){return e.serializeBinary()},o.grpc.video.IndexResponse.deserializeBinary);new n.web.AbstractClientBase.MethodInfo(o.grpc.video.IndexResponse,function(e){return e.serializeBinary()},o.grpc.video.IndexResponse.deserializeBinary);o.grpc.video.IndexServiceClient.prototype.index=function(e,t,r){return this.client_.rpcCall(this.hostname_+"/grpc.video.IndexService/index",e,t||{},a,r)},o.grpc.video.IndexServicePromiseClient.prototype.index=function(e,t){return this.client_.unaryCall(this.hostname_+"/grpc.video.IndexService/index",e,t||{},a)},e.exports=o.grpc.video},function(e,t,r){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function o(e){var t=n(e),r=t[0],o=t[1];return 3*(r+o)/4-o}function i(e,t,r){return 3*(t+r)/4-r}function a(e){var t,r,o=n(e),a=o[0],s=o[1],c=new g(i(e,a,s)),u=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=d[e.charCodeAt(r)]<<18|d[e.charCodeAt(r+1)]<<12|d[e.charCodeAt(r+2)]<<6|d[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=d[e.charCodeAt(r)]<<2|d[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===s&&(t=d[e.charCodeAt(r)]<<10|d[e.charCodeAt(r+1)]<<4|d[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c}function s(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function c(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(s(n));return o.join("")}function u(e){for(var t,r=e.length,n=r%3,o=[],i=0,a=r-n;i<a;i+=16383)o.push(c(e,i,i+16383>a?a:i+16383));return 1===n?(t=e[r-1],o.push(l[t>>2]+l[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),o.join("")}t.byteLength=o,t.toByteArray=a,t.fromByteArray=u;for(var l=[],d=[],g="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=p.length;f<h;++f)l[f]=p[f],d[p.charCodeAt(f)]=f;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,t,r){"use strict";(function(e){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,r){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return a(this,e,t,r)}function a(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,r,n):"string"==typeof t?l(e,t,r):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,r,n){return s(t),t<=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}function u(e,t){if(s(t),e=o(e,t<0?0:0|f(t)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function l(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!i.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(t,r);e=o(e,n);var a=e.write(t,r);return a!==n&&(e=e.slice(0,a)),e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function g(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=d(e,t),e}function p(e,t){if(i.isBuffer(t)){var r=0|f(t.length);return e=o(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||K(t.length)?o(e,0):d(e,t);if("Buffer"===t.type&&Q(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function h(e){return+e!=e&&(e=0),i.alloc(+e)}function m(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return w(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}var u;if(o){var l=-1;for(u=r;u<s;u++)if(i(e,u)===i(t,-1===l?0:u-l)){if(-1===l&&(l=u),u-l+1===c)return l*a}else-1!==l&&(u-=u-l),l=-1}else for(r+c>s&&(r=s-c),u=r;u>=0;u--){for(var d=!0,g=0;g<c;g++)if(i(e,u+g)!==i(t,g)){d=!1;break}if(d)return u}return-1}function S(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return Y(H(t,e.length-r),e,r,n)}function T(e,t,r,n){return Y(G(t),e,r,n)}function A(e,t,r,n){return T(e,t,r,n)}function R(e,t,r,n){return Y(z(t),e,r,n)}function I(e,t,r,n){return Y(q(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,r))}function w(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o+s<=r){var c,u,l,d;switch(s){case 1:i<128&&(a=i);break;case 2:c=e[o+1],128==(192&c)&&(d=(31&i)<<6|63&c)>127&&(a=d);break;case 3:c=e[o+1],u=e[o+2],128==(192&c)&&128==(192&u)&&(d=(15&i)<<12|(63&c)<<6|63&u)>2047&&(d<55296||d>57343)&&(a=d);break;case 4:c=e[o+1],u=e[o+2],l=e[o+3],128==(192&c)&&128==(192&u)&&128==(192&l)&&(d=(15&i)<<18|(63&c)<<12|(63&u)<<6|63&l)>65535&&d<1114112&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return C(n)}function C(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Z));return r}function N(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function L(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=W(e[i]);return o}function D(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function x(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function U(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,o){return o||U(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,o){return o||U(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,r,n,52,8),r+8}function $(e){if(e=F(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function F(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function q(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function z(e){return J.toByteArray($(e))}function Y(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function K(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var J=r(13),X=r(17),Q=r(18);t.Buffer=i,t.SlowBuffer=h,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,r){return a(null,e,t,r)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,r){return c(null,e,t,r)},i.allocUnsafe=function(e){return u(null,e)},i.allocUnsafeSlow=function(e){return u(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);o<a;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=i.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,r,n,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var a=o-n,s=r-t,c=Math.min(a,s),u=this.slice(n,o),l=e.slice(t,r),d=0;d<c;++d)if(u[d]!==l[d]){a=u[d],s=l[d];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return S(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return A(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n;if(i.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},i.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},i.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},i.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||P(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),X.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),X.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),X.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),X.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){k(this,e,t,r,Math.pow(2,8*r)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){k(this,e,t,r,Math.pow(2,8*r)-1,0)}var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);k(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);k(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,a=n-r;if(this===e&&r<t&&t<n)for(o=a-1;o>=0;--o)e[o+t]=this[o+r];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var s=i.isBuffer(e)?e:H(new i(e,n).toString()),c=s.length;for(a=0;a<r-t;++a)this[a+t]=s[a%c]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(1))},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,r){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var i=e[o];if(t.call(r,i,o,e))return{i:o,v:i}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}e=e[e.length-1],n=r[e],t=t(n),t!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).i}},"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,o=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var i=0;i<o&&t<n;)if(r[t++]!=e[i++])return!1;return i>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,t,r){e=e.split("."),r=r||goog.global,e[0]in r||void 0===r.execScript||r.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?r[n]=t:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}},goog.define=function(e,t){if(!COMPILED){var r=goog.global.CLOSURE_UNCOMPILED_DEFINES,n=goog.global.CLOSURE_DEFINES;r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)?t=r[e]:n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e])}return t},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var r=e;(r=r.substring(0,r.lastIndexOf(".")))&&!goog.getObjectByName(r);)goog.implicitNamespaces_[r]=!0}goog.exportPath_(e,t)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return e=goog.getObjectByName(e),null!=e?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&("function"==typeof e.getCurrentModulePath&&!!e.getCurrentModulePath())},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error("goog.declareModuleId may only be called from within an ES6 module");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error("goog.declareModuleId may only be called once per module.");if(e in goog.loadedModules_)throw Error('Module with namespace "'+e+'" already exists.')}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var t=goog.global.$jscomp;if(!t||"function"!=typeof t.getCurrentModulePath)throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');t=t.require(t.getCurrentModulePath()),goog.loadedModules_[e]={exports:t,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){e=e.split("."),t=t||goog.global;for(var r=0;r<e.length;r++)if(t=t[e[r]],!goog.isDefAndNotNull(t))return null;return t},goog.globalize=function(e,t){t=t||goog.global;for(var r in e)t[r]=e[r]},goog.addDependency=function(e,t,r,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,t,r,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=t}}return null}},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var r=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),r=goog.loadModuleFromSource_.call(void 0,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,r):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==typeof r&&null!=r&&Object.seal(r),goog.loadedModules_[n]={exports:r,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),0==t.status||200==t.status?t.responseText:null}catch(e){return null}},goog.transpile_=function(e,t,r){var n=goog.global.$jscomp;n||(goog.global.$jscomp=n={});var o=n.transpile;if(!o){var i=goog.basePath+goog.TRANSPILER,a=goog.loadFileSync_(i);if(a){if(function(){(0,eval)(a+"\n//# sourceURL="+i)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,n=goog.global.$jscomp,o=n.transpile}}return o||(o=n.transpile=function(e,t){return goog.logToConsole_(t+" requires transpilation but no transpiler was found."),e}),o(e,t,r)},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if("function"==typeof e.clone)return e.clone();t="array"==t?[]:{};for(var r in e)t[r]=goog.cloneObject(e[r]);return t}return e},goog.bindNative_=function(e,t,r){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,r){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=r.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var r in t)e[r]=t[r]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,r=t.createElement("SCRIPT");r.type="text/javascript",r.defer=!1,r.appendChild(t.createTextNode(e)),t.head.appendChild(r),t.head.removeChild(r)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var r=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")};return n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?r:n:function(e){return e},e=t?e+"-"+n(t):n(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t,r){return r&&r.html&&(e=e.replace(/</g,"&lt;")),t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,r){goog.exportPath_(e,t,r)},goog.exportProperty=function(e,t,r){e[t]=r},goog.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.base=function(e,r,n){for(var o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];return t.prototype[r].apply(e,o)}},goog.base=function(e,t,r){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var o=Array(arguments.length-1),i=1;i<arguments.length;i++)o[i-1]=arguments[i];return n.superClass_.constructor.apply(e,o)}if("string"!=typeof t&&"symbol"!=typeof t)throw Error("method names provided to goog.base must be a string or a symbol");for(o=Array(arguments.length-2),i=2;i<arguments.length;i++)o[i-2]=arguments[i];i=!1;for(var a=e.constructor.prototype;a;a=Object.getPrototypeOf(a))if(a[t]===n)i=!0;else if(i)return a[t].apply(e,o);if(e[t]===n)return e.constructor.prototype[t].apply(e,o);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var r=t.constructor,n=t.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=goog.defineClass.createSealingConstructor_(r,e),e&&goog.inherits(r,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(r.prototype,t),null!=n&&(n instanceof Function?n(r):goog.defineClass.applyProperties_(r,n)),r},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var r=!goog.defineClass.isUnsealable_(t),n=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===n&&r&&Object.seal instanceof Function&&Object.seal(t),t};return n},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)r=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,t=e.currentScript;for(e=t?[t]:e.getElementsByTagName("SCRIPT"),t=e.length-1;0<=t;--t){var r=e[t].src,n=r.lastIndexOf("?");if(n=-1==n?r.length:n,"base.js"==r.substr(n-7,7)){goog.basePath=r.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null,this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(t,r){e?d[t]=!0:r()?(c=t,d[t]=!1):e=d[t]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c="es3",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){return!f.match(/Edge\/(\d+)(\.\d)*/i)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return!1}),{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(e,t){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var r=this.createRequiresTranspilation_();this.requiresTranspilation_=r.map,this.transpilationTarget_=this.transpilationTarget_||r.target}if(e in this.requiresTranspilation_)return!!this.requiresTranspilation_[e]||!(!goog.inHtmlDocument_()||"es6"!=t||"noModule"in goog.global.document.createElement("script"));throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,t){return goog.transpile_(e,t,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,t){function r(){n&&(goog.global.setTimeout(n,0),n=null)}var n=t;if(e.length){t=[];for(var o=0;o<e.length;o++){var i=this.getPathFromDeps_(e[o]);if(!i)throw Error("Unregonized namespace: "+e[o]);t.push(this.dependencies_[i])}i=goog.require;var a=0;for(o=0;o<e.length;o++)i(e[o]),t[o].onLoad(function(){++a==e.length&&r()})}else r()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,t){(e=this.getPathFromDeps_(e))&&(t||this.areDepsLoaded_(this.dependencies_[e].requires))&&(t=this.deferredCallbacks_[e])&&(delete this.deferredCallbacks_[e],t())},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var t=this,r=[],n=function(e){var o=t.getPathFromDeps_(e);if(!o)throw Error("Bad dependency path or symbol: "+e);if(!t.written_[o]){for(t.written_[o]=!0,e=t.dependencies_[o],o=0;o<e.requires.length;o++)goog.isProvided_(e.requires[o])||n(e.requires[o]);r.push(e)}};n(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var e=this,t=this.paused_;this.depsToLoad_.length&&!t;)!function(){var r=!1,n=e.depsToLoad_.shift(),o=!1;e.loading_(n);var i={pause:function(){if(r)throw Error("Cannot call pause after the call to load.");t=!0},resume:function(){r?e.resume_():t=!1},loaded:function(){if(o)throw Error("Double call to loaded.");o=!0,e.loaded_(n)},pending:function(){for(var t=[],r=0;r<e.loadingDeps_.length;r++)t.push(e.loadingDeps_[r]);return t},setModuleState:function(e){goog.moduleLoaderState_={type:e,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,t,r){r&&(goog.loadedModules_[r]={exports:t,type:goog.ModuleType.ES6,moduleId:r||""})},registerGoogModuleExports:function(e,t){goog.loadedModules_[e]={exports:t,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(t){if(r)throw Error("Cannot register with defer after the call to load.");e.defer_(n,t)},areDepsLoaded:function(){return e.areDepsLoaded_(n.requires)}};try{n.load(i)}finally{r=!0}}();t&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var t=0;t<this.loadingDeps_.length;t++)if(this.loadingDeps_[t]==e){this.loadingDeps_.splice(t,1);break}for(t=0;t<this.deferredQueue_.length;t++)if(this.deferredQueue_[t]==e.path){this.deferredQueue_.splice(t,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var t=0;t<e.length;t++){var r=this.getPathFromDeps_(e[t]);if(!r||!(r in this.deferredCallbacks_||goog.isProvided_(e[t])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,t){this.deferredCallbacks_[e.path]=t,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,t,r){},goog.LoadController.prototype.setModuleState=function(e){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,t,r,n,o){this.path=e,this.relativePath=t,this.provides=r,this.requires=n,this.loadFlags=o,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var e=this.path,t=e.indexOf("://");return 0<=t&&(e=e.substring(t+3),0<=(t=e.indexOf("/"))&&(e=e.substring(t+1))),e},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var t=0;t<e.length;t++)e[t]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var t=Math.random().toString(32);return goog.Dependency.callbackMap_[t]=e,t},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,t){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var r=goog.Dependency.callbackMap_[e],n=[],o=1;o<arguments.length;o++)n.push(arguments[o]);r.apply(void 0,n)},goog.Dependency.prototype.load=function(e){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void e.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var r=goog.Dependency.registerCallback_(function(t){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=t.readyState||(goog.Dependency.unregisterCallback_(r),e.loaded())}),n=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?' nonce="'+goog.getScriptNonce()+'"':"";n='<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+r+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+n+"><\/script>",t.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}else{var o=t.createElement("script");o.defer=goog.Dependency.defer_,o.async=!1,o.type="text/javascript",(n=goog.getScriptNonce())&&o.setAttribute("nonce",n),goog.DebugLoader_.IS_OLD_IE_?(e.pause(),o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(e.loaded(),e.resume())}):o.onload=function(){o.onload=null,e.loaded()},o.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path,t.head.appendChild(o)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),e.loaded()):e.pause()},goog.Es6ModuleDependency=function(e,t,r,n,o){goog.Dependency.call(this,e,t,r,n,o)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(e){function t(e,t){e=t?'<script type="module" crossorigin>'+t+"<\/script>":'<script type="module" crossorigin src="'+e+'"><\/script>',n.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(e):e)}function r(e,t){var r=n.createElement("script");r.defer=!0,r.async=!1,r.type="module",r.setAttribute("crossorigin",!0);var o=goog.getScriptNonce();o&&r.setAttribute("nonce",o),t?r.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(t):t:r.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(e):e,n.head.appendChild(r)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?e.loaded():e.pause();else if(goog.inHtmlDocument_()){var n=goog.global.document,o=this;if(goog.isDocumentLoading_()){var i=t;goog.Dependency.defer_=!0}else i=r;var a=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(a),e.setModuleState(goog.ModuleType.ES6)});i(void 0,'goog.Dependency.callback_("'+a+'")'),i(this.path,void 0);var s=goog.Dependency.registerCallback_(function(t){goog.Dependency.unregisterCallback_(s),e.registerEs6ModuleExports(o.path,t,goog.moduleLoaderState_.moduleName)});i(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+s+'", m)');var c=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(c),e.clearModuleState(),e.loaded()});i(void 0,'goog.Dependency.callback_("'+c+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),e.pause()},goog.TransformedDependency=function(e,t,r,n,o){goog.Dependency.call(this,e,t,r,n,o),this.contents_=null,this.lazyFetch_=!(goog.inHtmlDocument_()&&"noModule"in goog.global.document.createElement("script"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){function t(){n.contents_=goog.loadFileSync_(n.path),n.contents_&&(n.contents_=n.transform(n.contents_),n.contents_&&(n.contents_+="\n//# sourceURL="+n.path))}function r(){if(n.lazyFetch_&&t(),n.contents_){o&&e.setModuleState(goog.ModuleType.ES6);try{var r=n.contents_;if(n.contents_=null,goog.globalEval(r),o)var i=goog.moduleLoaderState_.moduleName}finally{o&&e.clearModuleState()}o&&goog.global.$jscomp.require.ensure([n.getPathName()],function(){e.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.getPathName()),i)}),e.loaded()}}var n=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)t(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,e.loaded()):e.pause();else{var o=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||t();var i=1<e.pending().length,a=i&&goog.DebugLoader_.IS_OLD_IE_;if(i=goog.Dependency.defer_&&(i||goog.isDocumentLoading_()),a||i)e.defer(function(){r()});else{var s=goog.global.document;if(a=goog.inHtmlDocument_()&&"ActiveXObject"in goog.global,o&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!a){goog.Dependency.defer_=!0,e.pause();var c=s.onreadystatechange;s.onreadystatechange=function(){"interactive"==s.readyState&&(s.onreadystatechange=c,r(),e.resume()),goog.isFunction(c)&&c.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?function(){var e=goog.global.document,t=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(t),r()}),n='<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+t+'");')+"<\/script>";e.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(n):n)}():r()}}},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,t,r,n,o,i){goog.TransformedDependency.call(this,e,t,r,n,o),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.getPathName())},goog.PreTranspiledEs6ModuleDependency=function(e,t,r,n,o){goog.TransformedDependency.call(this,e,t,r,n,o)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(e){return e},goog.GoogModuleDependency=function(e,t,r,n,o,i,a){goog.TransformedDependency.call(this,e,t,r,n,o),this.needsTranspile_=i,this.transpiler_=a},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.getPathName())),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+e+"\n;return exports});\n//# sourceURL="+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,t,r,n){t=t||[],e=e.replace(/\\/g,"/");var o=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),r=this.factory_.createDependency(o,e,t,r,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[o]=r,r=0;r<t.length;r++)this.idToPath_[t[r]]=o;this.idToPath_[e]=o},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,t,r,n,o,i){return o.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,t,r,n,o,i,this.transpiler):i?new goog.TranspiledDependency(e,t,r,n,o,this.transpiler):o.module==goog.ModuleType.ES6?"never"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(e,t,r,n,o):new goog.Es6ModuleDependency(e,t,r,n,o):new goog.Dependency(e,t,r,n,o)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,t){goog.debugLoader_.bootstrap(e,t)}),goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var t=null;if("undefined"==typeof TrustedTypes||!TrustedTypes.createPolicy)return t;try{t=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(e){goog.logToConsole_(e.message)}return t},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var t=jspb.BinaryConstants.FieldType,r=jspb.BinaryConstants.WireType;switch(e){case t.INT32:case t.INT64:case t.UINT32:case t.UINT64:case t.SINT32:case t.SINT64:case t.BOOL:case t.ENUM:case t.VHASH64:return r.VARINT;case t.DOUBLE:case t.FIXED64:case t.SFIXED64:case t.FHASH64:return r.FIXED64;case t.STRING:case t.MESSAGE:case t.BYTES:return r.DELIMITED;case t.FLOAT:case t.FIXED32:case t.SFIXED32:return r.FIXED32;default:return r.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1.401298464324817e-45,jspb.BinaryConstants.FLOAT32_MIN=1.1754943508222875e-38,jspb.BinaryConstants.FLOAT32_MAX=3.4028234663852886e38,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=2.2250738585072014e-308,jspb.BinaryConstants.FLOAT64_MAX=1.7976931348623157e308,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){goog.debug.Error.call(this,goog.asserts.subs_(e,t)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,t){e=e.split("%s");for(var r="",n=e.length-1,o=0;o<n;o++)r+=e[o]+(o<t.length?t[o]:"%s");return r+e[n]},goog.asserts.doAssertFailure_=function(e,t,r,n){var o="Assertion failed";if(r){o+=": "+r;var i=n}else e&&(o+=": "+e,i=t);e=new goog.asserts.AssertionError(""+o,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&null==e&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,r){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,r,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],r,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,t,r){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,r)}:function(e,t,r){if(r=null==r?0:0>r?Math.max(0,e.length+r):r,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,r):-1;for(;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==r?e.length-1:r)}:function(e,t,r){if(r=null==r?e.length-1:r,0>r&&(r=Math.max(0,e.length+r)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,r):-1;for(;0<=r;r--)if(r in e&&e[r]===t)return r;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,r){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)i in o&&t.call(r,o[i],i,e)},goog.array.forEachRight=function(e,t,r){var n=e.length,o=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in o&&t.call(r,o[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=[],i=0,a=goog.isString(e)?e.split(""):e,s=0;s<n;s++)if(s in a){var c=a[s];t.call(r,c,s,e)&&(o[i++]=c)}return o},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=Array(n),i=goog.isString(e)?e.split(""):e,a=0;a<n;a++)a in i&&(o[a]=t.call(r,i[a],a,e));return o},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,r)}:function(e,t,r,n){var o=r;return goog.array.forEach(e,function(r,i){o=t.call(n,o,r,i,e)}),o},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,r,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,r)}:function(e,t,r,n){var o=r;return goog.array.forEachRight(e,function(r,i){o=t.call(n,o,r,i,e)}),o},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(r,o[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,r){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,r)}:function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&!t.call(r,o[i],i,e))return!1;return!0},goog.array.count=function(e,t,r){var n=0;return goog.array.forEach(e,function(e,o,i){t.call(r,e,o,i)&&++n},r),n},goog.array.find=function(e,t,r){return t=goog.array.findIndex(e,t,r),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,r){for(var n=e.length,o=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in o&&t.call(r,o[i],i,e))return i;return-1},goog.array.findRight=function(e,t,r){return t=goog.array.findIndexRight(e,t,r),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,r){var n=e.length,o=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in o&&t.call(r,o[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,r){goog.array.splice(e,r,0,t)},goog.array.insertArrayAt=function(e,t,r){goog.partial(goog.array.splice,e,r,0).apply(null,t)},goog.array.insertBefore=function(e,t,r){var n;2==arguments.length||0>(n=goog.array.indexOf(e,r))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){t=goog.array.indexOf(e,t);var r;return(r=0<=t)&&goog.array.removeAt(e,t),r},goog.array.removeLast=function(e,t){return 0<=(t=goog.array.lastIndexOf(e,t))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,r){return 0<=(t=goog.array.findIndex(e,t,r))&&(goog.array.removeAt(e,t),!0)},goog.array.removeAllIf=function(e,t,r){var n=0;return goog.array.forEachRight(e,function(o,i){t.call(r,o,i,e)&&goog.array.removeAt(e,i)&&n++}),n},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var t=e.length;if(0<t){for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(goog.isArrayLike(n)){var o=e.length||0,i=n.length||0;e.length=o+i;for(var a=0;a<i;a++)e[o+a]=n[a]}else e.push(n)}},goog.array.splice=function(e,t,r,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,r){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,r)},goog.array.removeDuplicates=function(e,t,r){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};r=r||n,n={};for(var o=0,i=0;i<e.length;){var a=e[i++],s=r(a);Object.prototype.hasOwnProperty.call(n,s)||(n[s]=!0,t[o++]=a)}t.length=o},goog.array.binarySearch=function(e,t,r){return goog.array.binarySearch_(e,r||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,r){return goog.array.binarySearch_(e,t,!0,void 0,r)},goog.array.binarySearch_=function(e,t,r,n,o){for(var i,a=0,s=e.length;a<s;){var c=a+s>>1,u=r?t.call(o,e[c],c,e):t(n,e[c]);0<u?a=c+1:(s=c,i=!u)}return i?a:~a},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]={index:n,value:e[n]};var o=t||goog.array.defaultCompare;for(goog.array.sort(r,function(e,t){return o(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=r[n].value},goog.array.sortByKey=function(e,t,r){var n=r||goog.array.defaultCompare;goog.array.sort(e,function(e,r){return n(t(e),t(r))})},goog.array.sortObjectsByKey=function(e,t,r){goog.array.sortByKey(e,function(e){return e[t]},r)},goog.array.isSorted=function(e,t,r){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var o=t(e[n-1],e[n]);if(0<o||0==o&&r)return!1}return!0},goog.array.equals=function(e,t,r){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;r=r||goog.array.defaultCompareEquality;for(var o=0;o<n;o++)if(!r(e[o],t[o]))return!1;return!0},goog.array.compare3=function(e,t,r){r=r||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),o=0;o<n;o++){var i=r(e[o],t[o]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:e<t?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,r){return 0>(r=goog.array.binarySearch(e,t,r))&&(goog.array.insertAt(e,t,-(r+1)),!0)},goog.array.binaryRemove=function(e,t,r){return 0<=(t=goog.array.binarySearch(e,t,r))&&goog.array.removeAt(e,t)},goog.array.bucket=function(e,t,r){for(var n={},o=0;o<e.length;o++){var i=e[o],a=t.call(r,i,o,e);goog.isDef(a)&&(n[a]||(n[a]=[])).push(i)}return n},goog.array.toObject=function(e,t,r){var n={};return goog.array.forEach(e,function(o,i){n[t.call(r,o,i,e)]=o}),n},goog.array.range=function(e,t,r){var n=[],o=0,i=e;if(r=r||1,void 0!==t&&(o=e,i=t),0>r*(i-o))return[];if(0<r)for(e=o;e<i;e+=r)n.push(e);else for(e=o;e>i;e+=r)n.push(e);return n},goog.array.repeat=function(e,t){for(var r=[],n=0;n<t;n++)r[n]=e;return r},goog.array.flatten=function(e){for(var t=[],r=0;r<arguments.length;r++){var n=arguments[r];if(goog.isArray(n))for(var o=0;o<n.length;o+=8192){var i=goog.array.slice(n,o,o+8192);i=goog.array.flatten.apply(null,i);for(var a=0;a<i.length;a++)t.push(i[a])}else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,0<t?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,r){goog.asserts.assert(0<=t&&t<e.length),goog.asserts.assert(0<=r&&r<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,r,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],r=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<r&&(r=arguments[n].length);for(n=0;n<r;n++){for(var o=[],i=0;i<arguments.length;i++)o.push(arguments[i][n]);t.push(o)}return t},goog.array.shuffle=function(e,t){t=t||Math.random;for(var r=e.length-1;0<r;r--){var n=Math.floor(t()*(r+1)),o=e[r];e[r]=e[n],e[n]=o}},goog.array.copyByIndex=function(e,t){var r=[];return goog.array.forEach(t,function(t){r.push(e[t])}),r},goog.array.concatMap=function(e,t,r){return goog.array.concat.apply([],goog.array.map(e,t,r))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);255<o&&(t[r++]=255&o,o>>=8),t[r++]=o}return t},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var t="",r=0;r<e.length;r+=8192){var n=goog.array.slice(e,r,r+8192);t+=String.fromCharCode.apply(null,n)}return t},goog.crypt.byteArrayToHex=function(e,t){return goog.array.map(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join(t||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(0==e.length%2,"Key string length must be multiple of 2");for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substring(r,r+2),16));return t},goog.crypt.stringToUtf8ByteArray=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t[r++]=o:(2048>o?t[r++]=o>>6|192:(55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[r++]=o>>18|240,t[r++]=o>>12&63|128):t[r++]=o>>12|224,t[r++]=o>>6&63|128),t[r++]=63&o|128)}return t},goog.crypt.utf8ByteArrayToString=function(e){for(var t=[],r=0,n=0;r<e.length;){var o=e[r++];if(128>o)t[n++]=String.fromCharCode(o);else if(191<o&&224>o){var i=e[r++];t[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(239<o&&365>o){i=e[r++];var a=e[r++],s=e[r++];o=((7&o)<<18|(63&i)<<12|(63&a)<<6|63&s)-65536,t[n++]=String.fromCharCode(55296+(o>>10)),t[n++]=String.fromCharCode(56320+(1023&o))}else i=e[r++],a=e[r++],t[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}return t.join("")},goog.crypt.xorByteArray=function(e,t){goog.asserts.assert(e.length==t.length,"XOR array lengths must match");for(var r=[],n=0;n<e.length;n++)r.push(e[n]^t[n]);return r},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.internal.endsWith=function(e,t){var r=e.length-t.length;return 0<=r&&e.indexOf(t,r)==r},goog.string.internal.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.internal.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.internal.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.internal.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?-1:e==t?0:1},goog.string.internal.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,t){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.internal.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.internal.caseInsensitiveContains=function(e,t){return goog.string.internal.contains(e.toLowerCase(),t.toLowerCase())},goog.string.internal.compareVersions=function(e,t){var r=0;e=goog.string.internal.trim(String(e)).split("."),t=goog.string.internal.trim(String(t)).split(".");for(var n=Math.max(e.length,t.length),o=0;0==r&&o<n;o++){var i=e[o]||"",a=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;r=0==i[1].length?0:parseInt(i[1],10);var s=0==a[1].length?0:parseInt(a[1],10);r=goog.string.internal.compareElements_(r,s)||goog.string.internal.compareElements_(0==i[2].length,0==a[2].length)||goog.string.internal.compareElements_(i[2],a[2]),i=i[3],a=a[3]}while(0==r)}return r},goog.string.internal.compareElements_=function(e,t){return e<t?-1:e>t?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,t){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&t||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))&&("adlm"==goog.LOCALE.substring(3,7).toLowerCase()||"arab"==goog.LOCALE.substring(3,7).toLowerCase()||"hebr"==goog.LOCALE.substring(3,7).toLowerCase()||"nkoo"==goog.LOCALE.substring(3,7).toLowerCase()||"rohg"==goog.LOCALE.substring(3,7).toLowerCase()||"thaa"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&("-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4))&&("adlm"==goog.LOCALE.substring(4,8).toLowerCase()||"arab"==goog.LOCALE.substring(4,8).toLowerCase()||"hebr"==goog.LOCALE.substring(4,8).toLowerCase()||"nkoo"==goog.LOCALE.substring(4,8).toLowerCase()||"rohg"==goog.LOCALE.substring(4,8).toLowerCase()||"thaa"==goog.LOCALE.substring(4,8).toLowerCase()),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ऀ-῿‎Ⰰ-��-��-�豈-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-ࣿ‏�-��-�יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){return t=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){var r=0,n=0,o=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),t=0;t<e.length;t++){var i=e[t];goog.i18n.bidi.startsWithRtl(i)?(r++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?o=!0:goog.i18n.bidi.hasAnyLtr(i)?n++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(o=!0)}return 0==n?o?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:r/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,t){var r=goog.html.TrustedResourceUrl.unwrap(this);r=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(r);var n=r[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(r[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",r[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",n,t))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,t){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return e=t[n],e instanceof goog.string.Const?goog.string.Const.unwrap(e):encodeURIComponent(String(e))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,t,r,n){return goog.html.TrustedResourceUrl.format(e,t).cloneWithParams(r,n)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",r=0;r<e.length;r++)t+=goog.string.Const.unwrap(e[r]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(t.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),t},goog.html.TrustedResourceUrl.stringifyParams_=function(e,t,r){if(null==r)return t;if(goog.isString(r))return r?e+encodeURIComponent(r):"";for(var n in r){var o=r[n];o=goog.isArray(o)?o:[o];for(var i=0;i<o.length;i++){var a=o[i];null!=a&&(t||(t=e),t+=(t.length>e.length?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(a)))}}return t},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){e=e.replace(/(%0A|%0D)/g,"");var t=e.match(goog.html.DATA_URL_PATTERN_);return t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var t=e.indexOf("#");if(0<t&&(e=e.substring(0,t)),!(t=e.match(/[?&]body=/gi)))return!0;if(1<t.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch(e){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,t){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,t)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,t,r){return(e=e.exec(t))?(e=e[1],-1==(r instanceof goog.string.Const?[goog.string.Const.unwrap(r)]:r.map(function(e){return goog.string.Const.unwrap(e)})).indexOf(e)&&(t=goog.html.SafeUrl.INNOCUOUS_STRING)):t=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,t){return e instanceof goog.html.SafeUrl?e:(e="object"==typeof e&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),t&&/^data:/i.test(e)&&(t=goog.html.SafeUrl.fromDataUrl(e),t.getTypedStringValue()==e)?t:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,r="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n),r+=t+":"+n+";")}return r?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(r):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var t=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(t)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,r=!0,n=0;n<e.length;n++){var o=e.charAt(n);"'"==o&&r?t=!t:'"'==o&&t&&(r=!r)}return t&&r},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var t=!0,r=/^[-_a-zA-Z0-9]$/,n=0;n<e.length;n++){var o=e.charAt(n);if("]"==o){if(t)return!1;t=!0}else if("["==o){if(!t)return!1;t=!1}else if(!t&&!r.test(o))return!1}return t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,function(e,t,r,n){var o="";return r=r.replace(/^(['"])(.*)\1$/,function(e,t,r){return o=t,r}),e=goog.html.SafeUrl.sanitize(r).getTypedStringValue(),t+o+e+o+n})},goog.html.SafeStyle.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,r),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,t){for(var r=[],n=1;n<arguments.length;n++)r.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+r.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t},goog.object.forEach=function(e,t,r){for(var n in e)t.call(r,e[n],n,e)},goog.object.filter=function(e,t,r){var n,o={};for(n in e)t.call(r,e[n],n,e)&&(o[n]=e[n]);return o},goog.object.map=function(e,t,r){var n,o={};for(n in e)o[n]=t.call(r,e[n],n,e);return o},goog.object.some=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,r){for(var n in e)if(!t.call(r,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,r=0;for(t in e)r++;return r},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,r=[],n=0;for(t in e)r[n++]=e[t];return r},goog.object.getKeys=function(e){var t,r=[],n=0;for(t in e)r[n++]=t;return r},goog.object.getValueByKeys=function(e,t){var r=goog.isArrayLike(t),n=r?t:arguments;for(r=r?0:1;r<n.length;r++){if(null==e)return;e=e[n[r]]}return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var r in e)if(e[r]==t)return!0;return!1},goog.object.findKey=function(e,t,r){for(var n in e)if(t.call(r,e[n],n,e))return n},goog.object.findValue=function(e,t,r){return(t=goog.object.findKey(e,t,r))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var r;return(r=t in e)&&delete e[t],r},goog.object.add=function(e,t,r){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,r)},goog.object.get=function(e,t,r){return null!==e&&t in e?e[t]:r},goog.object.set=function(e,t,r){e[t]=r},goog.object.setIfUndefined=function(e,t,r){return t in e?e[t]:e[t]=r},goog.object.setWithReturnValueIfNotSet=function(e,t,r){return t in e?e[t]:(r=r(),e[t]=r)},goog.object.equals=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0},goog.object.clone=function(e){var t,r={};for(t in e)r[t]=e[t];return r},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();t="array"==t?[]:{};for(var r in e)t[r]=goog.object.unsafeClone(e[r]);return t}return e},goog.object.transpose=function(e){var t,r={};for(t in e)r[e[t]]=t;return r},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var r,n,o=1;o<arguments.length;o++){n=arguments[o];for(r in n)e[r]=n[r];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)r=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var r={},n=0;n<t;n+=2)r[arguments[n]]=arguments[n+1];return r},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var r={},n=0;n<t;n++)r[arguments[n]]=!0;return r},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,t,r){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||t)&&(e!==Function.prototype||r);){for(var o=Object.getOwnPropertyNames(e),i=0;i<o.length;i++)n[o[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,t){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var r=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(r))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(r))throw Error("() and [] in selector must be balanced, got: "+e);return t instanceof goog.html.SafeStyle||(t=goog.html.SafeStyle.create(t)),e=e+"{"+goog.html.SafeStyle.unwrap(t).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var t={"(":")","[":"]"},r=[],n=0;n<e.length;n++){var o=e[n];if(t[o])r.push(t[o]);else if(goog.object.contains(t,o)&&r.pop()!=o)return!1}return 0==r.length},goog.html.SafeStyleSheet.concat=function(e){var t="",r=function(e){goog.isArray(e)?goog.array.forEach(e,r):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,r),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER");goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,n=[];t=r.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),r[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);t=goog.labs.userAgent.util.extractVersionTuples(t);var r={};goog.array.forEach(t,function(e){r[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,r);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];t="";var r=/MSIE +([\d\.]+)/.exec(e);if(r&&r[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==r[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=r[1];return t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t="object"==typeof e,r=null;return t&&e.implementsGoogI18nBidiDirectionalString&&(r=e.getDirection()),e=t&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),r)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,t,r){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),t,r)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,r,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var o={};return o.src=e||null,o.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(o,{sandbox:""},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,r,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var o={};return o.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,o.srcdoc=t||null,o.sandbox="",e=goog.html.SafeHtml.combineAttributes(o,{},r),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,t){for(var r in t){var n=r.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(r="",e=goog.array.concat(e),n=0;n<e.length;n++)r+=goog.html.SafeScript.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t,e)},goog.html.SafeHtml.createStyle=function(e,t){t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t);var r="";e=goog.array.concat(e);for(var n=0;n<e.length;n++)r+=goog.html.SafeStyleSheet.unwrap(e[n]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,e)},goog.html.SafeHtml.createMetaRefresh=function(e,t){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,r){if(r instanceof goog.string.Const)r=goog.string.Const.unwrap(r);else if("style"==t.toLowerCase())r=goog.html.SafeHtml.getStyleValue_(r);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+r+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(r instanceof goog.html.TrustedResourceUrl)r=goog.html.TrustedResourceUrl.unwrap(r);else if(r instanceof goog.html.SafeUrl)r=goog.html.SafeUrl.unwrap(r);else{if(!goog.isString(r))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+'" given.');r=goog.html.SafeUrl.sanitize(r).getTypedStringValue()}}return r.implementsGoogStringTypedString&&(r=r.getTypedStringValue()),goog.asserts.assert(goog.isString(r)||goog.isNumber(r),"String or number value expected, got "+typeof r+" with value: "+r),t+'="'+goog.string.internal.htmlEscape(String(r))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,r,n){return t=goog.html.SafeHtml.create(t,r,n),t.dir_=e,t},goog.html.SafeHtml.join=function(e,t){e=goog.html.SafeHtml.htmlEscape(e);var r=e.getDirection(),n=[],o=function(e){goog.isArray(e)?goog.array.forEach(e,o):(e=goog.html.SafeHtml.htmlEscape(e),n.push(goog.html.SafeHtml.unwrap(e)),e=e.getDirection(),r==goog.i18n.bidi.Dir.NEUTRAL?r=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&r!=e&&(r=null))};return goog.array.forEach(t,o),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n.join(goog.html.SafeHtml.unwrap(e)),r)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,t){var r=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return r.dir_=e,r},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,r){var n=null,o="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t);return goog.isDefAndNotNull(r)?goog.isArray(r)||(r=[r]):r=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!r.length,"Void tag <"+e+"> does not allow content."),o+=">"):(n=goog.html.SafeHtml.concat(r),o+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=t&&t.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,n)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var r="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var o=t[n];goog.isDefAndNotNull(o)&&(r+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,o))}return r},goog.html.SafeHtml.combineAttributes=function(e,t,r){var n,o={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),o[n]=t[n];for(n in r){var i=n.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+n+'" with value "'+r[n]+'"');i in t&&delete o[i],o[n]=r[n]}return o},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,r){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,r||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);t&&(!e||!(e instanceof t.Location)&&e instanceof t.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=goog.dom.asserts.getWindow_(e);r&&void 0!==r[t]&&(e&&(e instanceof r[t]||!(e instanceof r.Location||e instanceof r.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")};goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return void 0===e?"undefined":null===e?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var t=e&&e.ownerDocument,r=t&&(t.defaultView||t.parentWindow);if(r=r||goog.global,r.Element&&r.Location)return r}catch(e){}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var r=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,r),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(r){return t?e==r:e===r}},goog.functions.compose=function(e,t){var r=arguments,n=r.length;return function(){var e;n&&(e=r[n-1].apply(this,arguments));for(var t=n-2;0<=t;t--)e=r[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,r=t.length;return function(){for(var e,n=0;n<r;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,r=t.length;return function(){for(var e=0;e<r;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var r=function(){};return r.prototype=e.prototype,r=new r,e.apply(r,Array.prototype.slice.call(arguments,1)),r},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,r=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(r||(t=e(),r=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,r){var n=0;return function(o){goog.global.clearTimeout(n);var i=arguments;n=goog.global.setTimeout(function(){e.apply(r,i)},t)}},goog.functions.throttle=function(e,t,r){var n=0,o=!1,i=[],a=function(){n=0,o&&(o=!1,s())},s=function(){n=goog.global.setTimeout(a,t),e.apply(r,i)};return function(e){i=arguments,n?o=!0:s()}},goog.functions.rateLimit=function(e,t,r){var n=0,o=function(){n=0};return function(i){n||(n=goog.global.setTimeout(o,t),e.apply(r,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,r){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrapTrustedHTML(r))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&"undefined"==typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!(goog.DEBUG&&!e.firstChild)&&(t=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!t.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,t){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setInnerHtml=function(e,t){if(goog.asserts.ENABLE_ASSERTS){var r=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[r])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setFormElementAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setButtonFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setInputFormAction=function(e,t){t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setStyle=function(e,t){e.style.cssText=goog.html.SafeStyle.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrapTrustedHTML(t))},goog.dom.safe.setAnchorHref=function(e,t){goog.dom.asserts.assertIsHTMLAnchorElement(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setImageSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:image\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setAudioSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:audio\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setVideoSrc=function(e,t){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(t instanceof goog.html.SafeUrl)){var r=/^data:video\//i.test(t);t=goog.html.SafeUrl.sanitizeAssertUnchanged(t,r)}e.src=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.setEmbedSrc=function(e,t){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setFrameSrc=function(e,t){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)},goog.dom.safe.setIframeSrcdoc=function(e,t){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,r){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=r,goog.string.internal.caseInsensitiveContains(r,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(t):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(t))},goog.dom.safe.setObjectData=function(e,t){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t)},goog.dom.safe.setScriptSrc=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setScriptContent=function(e,t){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(t),(t=goog.getScriptNonce())&&e.setAttribute("nonce",t)},goog.dom.safe.setLocationHref=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.href=goog.html.SafeUrl.unwrapTrustedURL(t)},goog.dom.safe.assignLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.assign(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.replaceLocation=function(e,t){goog.dom.asserts.assertIsLocation(e),t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitizeAssertUnchanged(t),e.replace(goog.html.SafeUrl.unwrapTrustedURL(t))},goog.dom.safe.openInWindow=function(e,t,r,n,o){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(t||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),r?goog.string.Const.unwrap(r):"",n,o)},goog.dom.safe.parseFromStringHtml=function(e,t){return goog.dom.safe.parseFromString(e,t,"text/html")},goog.dom.safe.parseFromString=function(e,t,r){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(t),r)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var t=goog.global.URL.createObjectURL(e);return e=new goog.global.Image,e.onload=function(){goog.global.URL.revokeObjectURL(t)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),t)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,t){for(var r=e.split("%s"),n="",o=Array.prototype.slice.call(arguments,1);o.length&&1<r.length;)n+=r.shift()+o.shift();return n+r.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&"~">=e||""<=e&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,t,r){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(r),o=t.toLowerCase().match(r),i=Math.min(n.length,o.length),a=0;a<i;a++){r=n[a];var s=o[a];if(r!=s)return e=parseInt(r,10),!isNaN(e)&&(t=parseInt(s,10),!isNaN(t)&&e-t)?e-t:r<s?-1:1}return n.length!=o.length?n.length-o.length:e<t?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,t){return e=goog.string.internal.htmlEscape(e,t),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=t?t.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var o=r[e];return o||("#"==t.charAt(0)&&(t=Number("0"+t.substr(1)),isNaN(t)||(o=String.fromCharCode(t))),o||(goog.dom.safe.setInnerHtml(n,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),e+" ")),o=n.firstChild.nodeValue.slice(0,-1)),r[e]=o)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return"#"!=t.charAt(0)||(t=Number("0"+t.substr(1)),isNaN(t))?e:String.fromCharCode(t)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var r=t.length,n=0;n<r;n++){var o=1==r?t:t.charAt(n);if(e.charAt(0)==o&&e.charAt(e.length-1)==o)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,r){return r&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),r&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,r,n){if(r&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var o=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(o)}else e.length>t&&(n=Math.floor(t/2),o=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(o));return r&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],r=0;r<e.length;r++){var n=e.charAt(r),o=n.charCodeAt(0);t[r+1]=goog.string.specialEscapeChars_[n]||(31<o&&127>o?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=goog.string.escapeChar(e.charAt(r));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e.charCodeAt(0);if(31<t&&127>t)var r=e;else 256>t?(r="\\x",(16>t||256<t)&&(r+="0")):(r="\\u",4096>t&&(r+="0")),r+=t.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=r},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,r){var n=e;return 0<=t&&t<e.length&&0<r&&(n=e.substr(0,t)+e.substr(t+r,e.length-t-r)),n},goog.string.remove=function(e,t){return e.replace(t,"")},goog.string.removeAll=function(e,t){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,"")},goog.string.replaceAll=function(e,t,r){return t=new RegExp(goog.string.regExpEscape(t),"g"),e.replace(t,r.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,r){return e=goog.isDef(r)?e.toFixed(r):String(e),r=e.indexOf("."),-1==r&&(r=e.length),goog.string.repeat("0",Math.max(0,t-r))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var t=0,r=0;r<e.length;++r)t=31*t+e.charCodeAt(r)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){return t=goog.isString(t)?goog.string.regExpEscape(t):"\\s",e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,t,r){return t+r.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,r){e=e.split(t);for(var n=[];0<r&&e.length;)n.push(e.shift()),r--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var r=-1,n=0;n<t.length;n++)if(""!=t[n]){var o=e.lastIndexOf(t[n]);o>r&&(r=o)}return-1==r?e:e.slice(r+1)},goog.string.editDistance=function(e,t){var r=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var o=0;o<t.length+1;o++)r[o]=o;for(o=0;o<e.length;o++){n[0]=o+1;for(var i=0;i<t.length;i++)n[i+1]=Math.min(n[i]+1,r[i+1]+1,r[i]+Number(e[o]!=t[i]));for(i=0;i<r.length;i++)r[i]=n[i]}return n[t.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isKaiOS()?(t=/(?:KaiOS)\/(\S+)/i,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.objectProperty=function(e,t){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(e){}return!1},goog.reflect.cache=function(e,t,r,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=r(t)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t=goog.labs.userAgent.engine.getEngineTuple_(e);if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];e=e[0];var r;if(e&&(r=e[2])&&(r=/Trident\/([^\s;]+)/.exec(r)))return r[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var r=e[t];if("Edge"==r[0])return r}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){return(e=goog.array.find(e,function(e){return t==e[0]}))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&null!=(t=goog.userAgent.getDocumentMode_())&&t>parseFloat(e)?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||"function"==typeof goog.global.btoa,goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&"function"==typeof goog.global.atob,goog.crypt.base64.encodeByteArray=function(e,t){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),void 0===t&&(t=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),t=goog.crypt.base64.byteToCharMaps_[t];for(var r=[],n=0;n<e.length;n+=3){var o=e[n],i=n+1<e.length,a=i?e[n+1]:0,s=n+2<e.length,c=s?e[n+2]:0,u=o>>2;o=(3&o)<<4|a>>4,a=(15&a)<<2|c>>6,c&=63,s||(c=64,i||(a=64)),r.push(t[u],t[o],t[a]||"",t[c]||"")}return r.join("")},goog.crypt.base64.encodeString=function(e,t){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!t?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),t)},goog.crypt.base64.decodeString=function(e,t){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!t)return goog.global.atob(e);var r="";return goog.crypt.base64.decodeStringInternal_(e,function(e){r+=String.fromCharCode(e)}),r},goog.crypt.base64.decodeStringToByteArray=function(e,t){var r=[];return goog.crypt.base64.decodeStringInternal_(e,function(e){r.push(e)}),r},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var t=e.length,r=3*t/4;r%3?r=Math.floor(r):goog.crypt.base64.isPadding_(e[t-1])&&(r=goog.crypt.base64.isPadding_(e[t-2])?r-2:r-1);var n=new Uint8Array(r),o=0;return goog.crypt.base64.decodeStringInternal_(e,function(e){n[o++]=e}),n.subarray(0,o)},goog.crypt.base64.decodeStringInternal_=function(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),o=goog.crypt.base64.charToByteMap_[r];if(null!=o)return o;if(!goog.string.isEmptyOrWhitespace(r))throw Error("Unknown base64 encoding at char: "+r)}return t}goog.crypt.base64.init_();for(var n=0;;){var o=r(-1),i=r(0),a=r(64),s=r(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));goog.crypt.base64.byteToCharMaps_[r]=n;for(var o=0;o<n.length;o++){var i=n[o],a=goog.crypt.base64.charToByteMap_[i];void 0===a?goog.crypt.base64.charToByteMap_[i]=o:goog.asserts.assert(a===o)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var t=e>>>0;e=Math.floor((e-t)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=t,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var t=0>e;e=Math.abs(e);var r=e>>>0;e=Math.floor((e-r)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,t&&(e=~e>>>0,4294967295<(r=1+(~r>>>0))&&(r=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=r,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var t=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;t&&(0==e?0==r?r=e=4294967295:(r--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=r},jspb.utils.splitFloat32=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|e)>>>0;else{var r=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-r),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(t<<31|r+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var t=0>e?1:0;if(0===(e=t?-e:e))jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(t<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var r=e/Math.pow(2,-1074);e=r/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(t<<31|e)>>>0,jspb.utils.split64Low=r>>>0}else{r=e;var n=0;if(2<=r)for(;2<=r&&1023>n;)n++,r/=2;else for(;1>r&&-1022<n;)r*=2,n--;r=e*Math.pow(2,-n),e=r*jspb.BinaryConstants.TWO_TO_20&1048575,r=r*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(t<<31|n+1023<<20|e)>>>0,jspb.utils.split64Low=r}},jspb.utils.splitHash64=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),o=e.charCodeAt(3),i=e.charCodeAt(4),a=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=t+(r<<8)+(n<<16)+(o<<24)>>>0,jspb.utils.split64High=i+(a<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,t){return t*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,t){var r=2147483648&t;return r&&(e=1+~e>>>0,t=~t>>>0,0==e&&(t=t+1>>>0)),e=jspb.utils.joinUint64(e,t),r?-e:e},jspb.utils.toZigzag64=function(e,t,r){var n=t>>31;return r(e<<1^n,(t<<1|e>>>31)^n)},jspb.utils.joinZigzag64=function(e,t){return jspb.utils.fromZigzag64(e,t,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,t,r){var n=-(1&e);return r((e>>>1|t<<31)^n,t>>>1^n)},jspb.utils.joinFloat32=function(e,t){t=2*(e>>31)+1;var r=e>>>23&255;return e&=8388607,255==r?e?NaN:1/0*t:0==r?t*Math.pow(2,-149)*e:t*Math.pow(2,r-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,t){var r=2*(t>>31)+1,n=t>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&t)+e,2047==n?e?NaN:1/0*r:0==n?r*Math.pow(2,-1074)*e:r*Math.pow(2,n-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,t){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,t){function r(e,t){return e=e?String(e):"",t?"0000000".slice(e.length)+e:e}if(2097151>=t)return""+(jspb.BinaryConstants.TWO_TO_32*t+e);var n=(e>>>24|t<<8)>>>0&16777215;return t=t>>16&65535,e=(16777215&e)+6777216*n+6710656*t,n+=8147497*t,t*=2,1e7<=e&&(n+=Math.floor(e/1e7),e%=1e7),1e7<=n&&(t+=Math.floor(n/1e7),n%=1e7),r(t,0)+r(n,t)+r(e,1)},jspb.utils.joinSignedDecimalString=function(e,t){var r=2147483648&t;return r&&(e=1+~e>>>0,t=~t+(0==e?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,t),r?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinSignedDecimalString(e,r):jspb.utils.joinUnsignedDecimalString(e,r)},jspb.utils.hash64ArrayToDecimalStrings=function(e,t){for(var r=Array(e.length),n=0;n<e.length;n++)r[n]=jspb.utils.hash64ToDecimalString(e[n],t);return r},jspb.utils.decimalStringToHash64=function(e){function t(e,t){for(var r=0;8>r&&(1!==e||0<t);r++)t=e*n[r]+t,n[r]=255&t,t>>>=8}goog.asserts.assert(0<e.length);var r=!1;"-"===e[0]&&(r=!0,e=e.slice(1));for(var n=[0,0,0,0,0,0,0,0],o=0;o<e.length;o++)t(10,e.charCodeAt(o)-jspb.utils.ZERO_CHAR_CODE_);return r&&(function(){for(var e=0;8>e;e++)n[e]=255&~n[e]}(),t(1,1)),goog.crypt.byteArrayToString(n)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var t=Array(18);t[0]="0",t[1]="x";for(var r=0;8>r;r++){var n=e.charCodeAt(7-r);t[2*r+2]=jspb.utils.toHexDigit_(n>>4),t[2*r+3]=jspb.utils.toHexDigit_(15&n)}return t.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(18==e.length),goog.asserts.assert("0"==e[0]),goog.asserts.assert("x"==e[1]);for(var t="",r=0;8>r;r++){var n=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+2)),o=jspb.utils.fromHexCharCode_(e.charCodeAt(2*r+3));t=String.fromCharCode(16*n+o)+t}return t},jspb.utils.hash64ToNumber=function(e,t){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var r=jspb.utils.split64High;return t?jspb.utils.joinInt64(e,r):jspb.utils.joinUint64(e,r)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,t,r){for(var n=0,o=t;o<r;o++)n+=e[o]>>7;return r-t-n},jspb.utils.countVarintFields=function(e,t,r,n){var o=0;if(128>(n=8*n+jspb.BinaryConstants.WireType.VARINT))for(;t<r&&e[t++]==n;)for(o++;;){var i=e[t++];if(0==(128&i))break}else for(;t<r;){for(i=n;128<i;){if(e[t]!=(127&i|128))return o;t++,i>>=7}if(e[t++]!=i)break;for(o++;0!=(128&(i=e[t++])););}return o},jspb.utils.countFixedFields_=function(e,t,r,n,o){var i=0;if(128>n)for(;t<r&&e[t++]==n;)i++,t+=o;else for(;t<r;){for(var a=n;128<a;){if(e[t++]!=(127&a|128))return i;a>>=7}if(e[t++]!=a)break;i++,t+=o}return i},jspb.utils.countFixed32Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,t,r,n){return jspb.utils.countFixedFields_(e,t,r,8*n+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,t,r,n){var o=0;for(n=8*n+jspb.BinaryConstants.WireType.DELIMITED;t<r;){for(var i=n;128<i;){if(e[t++]!=(127&i|128))return o;i>>=7}if(e[t++]!=i)break;o++;for(var a=0,s=1;i=e[t++],a+=(127&i)*s,s*=128,0!=(128&i););t+=a}return o},jspb.utils.debugBytesToTextFormat=function(e){var t='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var r=0;r<e.length;r++)t+="\\x",16>e[r]&&(t+="0"),t+=e[r].toString(16)}return t+'"'},jspb.utils.debugScalarToTextFormat=function(e){return"string"==typeof e?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++){var n=e.charCodeAt(r);if(255<n)throw Error("Conversion error: string contains codepoint outside of byte range");t[r]=n}return t},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||void 0!==Buffer&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,t,r){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,t,r)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,t,r){if(jspb.BinaryDecoder.instanceCache_.length){var n=jspb.BinaryDecoder.instanceCache_.pop();return e&&n.setBlock(e,t,r),n}return new jspb.BinaryDecoder(e,t,r)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,t,r){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=void 0!==t?t:0,this.end_=void 0!==r?this.start_+r:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var t=128,r=0,n=0,o=0;4>o&&128<=t;o++)t=this.bytes_[this.cursor_++],r|=(127&t)<<7*o;if(128<=t&&(t=this.bytes_[this.cursor_++],r|=(127&t)<<28,n|=(127&t)>>4),128<=t)for(o=0;5>o&&128<=t;o++)t=this.bytes_[this.cursor_++],n|=(127&t)<<7*o+3;if(128>t)return e(r>>>0,n>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64(function(t,r){return jspb.utils.fromZigzag64(t,r,e)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var t=this.bytes_,r=this.cursor_;this.cursor_+=8;for(var n=0,o=0,i=r+7;i>=r;i--)n=n<<8|t[i],o=o<<8|t[i+4];return e(n,o)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,t=e[this.cursor_+0],r=127&t;return 128>t?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+1],r|=(127&t)<<7,128>t?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+2],r|=(127&t)<<14,128>t?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+3],r|=(127&t)<<21,128>t?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),r):(t=e[this.cursor_+4],r|=(15&t)<<28,128>t?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),r>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),r)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8|r<<16|n<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUint64(e,t)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|t<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],t=this.bytes_[this.cursor_+1],r=this.bytes_[this.cursor_+2],n=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|t<<8|r<<16|n<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinInt64(e,t)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinSignedDecimalString(e,t)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),t=this.readUint32();return jspb.utils.joinFloat64(e,t)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var t=this.bytes_,r=this.cursor_;e=r+e;for(var n=[],o="";r<e;){var i=t[r++];if(128>i)n.push(i);else{if(192>i)continue;if(224>i){var a=t[r++];n.push((31&i)<<6|63&a)}else if(240>i){a=t[r++];var s=t[r++];n.push((15&i)<<12|(63&a)<<6|63&s)}else if(248>i){a=t[r++],s=t[r++];var c=t[r++];i=(7&i)<<18|(63&a)<<12|(63&s)<<6|63&c,i-=65536,n.push(55296+(i>>10&1023),56320+(1023&i))}}8192<=n.length&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+=goog.crypt.byteArrayToString(n),this.cursor_=r,o},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var t=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),t},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,t=this.cursor_,r=e[t+0],n=e[t+1],o=e[t+2],i=e[t+3],a=e[t+4],s=e[t+5],c=e[t+6];return e=e[t+7],this.cursor_+=8,String.fromCharCode(r,n,o,i,a,s,c,e)},jspb.BinaryReader=function(e,t,r){this.decoder_=jspb.BinaryDecoder.alloc(e,t,r),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,t,r){if(jspb.BinaryReader.instanceCache_.length){var n=jspb.BinaryReader.instanceCache_.pop();return e&&n.decoder_.setBlock(e,t,r),n}return new jspb.BinaryReader(e,t,r)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,t,r){this.decoder_.setBlock(e,t,r),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),t=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=t,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,t){null===this.readCallbacks_&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=t},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(null!==this.readCallbacks_),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)};jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var t=jspb.BinaryConstants.FieldType;switch(e){case t.DOUBLE:return this.readDouble();case t.FLOAT:return this.readFloat();case t.INT64:return this.readInt64();case t.UINT64:return this.readUint64();case t.INT32:return this.readInt32();case t.FIXED64:return this.readFixed64();case t.FIXED32:return this.readFixed32();case t.BOOL:return this.readBool();case t.STRING:return this.readString();case t.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case t.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case t.BYTES:return this.readBytes();case t.UINT32:return this.readUint32();case t.ENUM:return this.readEnum();case t.SFIXED32:return this.readSfixed32();case t.SFIXED64:return this.readSfixed64();case t.SINT32:return this.readSint32();case t.SINT64:return this.readSint64();case t.FHASH64:return this.readFixedHash64();case t.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,t){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var r=this.decoder_.getEnd(),n=this.decoder_.readUnsignedVarint32();n=this.decoder_.getCursor()+n,this.decoder_.setEnd(n),t(e,this),this.decoder_.setCursor(n),this.decoder_.setEnd(r)},jspb.BinaryReader.prototype.readGroup=function(e,t,r){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),r(t,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),t=this.decoder_.getCursor(),r=t+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),t,e),this.decoder_.setCursor(r),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(t,r){return jspb.utils.fromZigzag64(t,r,e)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var t=this.decoder_.readUnsignedVarint32();t=this.decoder_.getCursor()+t;for(var r=[];this.decoder_.getCursor()<t;)r.push(e.call(this.decoder_));return r},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,t){this.arr_=e,this.valueCtor_=t,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var t=this.arr_[e],r=t[0];this.map_[r.toString()]=new jspb.Map.Entry_(r,t[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,t=this.map_;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].valueWrapper;r&&r.toArray()}}}else{for(this.arr_.length=0,t=this.stringKeys_(),t.sort(),e=0;e<t.length;e++){var n=this.map_[t[e]];(r=n.valueWrapper)&&r.toArray(),this.arr_.push([n.key,n.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,t){for(var r=this.toArray(),n=[],o=0;o<r.length;o++){var i=this.map_[r[o][0].toString()];this.wrapEntry_(i);var a=i.valueWrapper;a?(goog.asserts.assert(t),n.push([i.key,t(e,a)])):n.push([i.key,i.value])}return n},jspb.Map.fromObject=function(e,t,r){t=new jspb.Map([],t);for(var n=0;n<e.length;n++){var o=e[n][0],i=r(e[n][1]);t.set(o,i)}return t},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var t=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,t},jspb.Map.prototype.getEntryList=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,n.value])}return e},jspb.Map.prototype.entries=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++){var n=this.map_[t[r]];e.push([n.key,this.wrapEntry_(n)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.map_[t[r]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],t=this.stringKeys_();t.sort();for(var r=0;r<t.length;r++)e.push(this.wrapEntry_(this.map_[t[r]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,t){var r=this.stringKeys_();r.sort();for(var n=0;n<r.length;n++){var o=this.map_[r[n]];e.call(t,this.wrapEntry_(o),o.key,this)}},jspb.Map.prototype.set=function(e,t){var r=new jspb.Map.Entry_(e);return this.valueCtor_?(r.valueWrapper=t,r.value=t.toArray()):r.value=t,this.map_[e.toString()]=r,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,t,r,n,o){var i=this.stringKeys_();i.sort();for(var a=0;a<i.length;a++){var s=this.map_[i[a]];t.beginSubMessage(e),r.call(t,1,s.key),this.valueCtor_?n.call(t,2,this.wrapEntry_(s),o):n.call(t,2,s.value),t.endSubMessage()}},jspb.Map.deserializeBinary=function(e,t,r,n,o,i,a){for(;t.nextField()&&!t.isEndGroup();){var s=t.getFieldNumber();1==s?i=r.call(t):2==s&&(e.valueCtor_?(goog.asserts.assert(o),a||(a=new e.valueCtor_),n.call(t,a,o)):a=n.call(t))}goog.asserts.assert(void 0!=i),goog.asserts.assert(void 0!=a),e.set(i,a)},jspb.Map.prototype.stringKeys_=function(){var e,t=this.map_,r=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},jspb.Map.Entry_=function(e,t){this.key=e,this.value=t,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,t,r,n,o){this.fieldIndex=e,this.fieldName=t,this.ctor=r,this.toObjectFn=n,this.isRepeated=o},jspb.ExtensionFieldBinaryInfo=function(e,t,r,n,o,i){this.fieldInfo=e,this.binaryReaderFn=t,this.binaryWriterFn=r,this.binaryMessageSerializeFn=n,this.binaryMessageDeserializeFn=o,this.isPacked=i},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_="function"==typeof Uint8Array,jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,t){return t+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,t){return t-e.arrayIndexOffset_},jspb.Message.initialize=function(e,t,r,n,o,i){if(e.wrappers_=null,t||(t=r?[r]:[]),e.messageId_=r?String(r):void 0,e.arrayIndexOffset_=0===r?-1:0,e.array=t,jspb.Message.initPivotAndExtensionObject_(e,n),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=o),o)for(t=0;t<o.length;t++)r=o[t],r<e.pivot_?(r=jspb.Message.getIndex_(e,r),e.array[r]=e.array[r]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[r]=e.extensionObject_[r]||jspb.Message.EMPTY_LIST_SENTINEL_);if(i&&i.length)for(t=0;t<i.length;t++)jspb.Message.computeOneofCase(e,i[t])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:goog.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(null===e||"object"!=typeof e||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,t){var r=e.array.length,n=-1;if(r&&(n=r-1,r=e.array[n],jspb.Message.isExtensionObject_(r)))return e.pivot_=jspb.Message.getFieldNumber_(e,n),void(e.extensionObject_=r);-1<t?(e.pivot_=Math.max(t,jspb.Message.getFieldNumber_(e,n+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var t=jspb.Message.getIndex_(e,e.pivot_);e.array[t]||(e.extensionObject_=e.array[t]={})},jspb.Message.toObjectList=function(e,t,r){for(var n=[],o=0;o<e.length;o++)n[o]=t.call(e[o],r,e[o]);return n},jspb.Message.toObjectExtension=function(e,t,r,n,o){for(var i in r){var a=r[i],s=n.call(e,a);if(null!=s){for(var c in a.fieldName)if(a.fieldName.hasOwnProperty(c))break;t[c]=a.toObjectFn?a.isRepeated?jspb.Message.toObjectList(s,a.toObjectFn,o):a.toObjectFn(o,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,t,r,n){for(var o in r){var i=r[o],a=i.fieldInfo;if(!i.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=n.call(e,a);if(null!=s)if(a.isMessageType()){if(!i.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");i.binaryWriterFn.call(t,a.fieldIndex,s,i.binaryMessageSerializeFn)}else i.binaryWriterFn.call(t,a.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,t,r,n,o){var i=r[t.getFieldNumber()];if(i){if(r=i.fieldInfo,!i.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(r.isMessageType()){var a=new r.ctor;i.binaryReaderFn.call(t,a,i.binaryMessageDeserializeFn)}else a=i.binaryReaderFn.call(t);r.isRepeated&&!i.isPacked?(t=n.call(e,r))?t.push(a):o.call(e,r,[a]):o.call(e,r,a)}else t.skipField()},jspb.Message.getField=function(e,t){if(t<e.pivot_){t=jspb.Message.getIndex_(e,t);var r=e.array[t];return r===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[t]=[]:r}if(e.extensionObject_)return r=e.extensionObject_[t],r===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[t]=[]:r},jspb.Message.getRepeatedField=function(e,t){return jspb.Message.getField(e,t)},jspb.Message.getOptionalFloatingPointField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:+e},jspb.Message.getBooleanField=function(e,t){return e=jspb.Message.getField(e,t),null==e?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=+r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.getRepeatedBooleanField=function(e,t){var r=jspb.Message.getRepeatedField(e,t);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[t]){for(var n=0;n<r.length;n++)r[n]=!!r[n];e.convertedPrimitiveFields_[t]=!0}return r},jspb.Message.bytesAsB64=function(e){return null==e||"string"==typeof e?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&"string"!=typeof e[0]?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var t=goog.typeOf(e[0]);goog.array.forEach(e,function(e){goog.typeOf(e)!=t&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(e)+" expected "+t)})}},jspb.Message.getFieldWithDefault=function(e,t,r){return e=jspb.Message.getField(e,t),null==e?r:e},jspb.Message.getBooleanFieldWithDefault=function(e,t,r){return e=jspb.Message.getBooleanField(e,t),null==e?r:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,t,r){return e=jspb.Message.getOptionalFloatingPointField(e,t),null==e?r:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),t in e.wrappers_)return e.wrappers_[t];var o=jspb.Message.getField(e,t);if(!o){if(r)return;o=[],jspb.Message.setField(e,t,o)}return e.wrappers_[t]=new jspb.Map(o,n)},jspb.Message.setField=function(e,t,r){return goog.asserts.assertInstanceof(e,jspb.Message),t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=r:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[t]=r),e},jspb.Message.setProto3IntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3FloatField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3BooleanField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,!1)},jspb.Message.setProto3StringField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3BytesField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"")},jspb.Message.setProto3EnumField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,0)},jspb.Message.setProto3StringIntField=function(e,t,r){return jspb.Message.setFieldIgnoringDefault_(e,t,r,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),r!==n?jspb.Message.setField(e,t,r):t<e.pivot_?e.array[jspb.Message.getIndex_(e,t)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[t]),e},jspb.Message.addToRepeatedField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),t=jspb.Message.getRepeatedField(e,t),void 0!=n?t.splice(n,0,r):t.push(r),e},jspb.Message.setOneofField=function(e,t,r,n){return goog.asserts.assertInstanceof(e,jspb.Message),(r=jspb.Message.computeOneofCase(e,r))&&r!==t&&void 0!==n&&(e.wrappers_&&r in e.wrappers_&&(e.wrappers_[r]=void 0),jspb.Message.setField(e,r,void 0)),jspb.Message.setField(e,t,n)},jspb.Message.computeOneofCase=function(e,t){for(var r,n,o=0;o<t.length;o++){var i=t[o],a=jspb.Message.getField(e,i);null!=a&&(r=i,n=a,jspb.Message.setField(e,i,void 0))}return r?(jspb.Message.setField(e,r,n),r):0},jspb.Message.getWrapperField=function(e,t,r,n){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){var o=jspb.Message.getField(e,r);(n||o)&&(e.wrappers_[r]=new t(o))}return e.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(e,t,r){return jspb.Message.wrapRepeatedField_(e,t,r),t=e.wrappers_[r],t==jspb.Message.EMPTY_LIST_SENTINEL_&&(t=e.wrappers_[r]=[]),t},jspb.Message.wrapRepeatedField_=function(e,t,r){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[r]){for(var n=jspb.Message.getRepeatedField(e,r),o=[],i=0;i<n.length;i++)o[i]=new t(n[i]);e.wrappers_[r]=o}},jspb.Message.setWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var n=r?r.toArray():r;return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.setOneofWrapperField=function(e,t,r,n){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var o=n?n.toArray():n;return e.wrappers_[t]=n,jspb.Message.setOneofField(e,t,r,o)},jspb.Message.setRepeatedWrapperField=function(e,t,r){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),r=r||[];for(var n=[],o=0;o<r.length;o++)n[o]=r[o].toArray();return e.wrappers_[t]=r,jspb.Message.setField(e,t,n)},jspb.Message.addToRepeatedWrapperField=function(e,t,r,n,o){jspb.Message.wrapRepeatedField_(e,n,t);var i=e.wrappers_[t];return i||(i=e.wrappers_[t]=[]),r=r||new n,e=jspb.Message.getRepeatedField(e,t),void 0!=o?(i.splice(o,0,r),e.splice(o,0,r.toArray())):(i.push(r),e.push(r.toArray())),r},jspb.Message.toMap=function(e,t,r,n){for(var o={},i=0;i<e.length;i++)o[t.call(e[i])]=r?r.call(e[i],n,e[i]):e[i];return o},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var t=this.wrappers_[e];if(goog.isArray(t))for(var r=0;r<t.length;r++)t[r]&&t[r].toArray();else t&&t.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var t=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[t]||(this.wrappers_[t]=goog.array.map(this.extensionObject_[t]||[],function(t){return new e.ctor(t)})),this.wrappers_[t]}else if(e.isMessageType())return!this.wrappers_[t]&&this.extensionObject_[t]&&(this.wrappers_[t]=new e.ctor(this.extensionObject_[t])),this.wrappers_[t];return this.extensionObject_[t]}},jspb.Message.prototype.setExtension=function(e,t){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var r=e.fieldIndex;return e.isRepeated?(t=t||[],e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=goog.array.map(t,function(e){return e.toArray()})):this.extensionObject_[r]=t):e.isMessageType()?(this.wrappers_[r]=t,this.extensionObject_[r]=t?t.toArray():t):this.extensionObject_[r]=t,this},jspb.Message.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var r=e.toArray();t=t.toArray();var n=[],o=0,i=r.length>t.length?r.length:t.length;for(e.getJsPbMessageId()&&(n[0]=e.getJsPbMessageId(),o=1);o<i;o++)jspb.Message.compareFields(r[o],t[o])||(n[o]=t[o]);return new e.constructor(n)},jspb.Message.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&jspb.Message.compareFields(e.toArray(),t.toArray())},jspb.Message.compareExtensions=function(e,t){e=e||{},t=t||{};var r,n={};for(r in e)n[r]=0;for(r in t)n[r]=0;for(r in n)if(!jspb.Message.compareFields(e[r],t[r]))return!1;return!0},jspb.Message.compareFields=function(e,t){if(e==t)return!0;if(!goog.isObject(e)||!goog.isObject(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}if(e.constructor===Array){var n=void 0,o=void 0,i=Math.max(e.length,t.length);for(r=0;r<i;r++){var a=e[r],s=t[r];if(a&&a.constructor==Object&&(goog.asserts.assert(void 0===n),goog.asserts.assert(r===e.length-1),n=a,a=void 0),s&&s.constructor==Object&&(goog.asserts.assert(void 0===o),goog.asserts.assert(r===t.length-1),o=s,s=void 0),!jspb.Message.compareFields(a,s))return!1}return!n&&!o||(n=n||{},o=o||{},jspb.Message.compareExtensions(n,o))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,t);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,t){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(t,jspb.Message),goog.asserts.assert(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var r=t.toArray(),n=e.toArray(),o=r.length=0;o<n.length;o++)r[o]=n[o];t.wrappers_=e.wrappers_,t.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(goog.isArray(e)){for(var t=Array(e.length),r=0;r<e.length;r++){var n=e[r];null!=n&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n)}return t}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);t={};for(r in e)null!=(n=e[r])&&(t[r]="object"==typeof n?jspb.Message.clone_(goog.asserts.assert(n)):n);return t},jspb.Message.registerMessageType=function(e,t){t.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,t){this.lo=e,this.hi=t},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,t){var r=65535&e;e>>>=16;var n=65535&t,o=t>>>16;for(t=r*n+65536*(r*o&65535)+65536*(e*n&65535),r=e*o+(r*o>>>16)+(e*n>>>16);4294967296<=t;)t-=4294967296,r+=1;return new jspb.arith.UInt64(t>>>0,r>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var t=jspb.arith.UInt64.mul32x32(this.lo,e);return e=jspb.arith.UInt64.mul32x32(this.hi,e),e.hi=e.lo,e.lo=0,t.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(0==e)return[];var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var n=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),n=n.leftShift();for(;!n.zero();)0>=e.cmp(r)&&(t=t.add(n),r=r.sub(e)),e=e.rightShift(),n=n.rightShift();return[t,r]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",t=this;!t.zero();){t=t.div(10);var r=t[0];e=t[1].lo+e,t=r}return""==e&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var t=new jspb.arith.UInt64(0,0),r=new jspb.arith.UInt64(0,0),n=0;n<e.length;n++){if("0">e[n]||"9"<e[n])return null;var o=parseInt(e[n],10);r.lo=o,t=t.mul(10).add(r)}return t},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,t){this.lo=e,this.hi=t},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=0!=(2147483648&this.hi),t=new jspb.arith.UInt64(this.lo,this.hi);return e&&(t=new jspb.arith.UInt64(0,0).sub(t)),(e?"-":"")+t.toString()},jspb.arith.Int64.fromString=function(e){var t=0<e.length&&"-"==e[0];return t&&(e=e.substring(1)),null===(e=jspb.arith.UInt64.fromString(e))?null:(t&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,t){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32);0<t||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|t<<25)>>>0,t>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,t){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(t==Math.floor(t)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(t)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var t=0;9>t;t++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var t=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(e,r){t.writeSplitVarint64(e>>>0,r>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)};jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert("boolean"==typeof e||"number"==typeof e),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var t=this.buffer_.length,r=0;r<e.length;r++){var n=e.charCodeAt(r);if(128>n)this.buffer_.push(n);else if(2048>n)this.buffer_.push(n>>6|192),this.buffer_.push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&r+1<e.length){var o=e.charCodeAt(r+1);56320<=o&&57343>=o&&(n=1024*(n-55296)+o-56320+65536,this.buffer_.push(n>>18|240),this.buffer_.push(n>>12&63|128),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128),r++)}else this.buffer_.push(n>>12|224),this.buffer_.push(n>>6&63|128),this.buffer_.push(63&n|128)}return this.buffer_.length-t},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var t=this.encoder_.end();this.blocks_.push(t),this.blocks_.push(e),this.totalLength_+=t.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var t=e.pop();for(t=this.totalLength_+this.encoder_.length()-t,goog.asserts.assert(0<=t);127<t;)e.push(127&t|128),t>>>=7,this.totalLength_++;e.push(t),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,t,r){this.appendUint8Array_(e.subarray(t,r))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,t,r){null!=e&&null!=t&&null!=r&&this.writeSerializedMessage(e,t,r)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),t=this.blocks_,r=t.length,n=0,o=0;o<r;o++){var i=t[o];e.set(i,n),n+=i.length}return t=this.encoder_.end(),e.set(t,n),n+=t.length,goog.asserts.assert(n==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,t){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+t)},jspb.BinaryWriter.prototype.writeAny=function(e,t,r){var n=jspb.BinaryConstants.FieldType;switch(e){case n.DOUBLE:this.writeDouble(t,r);break;case n.FLOAT:this.writeFloat(t,r);break;case n.INT64:this.writeInt64(t,r);break;case n.UINT64:this.writeUint64(t,r);break;case n.INT32:this.writeInt32(t,r);break;case n.FIXED64:this.writeFixed64(t,r);break;case n.FIXED32:this.writeFixed32(t,r);break;case n.BOOL:this.writeBool(t,r);break;case n.STRING:this.writeString(t,r);break;case n.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case n.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case n.BYTES:this.writeBytes(t,r);break;case n.UINT32:this.writeUint32(t,r);break;case n.ENUM:this.writeEnum(t,r);break;case n.SFIXED32:this.writeSfixed32(t,r);break;case n.SFIXED64:this.writeSfixed64(t,r);break;case n.SINT32:this.writeSint32(t,r);break;case n.SINT64:this.writeSint64(t,r);break;case n.FHASH64:this.writeFixedHash64(t,r);break;case n.VHASH64:this.writeVarintHash64(t,r);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(t))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(t))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(t))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(t))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(t))},jspb.BinaryWriter.prototype.writeInt32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeInt64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeInt64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint32String=function(e,t){null!=t&&(t=parseInt(t,10),goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,t))},jspb.BinaryWriter.prototype.writeUint64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,t))},jspb.BinaryWriter.prototype.writeUint64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,t))},jspb.BinaryWriter.prototype.writeSint64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,t))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,t){null!=t&&this.writeZigzagVarintHash64_(e,t)},jspb.BinaryWriter.prototype.writeSint64String=function(e,t){null!=t&&this.writeZigzagVarint64String_(e,t)},jspb.BinaryWriter.prototype.writeFixed32=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(t))},jspb.BinaryWriter.prototype.writeFixed64=function(e,t){null!=t&&(goog.asserts.assert(0<=t&&t<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(t))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,t){null!=t&&(t=jspb.arith.UInt64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(t))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_63&&t<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(t))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,t){null!=t&&(t=jspb.arith.Int64.fromString(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t.lo,t.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(t))},jspb.BinaryWriter.prototype.writeDouble=function(e,t){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(t))},jspb.BinaryWriter.prototype.writeBool=function(e,t){null!=t&&(goog.asserts.assert("boolean"==typeof t||"number"==typeof t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(t))},jspb.BinaryWriter.prototype.writeEnum=function(e,t){null!=t&&(goog.asserts.assert(t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(t))},jspb.BinaryWriter.prototype.writeString=function(e,t){null!=t&&(e=this.beginDelimited_(e),this.encoder_.writeString(t),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,t){null!=t&&(t=jspb.utils.byteSourceToUint8Array(t),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),this.appendUint8Array_(t))},jspb.BinaryWriter.prototype.writeMessage=function(e,t,r){null!=t&&(e=this.beginDelimited_(e),r(t,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,t,r){null!=t&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),r(t,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,t,r){null!=t&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(t))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,t){null!=t&&(goog.asserts.assert(8==t.length),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(t))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(t,r)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(t,r)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,t,r){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var n=this.encoder_;jspb.utils.toZigzag64(t,r,function(e,t){n.writeSplitVarint64(e>>>0,t>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitFixed64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitVarint64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,t,r,n){if(null!=t)for(var o=0;o<t.length;o++)this.writeSplitZigzagVarint64(e,r(t[o]),n(t[o]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeInt64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint32String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUnsignedVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeUint64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint32_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarint64String_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeZigzagVarintHash64_(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed32(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeSfixed64String(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFloat(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeDouble(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBool(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeEnum(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeString(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeBytes(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++){var o=this.beginDelimited_(e);r(t[n],this),this.endDelimited_(o)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,t,r){if(null!=t)for(var n=0;n<t.length;n++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),r(t[n],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeFixedHash64(e,t[r])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,t){if(null!=t)for(var r=0;r<t.length;r++)this.writeVarintHash64(e,t[r])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeSignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitFixed64(r(t[o]),n(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=0;o<t.length;o++)this.encoder_.writeSplitVarint64(r(t[o]),n(t[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,t,r,n){if(null!=t){e=this.beginDelimited_(e);for(var o=this.encoder_,i=0;i<t.length;i++)jspb.utils.toZigzag64(r(t[i]),n(t[i]),function(e,t){o.writeSplitVarint64(e>>>0,t>>>0)});this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.Int64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint32(parseInt(t[r],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeUnsignedVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++){var n=jspb.arith.UInt64.fromString(t[r]);this.encoder_.writeSplitVarint64(n.lo,n.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint32(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarint64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(t[r]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeZigzagVarintHash64(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeUint32(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeUint64(t[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++){var r=jspb.arith.UInt64.fromString(t[e]);this.encoder_.writeSplitFixed64(r.lo,r.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeInt32(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64(t[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeInt64String(t[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*t.length),e=0;e<t.length;e++)this.encoder_.writeFloat(t[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeDouble(t[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(t.length),e=0;e<t.length;e++)this.encoder_.writeBool(t[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeEnum(t[r]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,t){if(null!=t&&t.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*t.length),e=0;e<t.length;e++)this.encoder_.writeFixedHash64(t[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,t){if(null!=t&&t.length){e=this.beginDelimited_(e);for(var r=0;r<t.length;r++)this.encoder_.writeVarintHash64(t[r]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(exports,__webpack_require__(1),__webpack_require__(14).Buffer)},function(e,t,r){(function(t){function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function n(e,t){if(t){var r=Qe;e=e.split(".");for(var n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}e=e[e.length-1],n=r[e],t=t(n),t!=n&&null!=t&&Xe(r,e,{configurable:!0,writable:!0,value:t})}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}function i(e,t){e=e.split("."),t=t||et;for(var r=0;r<e.length;r++)if(null==(t=t[e[r]]))return null;return t}function a(){}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var r=Object.prototype.toString.call(e);if("[object Window]"==r)return"object";if("[object Array]"==r||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==r||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function c(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,r){return e.call.apply(e.bind,arguments)}function l(e,t,r){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function d(e,t,r){return d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:l,d.apply(null,arguments)}function g(e,t){function r(){}r.prototype=t.prototype,e.S=t.prototype,e.prototype=new r,e.prototype.constructor=e}function p(){this.a={}}function f(e,t,r,n){this.f=e,this.c=t,this.b=r,this.a=n}function h(e,t,r,n){r=void 0===r?{}:r,this.c=e,this.a=r,this.b=t,this.f=void 0===n?null:n}function m(e,t,r,n,o,i){this.name=e,this.a=o,this.b=i}function v(e,t,r){r=void 0===r?{}:r;var n=void 0===n?new p:n;return new f(t,e,r,n)}function y(e,t,r,n){return n instanceof m?n:new m(e,r,n.b||t.constructor,n.f,n.a,n.c)}function E(e){this.a=e}function _(e){switch(e){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function S(e){if(Error.captureStackTrace)Error.captureStackTrace(this,S);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function b(e,t){e=e.split("%s");for(var r="",n=e.length-1,o=0;o<n;o++)r+=e[o]+(o<t.length?t[o]:"%s");S.call(this,r+e[n])}function T(e,t){throw new b("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function A(){this.j=null,this.i=[],this.l=0,this.b=it,this.f=this.a=this.h=0,this.c=null,this.g=0}function R(e,t){function r(){var e={};e[o.h]=o.c,o.i.push(e),o.b=it}var n,o=e,i=0;for(n=t instanceof Uint8Array||t instanceof Array?t:new Uint8Array(t);i<n.length;){switch(o.b){case ct:I(o,n,i,"stream already broken");break;case it:!function(e){e==ut?o.h=e:e==lt?o.h=e:I(o,n,i,"invalid frame byte"),o.b=at,o.a=0,o.f=0}(n[i]);break;case at:!function(e){o.f++,o.a=(o.a<<8)+e,4==o.f&&(o.b=st,o.g=0,"undefined"!=typeof Uint8Array?o.c=new Uint8Array(o.a):o.c=Array(o.a),0==o.a&&r())}(n[i]);break;case st:!function(e){o.c[o.g++]=e,o.g==o.a&&r()}(n[i]);break;default:throw Error("unexpected parser state: "+o.b)}o.l++,i++}return e=o.i,o.i=[],0<e.length?e:null}function I(e,t,r,n){throw e.b=ct,e.j="The stream is broken @"+e.l+"/"+r+". Error: "+n+". With input:\n"+t,Error(e.j)}function O(e){switch(e){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}function w(e){e:{for(var t=Oe,r=e.length,n="string"==typeof e?e.split(""):e,o=0;o<r;o++)if(o in n&&t.call(void 0,n[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}function C(e,t){return-1!=e.indexOf(t)}function N(e,t){return e<t?-1:e>t?1:0}function M(e,t){for(var r in e)t.call(void 0,e[r],r,e)}function L(e,t){var r,n={};for(r in e)n[r]=t.call(void 0,e[r],r,e);return n}function D(e,t){for(var r,n,o=1;o<arguments.length;o++){n=arguments[o];for(r in n)e[r]=n[r];for(var i=0;i<ht.length;i++)r=ht[i],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}}function P(e){var t=1;e=e.split(":");for(var r=[];0<t&&e.length;)r.push(e.shift()),t--;return e.length&&r.push(e.join(":")),r}function k(e){return k[" "](e),e}function x(e,t){var r=It;return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}function j(){var e=et.document;return e?e.documentMode:void 0}function U(e){return x(e,function(){for(var t=0,r=gt(String(mt)).split("."),n=gt(String(e)).split("."),o=Math.max(r.length,n.length),i=0;0==t&&i<o;i++){var a=r[i]||"",s=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=N(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||N(0==a[2].length,0==s[2].length)||N(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}function B(){0!=Ct&&(Object.prototype.hasOwnProperty.call(this,tt)&&this[tt]||(this[tt]=++rt)),this.F=this.F}function V(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function $(e,t){if(V.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var r=this.type=e.type,n=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(_t){e:{try{k(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==r?t=e.fromElement:"mouseout"==r&&(t=e.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:kt[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}function F(e,t,r,n,o){this.listener=e,this.proxy=null,this.src=t,this.type=r,this.capture=!!n,this.A=o,this.key=++jt,this.s=this.v=!1}function W(e){e.s=!0,e.listener=null,e.proxy=null,e.src=null,e.A=null}function H(e){this.src=e,this.a={},this.b=0}function G(e,t){var r=t.type;if(r in e.a){var n,o=e.a[r],i=dt(o,t);(n=0<=i)&&Array.prototype.splice.call(o,i,1),n&&(W(t),0==e.a[r].length&&(delete e.a[r],e.b--))}}function q(e,t,r,n){for(var o=0;o<e.length;++o){var i=e[o];if(!i.s&&i.listener==t&&i.capture==!!r&&i.A==n)return o}return-1}function z(e,t,r,n,o){if(n&&n.once)J(e,t,r,n,o);else if(Array.isArray(t))for(var i=0;i<t.length;i++)z(e,t[i],r,n,o);else r=oe(r),e&&e[xt]?e.f.add(String(t),r,!1,c(n)?!!n.capture:!!n,o):Y(e,t,r,!1,n,o)}function Y(e,t,r,n,o,i){if(!t)throw Error("Invalid event type");var a=c(o)?!!o.capture:!!o,s=ne(e);if(s||(e[Ut]=s=new H(e)),r=s.add(t,r,n,a,i),!r.proxy){if(n=K(),r.proxy=n,n.src=e,n.listener=r,e.addEventListener)Pt||(o=a),void 0===o&&(o=!1),e.addEventListener(t.toString(),n,o);else if(e.attachEvent)e.attachEvent(Z(t.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(n)}Vt++}}function K(){var e=re,t=Lt?function(r){return e.call(t.src,t.listener,r)}:function(r){if(!(r=e.call(t.src,t.listener,r)))return r};return t}function J(e,t,r,n,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)J(e,t[i],r,n,o);else r=oe(r),e&&e[xt]?e.f.add(String(t),r,!0,c(n)?!!n.capture:!!n,o):Y(e,t,r,!0,n,o)}function X(e,t,r,n,o){if(Array.isArray(t))for(var i=0;i<t.length;i++)X(e,t[i],r,n,o);else n=c(n)?!!n.capture:!!n,r=oe(r),e&&e[xt]?(e=e.f,(t=String(t).toString())in e.a&&(i=e.a[t],-1<(r=q(i,r,n,o))&&(W(i[r]),Array.prototype.splice.call(i,r,1),0==i.length&&(delete e.a[t],e.b--)))):e&&(e=ne(e))&&(t=e.a[t.toString()],e=-1,t&&(e=q(t,r,n,o)),(r=-1<e?t[e]:null)&&Q(r))}function Q(e){if("number"!=typeof e&&e&&!e.s){var t=e.src;if(t&&t[xt])G(t.f,e);else{var r=e.type,n=e.proxy;t.removeEventListener?t.removeEventListener(r,n,e.capture):t.detachEvent?t.detachEvent(Z(r),n):t.addListener&&t.removeListener&&t.removeListener(n),Vt--,(r=ne(t))?(G(r,e),0==r.b&&(r.src=null,t[Ut]=null)):W(e)}}}function Z(e){return e in Bt?Bt[e]:Bt[e]="on"+e}function ee(e,t,r,n){var o=!0;if((e=ne(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==r&&!i.s&&(i=te(i,n),o=o&&!1!==i)}return o}function te(e,t){var r=e.listener,n=e.A||e.src;return e.v&&Q(e),r.call(n,t)}function re(e,t){if(e.s)return!0;if(!Lt){var r=t||i("window.event");t=new $(r,this);var n=!0;if(!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.a;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.a=r[o];var a=ee(r[o],e,!0,t);n=n&&a}for(o=0;o<r.length;o++)t.a=r[o],a=ee(r[o],e,!1,t),n=n&&a}return n}return te(e,new $(t,this))}function ne(e){return e=e[Ut],e instanceof H?e:null}function oe(e){return"function"==s(e)?e:(e[$t]||(e[$t]=function(t){return e.handleEvent(t)}),e[$t])}function ie(){B.call(this),this.f=new H(this),this.N=this}function ae(e,t){e=e.N;var r=t.type||t;if("string"==typeof t)t=new V(t,e);else if(t instanceof V)t.target=t.target||e;else{var n=t;t=new V(r,e),D(t,n)}e=t.a=e,se(e,r,!0,t),se(e,r,!1,t)}function se(e,t,r,n){if(t=e.f.a[String(t)]){t=t.concat();for(var o=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.s&&a.capture==r){var s=a.listener,c=a.A||a.src;a.v&&G(e.f,a),o=!1!==s.call(c,n)&&o}}}}function ce(e,t,r){if("function"==s(e))r&&(e=d(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=d(e.handleEvent,e)}return 2147483647<Number(t)?-1:et.setTimeout(e,t||0)}function ue(e,t,r){this.reset(e,t,r,void 0,void 0)}function le(e){this.f=e,this.b=this.c=this.a=null}function de(e,t){this.name=e,this.value=t}function ge(e){return e.c?e.c:e.a?ge(e.a):(T("Root logger has no level set."),null)}function pe(e){zt||(zt=new le(""),qt[""]=zt,zt.c=Ht);var t;if(!(t=qt[e])){t=new le(e);var r=e.lastIndexOf("."),n=e.substr(r+1);r=pe(e.substr(0,r)),r.b||(r.b={}),r.b[n]=t,t.a=r,qt[e]=t}return t}function fe(e,t){e&&e.log(Gt,t,void 0)}function he(){}function me(e){var t;return(t=e.a)||(t={},Ee(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function ve(){}function ye(e){return(e=Ee(e))?new ActiveXObject(e):new XMLHttpRequest}function Ee(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r=0;r<t.length;r++){var n=t[r];try{return new ActiveXObject(n),e.b=n}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function _e(e,t){this.b={},this.a=[],this.c=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var n=0;n<r;n+=2)this.set(arguments[n],arguments[n+1])}else e&&be(this,e)}function Se(e){if(e.c!=e.a.length){for(var t=0,r=0;t<e.a.length;){var n=e.a[t];Te(e.b,n)&&(e.a[r++]=n),t++}e.a.length=r}if(e.c!=e.a.length){var o={};for(r=t=0;t<e.a.length;)n=e.a[t],Te(o,n)||(e.a[r++]=n,o[n]=1),t++;e.a.length=r}}function be(e,t){if(t instanceof _e)for(var r=t.f(),n=0;n<r.length;n++)e.set(r[n],t.get(r[n]));else for(r in t)e.set(r,t[r])}function Te(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ae(e){ie.call(this),this.headers=new _e,this.D=e||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=Jt,this.B=this.H=!1}function Re(e,t,r){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.o+"; newUri="+t);e.o=t,e.i="",e.g=0,e.J="POST",e.G=!1,e.c=!0,e.a=ye(e.D?e.D:Yt),e.C=me(e.D?e.D:Yt),e.a.onreadystatechange=d(e.K,e);try{fe(e.b,je(e,"Opening Xhr")),e.I=!0,e.a.open("POST",String(t),!0),e.I=!1}catch(t){return fe(e.b,je(e,"Error opening Xhr: "+t.message)),void we(e,t)}t=r||"",r=new _e(e.headers);var n=w(r.f()),o=et.FormData&&t instanceof et.FormData;!(0<=dt(er,"POST"))||n||o||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.j&&(e.a.responseType=e.j),"withCredentials"in e.a&&e.a.withCredentials!==e.H&&(e.a.withCredentials=e.H);try{Le(e),0<e.l&&(e.B=Ie(e.a),fe(e.b,je(e,"Will abort after "+e.l+"ms if incomplete, xhr2 "+e.B)),e.B?(e.a.timeout=e.l,e.a.ontimeout=d(e.L,e)):e.u=ce(e.L,e.l,e)),fe(e.b,je(e,"Sending request")),e.m=!0,e.a.send(t),e.m=!1}catch(t){fe(e.b,je(e,"Send error: "+t.message)),we(e,t)}}function Ie(e){return yt&&U(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function Oe(e){return"content-type"==e.toLowerCase()}function we(e,t){e.c=!1,e.a&&(e.h=!0,e.a.abort(),e.h=!1),e.i=t,e.g=5,Ce(e),Me(e)}function Ce(e){e.G||(e.G=!0,ae(e,"complete"),ae(e,"error"))}function Ne(e){if(e.c&&void 0!==Ze)if(e.C[1]&&4==De(e)&&2==e.getStatus())fe(e.b,je(e,"Local request error detected and ignored"));else if(e.m&&4==De(e))ce(e.K,0,e);else if(ae(e,"readystatechange"),4==De(e)){fe(e.b,je(e,"Request complete")),e.c=!1;try{var t=e.getStatus();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}var n;if(!(n=r)){var o;if(o=0===t){var i=String(e.o).match(Kt)[1]||null;if(!i&&et.self&&et.self.location){var a=et.self.location.protocol;i=a.substr(0,a.length-1)}o=!Zt.test(i?i.toLowerCase():"")}n=o}if(n)ae(e,"complete"),ae(e,"success");else{e.g=6;try{var s=2<De(e)?e.a.statusText:""}catch(t){fe(e.b,"Can not get status: "+t.message),s=""}e.i=s+" ["+e.getStatus()+"]",Ce(e)}}finally{Me(e)}}}function Me(e){if(e.a){Le(e);var t=e.a,r=e.C[0]?a:null;e.a=null,e.C=null,ae(e,"ready");try{t.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Wt,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Le(e){e.a&&e.B&&(e.a.ontimeout=null),e.u&&(et.clearTimeout(e.u),e.u=null)}function De(e){return e.a?e.a.readyState:0}function Pe(e){try{if(!e.a)return null;if("response"in e.a)return e.a.response;switch(e.j){case Jt:case"text":return e.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.a)return e.a.mozResponseArrayBuffer}var t=e.b;return t&&t.log(Wt,"Response type "+e.j+" is not supported on this browser",void 0),null}catch(t){return fe(e.b,"Can not get response: "+t.message),null}}function ke(e,t){if(e.a&&4==De(e))return e=e.a.getResponseHeader(t),null===e?void 0:e}function xe(e){var t={};e=(e.a&&4==De(e)?e.a.getAllResponseHeaders()||"":"").split("\r\n");for(var r=0;r<e.length;r++)if(!/^[\s\xa0]*$/.test(e[r])){var n=P(e[r]),o=n[0];if("string"==typeof(n=n[1])){n=n.trim();var i=t[o]||[];t[o]=i,i.push(n)}}return L(t,function(e){return e.join(", ")})}function je(e,t){return t+" ["+e.J+" "+e.o+" "+e.getStatus()+"]"}function Ue(e){var t=e.length,r=3*t/4;r%3?r=Math.floor(r):C("=.",e[t-1])&&(r=C("=.",e[t-2])?r-2:r-1);var n=new Uint8Array(r),o=0;return Be(e,function(e){n[o++]=e}),n.subarray(0,o)}function Be(e,t){function r(t){for(;n<e.length;){var r=e.charAt(n++),o=rr[r];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(r))throw Error("Unknown base64 encoding at char: "+r)}return t}Ve();for(var n=0;;){var o=r(-1),i=r(0),a=r(64),s=r(64);if(64===s&&-1===o)break;t(o<<2|i>>4),64!=a&&(t(i<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}function Ve(){if(!rr){rr={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=e.concat(t[r].split(""));tr[r]=n;for(var o=0;o<n.length;o++){var i=n[o];void 0===rr[i]&&(rr[i]=o)}}}}function $e(e){this.a=e.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new A;var t=this;z(this.a,"readystatechange",function(){var e=t.a;if(e=e.a?e.a.getResponseHeader("Content-Type"):null){if(e=e.toLowerCase(),0==e.lastIndexOf("application/grpc-web-text",0)){e=t.a;try{var r=e.a?e.a.responseText:""}catch(t){fe(e.b,"Can not get responseText: "+t.message),r=""}if(e=r||"",r=e.length-e.length%4,e=e.substr(t.i,r-t.i),0==e.length)return;t.i=r,e=Ue(e)}else{if(0!=e.lastIndexOf("application/grpc",0))return void We(t,{code:2,message:"Unknown Content-type received.",metadata:{}});e=new Uint8Array(Pe(t.a))}r=null;try{r=R(t.m,e)}catch(e){We(t,{code:2,message:"Error in parsing response body",metadata:{}})}if(r)for(e=0;e<r.length;e++){if(ut in r[e]){var n=r[e][ut];if(n)try{var o=t.l(n);if(o){n=t;for(var i=o,a=0;a<n.b.length;a++)n.b[a](i)}}catch(e){We(t,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(lt in r[e]&&0<r[e][lt].length){for(n="",i=0;i<r[e][lt].length;i++)n+=String.fromCharCode(r[e][lt][i]);for(n=n.trim().split("\r\n"),i={},a=0;a<n.length;a++){var s=n[a].indexOf(":");i[n[a].substring(0,s).trim()]=n[a].substring(s+1).trim()}n=i,i=0,a="","grpc-status"in n&&(i=n["grpc-status"],delete n["grpc-status"]),"grpc-message"in n&&(a=n["grpc-message"],delete n["grpc-message"]),We(t,{code:Number(i),message:a,metadata:n})}}}}),z(this.a,"complete",function(){var e=t.a.g,r="",n={},o=xe(t.a);if(Object.keys(o).forEach(function(e){nr.includes(e)||(n[e]=o[e])}),He(t,n),0!=e){switch(e){case 7:var i=10;break;case 8:i=4;break;case 6:i=O(t.a.getStatus());break;default:i=14}10==i&&t.j||We(t,{code:i,message:_(e),metadata:{}})}else e=!1,"grpc-status"in o&&(i=ke(t.a,"grpc-status"),"grpc-message"in o&&(r=ke(t.a,"grpc-message")),0!=Number(i)&&(We(t,{code:Number(i),message:r,metadata:o}),e=!0)),e||Ge(t)})}function Fe(e,t){-1<(t=e.indexOf(t))&&e.splice(t,1)}function We(e,t){if(0!=t.code)for(var r={code:t.code,message:decodeURIComponent(t.message||""),metadata:t.metadata},n=0;n<e.f.length;n++)e.f[n](r);for(t={code:t.code,details:decodeURIComponent(t.message||""),metadata:t.metadata},r=0;r<e.h.length;r++)e.h[r](t)}function He(e,t){for(var r=0;r<e.g.length;r++)e.g[r](t)}function Ge(e){for(var t=0;t<e.c.length;t++)e.c[t]()}function qe(e){var t="";return M(e,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}function ze(e){this.a=i("format",e)||"text",this.f=i("suppressCorsPreflight",e)||!1,this.c=i("withCredentials",e)||!1,this.b=i("streamInterceptors",e)||[],this.g=i("unaryInterceptors",e)||[]}function Ye(e,t,r){var n=t.getMethodDescriptor(),o=r+n.name;r=new Ae,r.H=e.c;var i=new $e({T:r});if(i.l=n.b,be(r.headers,t.getMetadata()),"text"==e.a?(r.headers.set("Content-Type","application/grpc-web-text"),r.headers.set("Accept","application/grpc-web-text")):r.headers.set("Content-Type","application/grpc-web+proto"),r.headers.set("X-User-Agent","grpc-web-javascript/0.1"),r.headers.set("X-Grpc-Web","1"),Te(r.headers.b,"deadline")){var a=r.headers.get("deadline");a=Math.round(a-(new Date).getTime());var s=r.headers;Te(s.b,"deadline")&&(delete s.b.deadline,s.c--,s.a.length>2*s.c&&Se(s)),1/0===a&&(a=0),0<a&&r.headers.set("grpc-timeout",a+"m")}if(e.f){s=r.headers,Se(s),a={};for(var c=0;c<s.a.length;c++){var u=s.a[c];a[u]=s.b[u]}s=r.headers,s.b={},s.a.length=0,s.c=0;e:{for(l in a){var l=!1;break e}l=!0}l||(a=qe(a),"string"==typeof o?(l=encodeURIComponent("$httpHeaders"),a=null!=a?"="+encodeURIComponent(String(a)):"",(l+=a)&&(a=o.indexOf("#"),0>a&&(a=o.length),s=o.indexOf("?"),0>s||s>a?(s=a,c=""):c=o.substring(s+1,a),o=[o.substr(0,s),c,o.substr(a)],a=o[1],o[1]=l?a?a+"&"+l:l:a,o=o[0]+(o[1]?"?"+o[1]:"")+o[2])):o.a("$httpHeaders",a))}for(t=(0,n.a)(t.getRequestMessage()),n=t.length,l=[0,0,0,0],a=new Uint8Array(5+n),s=3;0<=s;s--)l[s]=n%256,n>>>=8;if(a.set(new Uint8Array(l),1),a.set(t,5),t=a,"text"==e.a){e=t;var d;for(void 0===d&&(d=0),Ve(),d=tr[d],t=[],n=0;n<e.length;n+=3){u=e[n];var g=(l=n+1<e.length)?e[n+1]:0;c=(a=n+2<e.length)?e[n+2]:0,s=u>>2,u=(3&u)<<4|g>>4,g=(15&g)<<2|c>>6,c&=63,a||(c=64,l||(g=64)),t.push(d[s],d[u],d[g]||"",d[c]||"")}t=t.join("")}else"binary"==e.a&&(r.j="arraybuffer");return Re(r,o,t),i}function Ke(e,t,r){var n=null,o=!1;e.on("data",function(e){n=e}),e.on("error",function(e){0==e.code||o||(o=!0,t(e,null))}),e.on("status",function(e){0==e.code||o?r&&t(null,null,e):(o=!0,t({code:e.code,message:e.details,metadata:e.metadata},null))}),r&&e.on("metadata",function(e){t(null,null,null,e)}),e.on("end",function(){o||(null==n?t({code:2,message:"Incomplete response"}):t(null,n)),r&&t(null,null)})}function Je(e,t){var r=e;return t.forEach(function(e){var t=r;r=function(r){return e.intercept(r,t)}}),r}var Xe="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},Qe=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var r=0;r<e.length;++r){var n=e[r];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);n("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}}),n("Array.prototype.includes",function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(0>(t=t||0)&&(t=Math.max(t+n,0));t<n;t++){var o=r[t];if(o===e||Object.is(o,e))return!0}return!1}}),n("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function n(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var i=Qe.setTimeout;r.prototype.c=function(e){i(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var r=e[t];e[t]=null;try{r()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var r=null!=e;break e;case"function":r=!0;break e;default:r=!1}r?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.o=function(e){var t=this.f();e.w(t.resolve,t.reject)},t.prototype.u=function(e,t){var r=this.f();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},t.prototype.then=function(e,r){function n(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(e){i(e)}}:t}var o,i,a=new t(function(e,t){o=e,i=t});return this.w(n(e,o),n(r,i)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.w=function(e,t){function r(){switch(n.b){case 1:e(n.c);break;case 2:t(n.c);break;default:throw Error("Unexpected state: "+n.b)}}var n=this;null==this.a?a.b(r):this.a.push(r)},t.resolve=n,t.reject=function(e){return new t(function(t,r){r(e)})},t.race=function(e){return new t(function(t,r){for(var i=o(e),a=i.next();!a.done;a=i.next())n(a.value).w(t,r)})},t.all=function(e){var r=o(e),i=r.next();return i.done?n([]):new t(function(e,t){var o=[],a=0;do{o.push(void 0),a++,n(i.value).w(function(t){return function(r){o[t]=r,0==--a&&e(o)}}(o.length-1),t),i=r.next()}while(!i.done)})},t});var Ze=Ze||{},et=this||self,tt="closure_uid_"+(1e9*Math.random()>>>0),rt=0,nt=Date.now||function(){return+new Date};p.prototype.get=function(e){return this.a[e]},p.prototype.f=function(){return Object.keys(this.a)},f.prototype.getRequestMessage=function(){return this.f},f.prototype.getMethodDescriptor=function(){return this.c},f.prototype.getMetadata=function(){return this.b},f.prototype.getCallOptions=function(){return this.a},h.prototype.getResponseMessage=function(){return this.c},h.prototype.getMetadata=function(){return this.a},h.prototype.getMethodDescriptor=function(){return this.b},h.prototype.getStatus=function(){return this.f},E.prototype.on=function(e,t){return"data"==e||"error"==e?this:this.a.on(e,t)},E.prototype.removeListener=function(e,t){return this.a.removeListener(e,t)},E.prototype.cancel=function(){this.a.cancel()},g(S,Error),S.prototype.name="CustomError",g(b,S),b.prototype.name="AssertionError";var ot,it=0,at=1,st=2,ct=3,ut=0,lt=128,dt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var r=0;r<e.length;r++)if(r in e&&e[r]===t)return r;return-1},gt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};e:{var pt=et.navigator;if(pt){var ft=pt.userAgent;if(ft){ot=ft;break e}}ot=""}var ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");k[" "]=a;var mt,vt=C(ot,"Opera"),yt=C(ot,"Trident")||C(ot,"MSIE"),Et=C(ot,"Edge"),_t=C(ot,"Gecko")&&!(C(ot.toLowerCase(),"webkit")&&!C(ot,"Edge"))&&!(C(ot,"Trident")||C(ot,"MSIE"))&&!C(ot,"Edge"),St=C(ot.toLowerCase(),"webkit")&&!C(ot,"Edge");e:{var bt="",Tt=function(){var e=ot;return _t?/rv:([^\);]+)(\)|;)/.exec(e):Et?/Edge\/([\d\.]+)/.exec(e):yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):St?/WebKit\/(\S+)/.exec(e):vt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Tt&&(bt=Tt?Tt[1]:""),yt){var At=j();if(null!=At&&At>parseFloat(bt)){mt=String(At);break e}}mt=bt}var Rt,It={};if(et.document&&yt){var Ot=j();Rt=Ot||(parseInt(mt,10)||void 0)}else Rt=void 0;var wt=Rt,Ct=0;B.prototype.F=!1;var Nt,Mt=Object.freeze||function(e){return e};(Nt=!yt)||(Nt=9<=Number(wt));var Lt=Nt,Dt=yt&&!U("9"),Pt=function(){if(!et.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{et.addEventListener("test",a,t),et.removeEventListener("test",a,t)}catch(e){}return e}();V.prototype.b=function(){this.defaultPrevented=!0},g($,V);var kt=Mt({2:"touch",3:"pen",4:"mouse"});$.prototype.b=function(){$.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Dt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var xt="closure_listenable_"+(1e6*Math.random()|0),jt=0;H.prototype.add=function(e,t,r,n,o){var i=e.toString();(e=this.a[i])||(e=this.a[i]=[],this.b++);var a=q(e,t,n,o);return-1<a?(t=e[a],r||(t.v=!1)):(t=new F(t,this.src,i,!!n,o),t.v=r,e.push(t)),t};var Ut="closure_lm_"+(1e6*Math.random()|0),Bt={},Vt=0,$t="__closure_events_fn_"+(1e9*Math.random()>>>0);g(ie,B),ie.prototype[xt]=!0,ie.prototype.addEventListener=function(e,t,r,n){z(this,e,t,r,n)},ie.prototype.removeEventListener=function(e,t,r,n){X(this,e,t,r,n)},ue.prototype.a=null;var Ft=0;ue.prototype.reset=function(e,t,r,n,o){"number"==typeof o||Ft++,n||nt(),delete this.a},de.prototype.toString=function(){return this.name};var Wt=new de("SEVERE",1e3),Ht=new de("CONFIG",700),Gt=new de("FINE",500);le.prototype.log=function(e,t,r){if(e.value>=ge(this).value)for("function"==s(t)&&(t=t()),e=new ue(e,String(t),this.f),r&&(e.a=r),r=this;r;)r=r.a};var qt={},zt=null;he.prototype.a=null;var Yt;g(ve,he),Yt=new ve,_e.prototype.f=function(){return Se(this),this.a.concat()},_e.prototype.get=function(e,t){return Te(this.b,e)?this.b[e]:t},_e.prototype.set=function(e,t){Te(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},_e.prototype.forEach=function(e,t){for(var r=this.f(),n=0;n<r.length;n++){var o=r[n],i=this.get(o);e.call(t,i,o,this)}};var Kt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;g(Ae,ie);var Jt="",Xt=Ae.prototype,Qt=pe("goog.net.XhrIo");Xt.b=Qt;var Zt=/^https?$/i,er=["POST","PUT"];Ae.prototype.L=function(){void 0!==Ze&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,fe(this.b,je(this,this.i)),ae(this,"timeout"),this.abort(8))},Ae.prototype.abort=function(e){this.a&&this.c&&(fe(this.b,je(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=e||7,ae(this,"complete"),ae(this,"abort"),Me(this))},Ae.prototype.K=function(){this.F||(this.I||this.m||this.h?Ne(this):this.O())},Ae.prototype.O=function(){Ne(this)},Ae.prototype.getStatus=function(){try{return 2<De(this)?this.a.status:-1}catch(e){return-1}};var tr={},rr=null,nr=["content-type","grpc-status","grpc-message"];$e.prototype.on=function(e,t){return"data"==e?this.b.push(t):"status"==e?this.h.push(t):"metadata"==e?this.g.push(t):"end"==e?this.c.push(t):"error"==e&&this.f.push(t),this},$e.prototype.removeListener=function(e,t){return"data"==e?Fe(this.b,t):"status"==e?Fe(this.h,t):"metadata"==e?Fe(this.g,t):"end"==e?Fe(this.c,t):"error"==e&&Fe(this.f,t),this},$e.prototype.cancel=function(){this.j=!0,this.a.abort()},$e.prototype.cancel=$e.prototype.cancel,$e.prototype.removeListener=$e.prototype.removeListener,$e.prototype.on=$e.prototype.on,ze.prototype.P=function(e,t,r,n,o){var i=this;n=y(e,t,"unary",n);var a=e.substr(0,e.length-n.name.length);return e=Je(function(e){return Ye(i,e,a)},this.b).call(this,v(n,t,r)),Ke(e,o,!1),new E(e)},ze.prototype.M=function(e,t,r,n){var o=this;n=y(e,t,"unary",n);var i=e.substr(0,e.length-n.name.length);return Je(function(e){return new Promise(function(t,r){var n,a,s,c=Ye(o,e,i);Ke(c,function(o,i,c,u){o?r(o):i?s=i:c?a=c:u?n=u:(o=e.getMethodDescriptor(),i=n,i=void 0===i?{}:i,t(new h(s,o,i,void 0===a?null:a)))},!0)})},this.g).call(this,v(n,t,r)).then(function(e){return e.getResponseMessage()})},ze.prototype.unaryCall=function(e,t,r,n){return this.M(e,t,r,n)},ze.prototype.R=function(e,t,r,n){var o=this;n=y(e,t,"server_streaming",n);var i=e.substr(0,e.length-n.name.length);return Je(function(e){return Ye(o,e,i)},this.b).call(this,v(n,t,r))},ze.prototype.serverStreaming=ze.prototype.R,ze.prototype.unaryCall=ze.prototype.unaryCall,ze.prototype.thenableCall=ze.prototype.M,ze.prototype.rpcCall=ze.prototype.P,e.exports.AbstractClientBase={MethodInfo:function(e,t,r,n,o){this.name=n,this.b=o,this.f=e,this.a=t,this.c=r}},e.exports.GrpcWebClientBase=ze,e.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},e.exports.MethodDescriptor=m,e.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(t,r(1))},function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,l=-7,d=r?o-1:0,g=r?-1:1,p=e[t+d];for(d+=g,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+d],d+=g,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+d],d+=g,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,g=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,f=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),t+=a+d>=1?g/c:g*Math.pow(2,1-d),t*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+p]=255&a,p+=f,a/=256,u-=8);e[r+p-f]|=128*h}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,o;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,i){"use strict";function a(e,t,r){r=r||Re;var n,o,i=r.createElement("script");if(i.text=e,t)for(n in Ie)(o=t[n]||t.getAttribute&&t.getAttribute(n))&&i.setAttribute(n,o);r.head.appendChild(i).parentNode.removeChild(i)}function s(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ve[ye.call(e)]||"object":typeof e}function c(e){var t=!!e&&"length"in e&&e.length,r=s(e);return!Te(e)&&!Ae(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,r){return Te(t)?Oe.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?Oe.grep(e,function(e){return e===t!==r}):"string"!=typeof t?Oe.grep(e,function(e){return me.call(t,e)>-1!==r}):Oe.filter(t,e,r)}function d(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function g(e){var t={};return Oe.each(e.match(je)||[],function(e,r){t[r]=!0}),t}function p(e){return e}function f(e){throw e}function h(e,t,r,n){var o;try{e&&Te(o=e.promise)?o.call(e).done(t).fail(r):e&&Te(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}function m(){Re.removeEventListener("DOMContentLoaded",m),r.removeEventListener("load",m),Oe.ready()}function v(e,t){return t.toUpperCase()}function y(e){return e.replace($e,"ms-").replace(Fe,v)}function E(){this.expando=Oe.expando+E.uid++}function _(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:qe.test(e)?JSON.parse(e):e)}function S(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(ze,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=_(r)}catch(e){}Ge.set(e,t,r)}else r=void 0;return r}function b(e,t,r,n){var o,i,a=20,s=n?function(){return n.cur()}:function(){return Oe.css(e,t,"")},c=s(),u=r&&r[3]||(Oe.cssNumber[t]?"":"px"),l=e.nodeType&&(Oe.cssNumber[t]||"px"!==u&&+c)&&Ke.exec(Oe.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)Oe.style(e,t,l+u),(1-i)*(1-(i=s()/c||.5))<=0&&(a=0),l/=i;l*=2,Oe.style(e,t,l+u),r=r||[]}return r&&(l=+l||+c||0,o=r[1]?l+(r[1]+1)*r[2]:+r[2],n&&(n.unit=u,n.start=l,n.end=o)),o}function T(e){var t,r=e.ownerDocument,n=e.nodeName,o=tt[n];return o||(t=r.body.appendChild(r.createElement(n)),o=Oe.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),tt[n]=o,o)}function A(e,t){for(var r,n,o=[],i=0,a=e.length;i<a;i++)n=e[i],n.style&&(r=n.style.display,t?("none"===r&&(o[i]=He.get(n,"display")||null,o[i]||(n.style.display="")),""===n.style.display&&et(n)&&(o[i]=T(n))):"none"!==r&&(o[i]="none",He.set(n,"display",r)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function R(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&u(e,t)?Oe.merge([e],r):r}function I(e,t){for(var r=0,n=e.length;r<n;r++)He.set(e[r],"globalEval",!t||He.get(t[r],"globalEval"))}function O(e,t,r,n,o){for(var i,a,c,u,l,d,g=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===s(i))Oe.merge(p,i.nodeType?[i]:i);else if(at.test(i)){for(a=a||g.appendChild(t.createElement("div")),c=(nt.exec(i)||["",""])[1].toLowerCase(),u=it[c]||it._default,a.innerHTML=u[1]+Oe.htmlPrefilter(i)+u[2],d=u[0];d--;)a=a.lastChild;Oe.merge(p,a.childNodes),a=g.firstChild,a.textContent=""}else p.push(t.createTextNode(i));for(g.textContent="",f=0;i=p[f++];)if(n&&Oe.inArray(i,n)>-1)o&&o.push(i);else if(l=Qe(i),a=R(g.appendChild(i),"script"),l&&I(a),r)for(d=0;i=a[d++];)ot.test(i.type||"")&&r.push(i);return g}function w(){return!0}function C(){return!1}function N(e,t){return e===M()==("focus"===t)}function M(){try{return Re.activeElement}catch(e){}}function L(e,t,r,n,o,i){var a,s;if("object"==typeof t){"string"!=typeof r&&(n=n||r,r=void 0);for(s in t)L(e,s,r,n,t[s],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=C;else if(!o)return e;return 1===i&&(a=o,o=function(e){return Oe().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=Oe.guid++)),e.each(function(){Oe.event.add(this,t,o,n,r)})}function D(e,t,r){if(!r)return void(void 0===He.get(e,t)&&Oe.event.add(e,t,w));He.set(e,t,!1),Oe.event.add(e,t,{namespace:!1,handler:function(e){var n,o,i=He.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(Oe.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=pe.call(arguments),He.set(this,t,i),n=r(this,t),this[t](),o=He.get(this,t),i!==o||n?He.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(He.set(this,t,{value:Oe.event.trigger(Oe.extend(i[0],Oe.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})}function P(e,t){return u(e,"table")&&u(11!==t.nodeType?t:t.firstChild,"tr")?Oe(e).children("tbody")[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function x(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function j(e,t){var r,n,o,i,a,s,c;if(1===t.nodeType){if(He.hasData(e)&&(i=He.get(e),c=i.events)){He.remove(t,"handle events");for(o in c)for(r=0,n=c[o].length;r<n;r++)Oe.event.add(t,o,c[o][r])}Ge.hasData(e)&&(a=Ge.access(e),s=Oe.extend({},a),Ge.set(t,s))}}function U(e,t){var r=t.nodeName.toLowerCase();"input"===r&&rt.test(e.type)?t.checked=e.checked:"input"!==r&&"textarea"!==r||(t.defaultValue=e.defaultValue)}function B(e,t,r,n){t=fe(t);var o,i,s,c,u,l,d=0,g=e.length,p=g-1,f=t[0],h=Te(f);if(h||g>1&&"string"==typeof f&&!be.checkClone&&dt.test(f))return e.each(function(o){var i=e.eq(o);h&&(t[0]=f.call(this,o,i.html())),B(i,t,r,n)});if(g&&(o=O(t,e[0].ownerDocument,!1,e,n),i=o.firstChild,1===o.childNodes.length&&(o=i),i||n)){for(s=Oe.map(R(o,"script"),k),c=s.length;d<g;d++)u=o,d!==p&&(u=Oe.clone(u,!0,!0),c&&Oe.merge(s,R(u,"script"))),r.call(e[d],u,d);if(c)for(l=s[s.length-1].ownerDocument,Oe.map(s,x),d=0;d<c;d++)u=s[d],ot.test(u.type||"")&&!He.access(u,"globalEval")&&Oe.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Oe._evalUrl&&!u.noModule&&Oe._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):a(u.textContent.replace(gt,""),u,l))}return e}function V(e,t,r){for(var n,o=t?Oe.filter(t,e):e,i=0;null!=(n=o[i]);i++)r||1!==n.nodeType||Oe.cleanData(R(n)),n.parentNode&&(r&&Qe(n)&&I(R(n,"script")),n.parentNode.removeChild(n));return e}function $(e,t,r){var n,o,i,a,s=e.style;return r=r||ft(e),r&&(a=r.getPropertyValue(t)||r[t],""!==a||Qe(e)||(a=Oe.style(e,t)),!be.pixelBoxStyles()&&pt.test(a)&&mt.test(t)&&(n=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function F(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function W(e){for(var t=e[0].toUpperCase()+e.slice(1),r=vt.length;r--;)if((e=vt[r]+t)in yt)return e}function H(e){var t=Oe.cssProps[e]||Et[e];return t||(e in yt?e:Et[e]=W(e)||e)}function G(e,t,r){var n=Ke.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function q(e,t,r,n,o,i){var a="width"===t?1:0,s=0,c=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(c+=Oe.css(e,r+Je[a],!0,o)),n?("content"===r&&(c-=Oe.css(e,"padding"+Je[a],!0,o)),"margin"!==r&&(c-=Oe.css(e,"border"+Je[a]+"Width",!0,o))):(c+=Oe.css(e,"padding"+Je[a],!0,o),"padding"!==r?c+=Oe.css(e,"border"+Je[a]+"Width",!0,o):s+=Oe.css(e,"border"+Je[a]+"Width",!0,o));return!n&&i>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-c-s-.5))||0),c}function z(e,t,r){var n=ft(e),o=!be.boxSizingReliable()||r,i=o&&"border-box"===Oe.css(e,"boxSizing",!1,n),a=i,s=$(e,t,n),c="offset"+t[0].toUpperCase()+t.slice(1);if(pt.test(s)){if(!r)return s;s="auto"}return(!be.boxSizingReliable()&&i||!be.reliableTrDimensions()&&u(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===Oe.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===Oe.css(e,"boxSizing",!1,n),(a=c in e)&&(s=e[c])),(s=parseFloat(s)||0)+q(e,t,r||(i?"border":"content"),a,n,s)+"px"}function Y(e,t,r,n,o){return new Y.prototype.init(e,t,r,n,o)}function K(){Rt&&(!1===Re.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(K):r.setTimeout(K,Oe.fx.interval),Oe.fx.tick())}function J(){return r.setTimeout(function(){At=void 0}),At=Date.now()}function X(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)r=Je[n],o["margin"+r]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function Q(e,t,r){for(var n,o=(te.tweeners[t]||[]).concat(te.tweeners["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,t,e))return n}function Z(e,t,r){var n,o,i,a,s,c,u,l,d="width"in t||"height"in t,g=this,p={},f=e.style,h=e.nodeType&&et(e),m=He.get(e,"fxshow");r.queue||(a=Oe._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,g.always(function(){g.always(function(){a.unqueued--,Oe.queue(e,"fx").length||a.empty.fire()})}));for(n in t)if(o=t[n],It.test(o)){if(delete t[n],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;h=!0}p[n]=m&&m[n]||Oe.style(e,n)}if((c=!Oe.isEmptyObject(t))||!Oe.isEmptyObject(p)){d&&1===e.nodeType&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],u=m&&m.display,null==u&&(u=He.get(e,"display")),l=Oe.css(e,"display"),"none"===l&&(u?l=u:(A([e],!0),u=e.style.display||u,l=Oe.css(e,"display"),A([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===Oe.css(e,"float")&&(c||(g.done(function(){f.display=u}),null==u&&(l=f.display,u="none"===l?"":l)),f.display="inline-block")),r.overflow&&(f.overflow="hidden",g.always(function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]})),c=!1;for(n in p)c||(m?"hidden"in m&&(h=m.hidden):m=He.access(e,"fxshow",{display:u}),i&&(m.hidden=!h),h&&A([e],!0),g.done(function(){h||A([e]),He.remove(e,"fxshow");for(n in p)Oe.style(e,n,p[n])})),c=Q(h?m[n]:0,n,g),n in m||(m[n]=c.start,h&&(c.end=c.start,c.start=0))}}function ee(e,t){var r,n,o,i,a;for(r in e)if(n=y(r),o=t[n],i=e[r],Array.isArray(i)&&(o=i[1],i=e[r]=i[0]),r!==n&&(e[n]=i,delete e[r]),(a=Oe.cssHooks[n])&&"expand"in a){i=a.expand(i),delete e[n];for(r in i)r in e||(e[r]=i[r],t[r]=o)}else t[n]=o}function te(e,t,r){var n,o,i=0,a=te.prefilters.length,s=Oe.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var t=At||J(),r=Math.max(0,u.startTime+u.duration-t),n=r/u.duration||0,i=1-n,a=0,c=u.tweens.length;a<c;a++)u.tweens[a].run(i);return s.notifyWith(e,[u,i,r]),i<1&&c?r:(c||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Oe.extend({},t),opts:Oe.extend(!0,{specialEasing:{},easing:Oe.easing._default},r),originalProperties:t,originalOptions:r,startTime:At||J(),duration:r.duration,tweens:[],createTween:function(t,r){var n=Oe.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)u.tweens[r].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),l=u.props;for(ee(l,u.opts.specialEasing);i<a;i++)if(n=te.prefilters[i].call(u,e,l,u.opts))return Te(n.stop)&&(Oe._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return Oe.map(l,Q,u),Te(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),Oe.fx.timer(Oe.extend(c,{elem:e,anim:u,queue:u.opts.queue})),u}function re(e){return(e.match(je)||[]).join(" ")}function ne(e){return e.getAttribute&&e.getAttribute("class")||""}function oe(e){return Array.isArray(e)?e:"string"==typeof e?e.match(je)||[]:[]}function ie(e,t,r,n){var o;if(Array.isArray(t))Oe.each(t,function(t,o){r||Ut.test(e)?n(e,o):ie(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)});else if(r||"object"!==s(t))n(e,t);else for(o in t)ie(e+"["+o+"]",t[o],r,n)}function ae(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,i=t.toLowerCase().match(je)||[];if(Te(r))for(;n=i[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function se(e,t,r,n){function o(s){var c;return i[s]=!0,Oe.each(e[s]||[],function(e,s){var u=s(t,r,n);return"string"!=typeof u||a||i[u]?a?!(c=u):void 0:(t.dataTypes.unshift(u),o(u),!1)}),c}var i={},a=e===Jt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ce(e,t){var r,n,o=Oe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&Oe.extend(!0,e,n),e}function ue(e,t,r){for(var n,o,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){c.unshift(o);break}if(c[0]in r)i=c[0];else{for(o in r){if(!c[0]||e.converters[o+" "+c[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==c[0]&&c.unshift(i),r[i]}function le(e,t,r,n){var o,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!c&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=u[c+" "+i]||u["* "+i]))for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}var de=[],ge=Object.getPrototypeOf,pe=de.slice,fe=de.flat?function(e){return de.flat.call(e)}:function(e){return de.concat.apply([],e)},he=de.push,me=de.indexOf,ve={},ye=ve.toString,Ee=ve.hasOwnProperty,_e=Ee.toString,Se=_e.call(Object),be={},Te=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Ae=function(e){return null!=e&&e===e.window},Re=r.document,Ie={type:!0,src:!0,nonce:!0,noModule:!0},Oe=function(e,t){return new Oe.fn.init(e,t)};Oe.fn=Oe.prototype={jquery:"3.5.1",constructor:Oe,length:0,toArray:function(){return pe.call(this)},get:function(e){return null==e?pe.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Oe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Oe.each(this,e)},map:function(e){return this.pushStack(Oe.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Oe.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Oe.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:he,sort:de.sort,splice:de.splice},Oe.extend=Oe.fn.extend=function(){var e,t,r,n,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Te(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(u&&n&&(Oe.isPlainObject(n)||(o=Array.isArray(n)))?(r=a[t],i=o&&!Array.isArray(r)?[]:o||Oe.isPlainObject(r)?r:{},o=!1,a[t]=Oe.extend(u,i,n)):void 0!==n&&(a[t]=n));return a},Oe.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==ye.call(e))&&(!(t=ge(e))||"function"==typeof(r=Ee.call(t,"constructor")&&t.constructor)&&_e.call(r)===Se)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){a(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,n=0;if(c(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var r=t||[];return null!=e&&(c(Object(e))?Oe.merge(r,"string"==typeof e?[e]:e):he.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:me.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,a=!r;o<i;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,a=[];if(c(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&a.push(o);return fe(a)},guid:1,support:be}),"function"==typeof Symbol&&(Oe.fn[Symbol.iterator]=de[Symbol.iterator]),Oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ve["[object "+t+"]"]=t.toLowerCase()});var we=/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){function t(e,t,r,n){var o,i,a,s,c,l,g,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return r;if(!n&&(N(t),t=t||M,D)){if(11!==f&&(c=ve.exec(e)))if(o=c[1]){if(9===f){if(!(a=t.getElementById(o)))return r;if(a.id===o)return r.push(a),r}else if(p&&(a=p.getElementById(o))&&j(t,a)&&a.id===o)return r.push(a),r}else{if(c[2])return X.apply(r,t.getElementsByTagName(e)),r;if((o=c[3])&&_.getElementsByClassName&&t.getElementsByClassName)return X.apply(r,t.getElementsByClassName(o)),r}if(_.qsa&&!G[e+" "]&&(!P||!P.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(g=e,p=t,1===f&&(ue.test(e)||ce.test(e))){for(p=ye.test(e)&&u(t.parentNode)||t,p===t&&_.scope||((s=t.getAttribute("id"))?s=s.replace(Se,be):t.setAttribute("id",s=U)),l=A(e),i=l.length;i--;)l[i]=(s?"#"+s:":scope")+" "+d(l[i]);g=l.join(",")}try{return X.apply(r,p.querySelectorAll(g)),r}catch(t){G(e,!0)}finally{s===U&&t.removeAttribute("id")}}}return I(e.replace(ae,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>S.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[U]=!0,e}function o(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var r=e.split("|"),n=r.length;n--;)S.attrHandle[r[n]]=t}function a(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return n(function(t){return t=+t,n(function(r,n){for(var o,i=e([],r.length,t),a=i.length;a--;)r[o=i[a]]&&(r[o]=!(n[o]=r[o]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function d(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function g(e,t,r){var n=t.dir,o=t.next,i=o||n,a=r&&"parentNode"===i,s=$++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,o);return!1}:function(t,r,c){var u,l,d,g=[V,s];if(c){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,c))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(d=t[U]||(t[U]={}),l=d[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((u=l[i])&&u[0]===V&&u[1]===s)return g[2]=u[2];if(l[i]=g,g[2]=e(t,r,c))return!0}return!1}}function p(e){return e.length>1?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function f(e,r,n){for(var o=0,i=r.length;o<i;o++)t(e,r[o],n);return n}function h(e,t,r,n,o){for(var i,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(i=e[s])&&(r&&!r(i,n,o)||(a.push(i),u&&t.push(s)));return a}function m(e,t,r,o,i,a){return o&&!o[U]&&(o=m(o)),i&&!i[U]&&(i=m(i,a)),n(function(n,a,s,c){var u,l,d,g=[],p=[],m=a.length,v=n||f(t||"*",s.nodeType?[s]:s,[]),y=!e||!n&&t?v:h(v,g,e,s,c),E=r?i||(n?e:m||o)?[]:a:y;if(r&&r(y,E,s,c),o)for(u=h(E,p),o(u,[],s,c),l=u.length;l--;)(d=u[l])&&(E[p[l]]=!(y[p[l]]=d));if(n){if(i||e){if(i){for(u=[],l=E.length;l--;)(d=E[l])&&u.push(y[l]=d);i(null,E=[],u,c)}for(l=E.length;l--;)(d=E[l])&&(u=i?Z(n,d):g[l])>-1&&(n[u]=!(a[u]=d))}}else E=h(E===a?E.splice(m,E.length):E),i?i(null,a,E,c):X.apply(a,E)})}function v(e){for(var t,r,n,o=e.length,i=S.relative[e[0].type],a=i||S.relative[" "],s=i?1:0,c=g(function(e){return e===t},a,!0),u=g(function(e){return Z(t,e)>-1},a,!0),l=[function(e,r,n){var o=!i&&(n||r!==O)||((t=r).nodeType?c(e,r,n):u(e,r,n));return t=null,o}];s<o;s++)if(r=S.relative[e[s].type])l=[g(p(l),r)];else{if(r=S.filter[e[s].type].apply(null,e[s].matches),r[U]){for(n=++s;n<o&&!S.relative[e[n].type];n++);return m(s>1&&p(l),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),r,s<n&&v(e.slice(s,n)),n<o&&v(e=e.slice(n)),n<o&&d(e))}l.push(r)}return p(l)}function y(e,r){var o=r.length>0,i=e.length>0,a=function(n,a,s,c,u){var l,d,g,p=0,f="0",m=n&&[],v=[],y=O,E=n||i&&S.find.TAG("*",u),_=V+=null==y?1:Math.random()||.1,b=E.length;for(u&&(O=a==M||a||u);f!==b&&null!=(l=E[f]);f++){if(i&&l){for(d=0,a||l.ownerDocument==M||(N(l),s=!D);g=e[d++];)if(g(l,a||M,s)){c.push(l);break}u&&(V=_)}o&&((l=!g&&l)&&p--,n&&m.push(l))}if(p+=f,o&&f!==p){for(d=0;g=r[d++];)g(m,v,a,s);if(n){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(c));v=h(v)}X.apply(c,v),u&&!n&&v.length>0&&p+r.length>1&&t.uniqueSort(c)}return u&&(V=_,O=y),m};return o?n(a):a}var E,_,S,b,T,A,R,I,O,w,C,N,M,L,D,P,k,x,j,U="sizzle"+1*new Date,B=e.document,V=0,$=0,F=r(),W=r(),H=r(),G=r(),q=function(e,t){return e===t&&(C=!0),0},z={}.hasOwnProperty,Y=[],K=Y.pop,J=Y.push,X=Y.push,Q=Y.slice,Z=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",re="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ne="\\["+te+"*("+re+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+te+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),se=new RegExp("^"+te+"*,"+te+"*"),ce=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ue=new RegExp(te+"|>"),le=new RegExp(oe),de=new RegExp("^"+re+"$"),ge={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/HTML$/i,fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,Ee=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),_e=function(e,t){var r="0x"+e.slice(1)-65536;return t||(r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320))},Se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,be=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Te=function(){N()},Ae=g(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{X.apply(Y=Q.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(e){X={apply:Y.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}_=t.support={},T=t.isXML=function(e){var t=e.namespaceURI,r=(e.ownerDocument||e).documentElement;return!pe.test(t||r&&r.nodeName||"HTML")},N=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:B;return n!=M&&9===n.nodeType&&n.documentElement?(M=n,L=M.documentElement,D=!T(M),B!=M&&(r=M.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Te,!1):r.attachEvent&&r.attachEvent("onunload",Te)),_.scope=o(function(e){return L.appendChild(e).appendChild(M.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),_.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=o(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=me.test(M.getElementsByClassName),_.getById=o(function(e){return L.appendChild(e).id=U,!M.getElementsByName||!M.getElementsByName(U).length}),_.getById?(S.filter.ID=function(e){var t=e.replace(Ee,_e);return function(e){return e.getAttribute("id")===t}},S.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var r=t.getElementById(e);return r?[r]:[]}}):(S.filter.ID=function(e){var t=e.replace(Ee,_e);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},S.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var r,n,o,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(o=t.getElementsByName(e),n=0;i=o[n++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),S.find.TAG=_.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;r=i[o++];)1===r.nodeType&&n.push(r);return n}return i},S.find.CLASS=_.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&D)return t.getElementsByClassName(e)},k=[],P=[],(_.qsa=me.test(M.querySelectorAll))&&(o(function(e){var t;L.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+U+"-]").length||P.push("~="),t=M.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||P.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||P.push(".#.+[+~]"),e.querySelectorAll("\\\f"),P.push("[\\r\\n\\f]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),L.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(_.matchesSelector=me.test(x=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){_.disconnectedMatch=x.call(e,"*"),x.call(e,"[s!='']:x"),k.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),k=k.length&&new RegExp(k.join("|")),t=me.test(L.compareDocumentPosition),j=t||me.test(L.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return C=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!_.sortDetached&&t.compareDocumentPosition(e)===r?e==M||e.ownerDocument==B&&j(B,e)?-1:t==M||t.ownerDocument==B&&j(B,t)?1:w?Z(w,e)-Z(w,t):0:4&r?-1:1)}:function(e,t){if(e===t)return C=!0,0;var r,n=0,o=e.parentNode,i=t.parentNode,s=[e],c=[t];if(!o||!i)return e==M?-1:t==M?1:o?-1:i?1:w?Z(w,e)-Z(w,t):0;if(o===i)return a(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;s[n]===c[n];)n++;return n?a(s[n],c[n]):s[n]==B?-1:c[n]==B?1:0},M):M},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if(N(e),_.matchesSelector&&D&&!G[r+" "]&&(!k||!k.test(r))&&(!P||!P.test(r)))try{var n=x.call(e,r);if(n||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){G(r,!0)}return t(r,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=M&&N(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=M&&N(e);var r=S.attrHandle[t.toLowerCase()],n=r&&z.call(S.attrHandle,t.toLowerCase())?r(e,t,!D):void 0;return void 0!==n?n:_.attributes||!D?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.escape=function(e){return(e+"").replace(Se,be)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,o=0;if(C=!_.detectDuplicates,w=!_.sortStable&&e.slice(0),e.sort(q),C){for(;t=e[o++];)t===e[o]&&(n=r.push(o));for(;n--;)e.splice(r[n],1)}return w=null,e},b=t.getText=function(e){var t,r="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=b(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)r+=b(t);return r},S=t.selectors={cacheLength:50,createPseudo:n,match:ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ee,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(Ee,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return ge.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&le.test(r)&&(t=A(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ee,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=F[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&F(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(o){var i=t.attr(o,e);return null==i?"!="===r:!r||(i+="","="===r?i===n:"!="===r?i!==n:"^="===r?n&&0===i.indexOf(n):"*="===r?n&&i.indexOf(n)>-1:"$="===r?n&&i.slice(-n.length)===n:"~="===r?(" "+i.replace(ie," ")+" ").indexOf(n)>-1:"|="===r&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,r,n,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,c){var u,l,d,g,p,f,h=i!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,E=!1;if(m){if(i){for(;h;){for(g=t;g=g[h];)if(s?g.nodeName.toLowerCase()===v:1===g.nodeType)return!1;f=h="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(g=m,d=g[U]||(g[U]={}),l=d[g.uniqueID]||(d[g.uniqueID]={}),u=l[e]||[],p=u[0]===V&&u[1],E=p&&u[2],g=p&&m.childNodes[p];g=++p&&g&&g[h]||(E=p=0)||f.pop();)if(1===g.nodeType&&++E&&g===t){l[e]=[V,p,E];break}}else if(y&&(g=t,d=g[U]||(g[U]={}),l=d[g.uniqueID]||(d[g.uniqueID]={}),u=l[e]||[],p=u[0]===V&&u[1],E=p),!1===E)for(;(g=++p&&g&&g[h]||(E=p=0)||f.pop())&&((s?g.nodeName.toLowerCase()!==v:1!==g.nodeType)||!++E||(y&&(d=g[U]||(g[U]={}),l=d[g.uniqueID]||(d[g.uniqueID]={}),l[e]=[V,E]),g!==t)););return(E-=o)===n||E%n==0&&E/n>=0}}},PSEUDO:function(e,r){var o,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[U]?i(r):i.length>1?(o=[e,e,"",r],S.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=i(e,r),a=o.length;a--;)n=Z(e,o[a]),e[n]=!(t[n]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:n(function(e){var t=[],r=[],o=R(e.replace(ae,"$1"));return o[U]?n(function(e,t,r,n){for(var i,a=o(e,null,n,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,n,i){return t[0]=e,o(t,null,i,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(Ee,_e),function(t){return(t.textContent||b(t)).indexOf(e)>-1}}),lang:n(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ee,_e).toLowerCase(),function(t){var r;do{if(r=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,r){return[r<0?r+t:r]}),even:c(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:c(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:c(function(e,t,r){for(var n=r<0?r+t:r>t?t:r;--n>=0;)e.push(n);return e}),gt:c(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}},S.pseudos.nth=S.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[E]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(E);for(E in{submit:!0,reset:!0})S.pseudos[E]=function(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}(E);return l.prototype=S.filters=S.pseudos,S.setFilters=new l,A=t.tokenize=function(e,r){var n,o,i,a,s,c,u,l=W[e+" "];if(l)return r?0:l.slice(0);for(s=e,c=[],u=S.preFilter;s;){n&&!(o=se.exec(s))||(o&&(s=s.slice(o[0].length)||s),c.push(i=[])),n=!1,(o=ce.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(ae," ")}),s=s.slice(n.length));for(a in S.filter)!(o=ge[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return r?s.length:s?t.error(e):W(e,c).slice(0)},R=t.compile=function(e,t){var r,n=[],o=[],i=H[e+" "];if(!i){for(t||(t=A(e)),r=t.length;r--;)i=v(t[r]),i[U]?n.push(i):o.push(i);i=H(e,y(o,n)),i.selector=e}return i},I=t.select=function(e,t,r,n){var o,i,a,s,c,l="function"==typeof e&&e,g=!n&&A(e=l.selector||e);if(r=r||[],1===g.length){if(i=g[0]=g[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&D&&S.relative[i[1].type]){if(!(t=(S.find.ID(a.matches[0].replace(Ee,_e),t)||[])[0]))return r;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=ge.needsContext.test(e)?0:i.length;o--&&(a=i[o],!S.relative[s=a.type]);)if((c=S.find[s])&&(n=c(a.matches[0].replace(Ee,_e),ye.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(o,1),!(e=n.length&&d(i)))return X.apply(r,n),r;break}}return(l||R(e,g))(n,t,!D,r,!t||ye.test(e)&&u(t.parentNode)||t),r},_.sortStable=U.split("").sort(q).join("")===U,_.detectDuplicates=!!C,N(),_.sortDetached=o(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(ee,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(r);Oe.find=we,Oe.expr=we.selectors,Oe.expr[":"]=Oe.expr.pseudos,Oe.uniqueSort=Oe.unique=we.uniqueSort,Oe.text=we.getText,Oe.isXMLDoc=we.isXML,Oe.contains=we.contains,Oe.escapeSelector=we.escape;var Ce=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Oe(e).is(r))break;n.push(e)}return n},Ne=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},Me=Oe.expr.match.needsContext,Le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Oe.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Oe.find.matchesSelector(n,e)?[n]:[]:Oe.find.matches(e,Oe.grep(t,function(e){return 1===e.nodeType}))},Oe.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(Oe(e).filter(function(){for(t=0;t<n;t++)if(Oe.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)Oe.find(e,o[t],r);return n>1?Oe.uniqueSort(r):r},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&Me.test(e)?Oe(e):e||[],!1).length}});var De,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Oe.fn.init=function(e,t,r){var n,o;if(!e)return this;if(r=r||De,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Pe.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Oe?t[0]:t,Oe.merge(this,Oe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Re,!0)),Le.test(n[1])&&Oe.isPlainObject(t))for(n in t)Te(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return o=Re.getElementById(n[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Te(e)?void 0!==r.ready?r.ready(e):e(Oe):Oe.makeArray(e,this)}).prototype=Oe.fn,De=Oe(Re);var ke=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};Oe.fn.extend({has:function(e){var t=Oe(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(Oe.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,i=[],a="string"!=typeof e&&Oe(e);if(!Me.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&Oe.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?Oe.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?me.call(Oe(e),this[0]):me.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Oe.uniqueSort(Oe.merge(this.get(),Oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,r){return Ce(e,"parentNode",r)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,r){return Ce(e,"nextSibling",r)},prevUntil:function(e,t,r){return Ce(e,"previousSibling",r)},siblings:function(e){return Ne((e.parentNode||{}).firstChild,e)},children:function(e){return Ne(e.firstChild)},contents:function(e){return null!=e.contentDocument&&ge(e.contentDocument)?e.contentDocument:(u(e,"template")&&(e=e.content||e),Oe.merge([],e.childNodes))}},function(e,t){Oe.fn[e]=function(r,n){var o=Oe.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=Oe.filter(n,o)),this.length>1&&(xe[e]||Oe.uniqueSort(o),ke.test(e)&&o.reverse()),this.pushStack(o)}});var je=/[^\x20\t\r\n\f]+/g;Oe.Callbacks=function(e){e="string"==typeof e?g(e):Oe.extend({},e);var t,r,n,o,i=[],a=[],c=-1,u=function(){for(o=o||e.once,n=t=!0;a.length;c=-1)for(r=a.shift();++c<i.length;)!1===i[c].apply(r[0],r[1])&&e.stopOnFalse&&(c=i.length,r=!1);e.memory||(r=!1),t=!1,o&&(i=r?[]:"")},l={add:function(){return i&&(r&&!t&&(c=i.length-1,a.push(r)),function t(r){Oe.each(r,function(r,n){Te(n)?e.unique&&l.has(n)||i.push(n):n&&n.length&&"string"!==s(n)&&t(n)})}(arguments),r&&!t&&u()),this},remove:function(){return Oe.each(arguments,function(e,t){for(var r;(r=Oe.inArray(t,i,r))>-1;)i.splice(r,1),r<=c&&c--}),this},has:function(e){return e?Oe.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=r="",this},disabled:function(){return!i},lock:function(){return o=a=[],r||t||(i=r=""),this},locked:function(){return!!o},fireWith:function(e,r){return o||(r=r||[],r=[e,r.slice?r.slice():r],a.push(r),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},Oe.extend({Deferred:function(e){var t=[["notify","progress",Oe.Callbacks("memory"),Oe.Callbacks("memory"),2],["resolve","done",Oe.Callbacks("once memory"),Oe.Callbacks("once memory"),0,"resolved"],["reject","fail",Oe.Callbacks("once memory"),Oe.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Oe.Deferred(function(r){Oe.each(t,function(t,n){var o=Te(e[n[4]])&&e[n[4]];i[n[1]](function(){var e=o&&o.apply(this,arguments);e&&Te(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,n,o){function i(e,t,n,o){return function(){var s=this,c=arguments,u=function(){var r,u;if(!(e<a)){if((r=n.apply(s,c))===t.promise())throw new TypeError("Thenable self-resolution");u=r&&("object"==typeof r||"function"==typeof r)&&r.then,Te(u)?o?u.call(r,i(a,t,p,o),i(a,t,f,o)):(a++,u.call(r,i(a,t,p,o),i(a,t,f,o),i(a,t,p,t.notifyWith))):(n!==p&&(s=void 0,c=[r]),(o||t.resolveWith)(s,c))}},l=o?u:function(){try{u()}catch(r){Oe.Deferred.exceptionHook&&Oe.Deferred.exceptionHook(r,l.stackTrace),e+1>=a&&(n!==f&&(s=void 0,c=[r]),t.rejectWith(s,c))}};e?l():(Oe.Deferred.getStackHook&&(l.stackTrace=Oe.Deferred.getStackHook()),r.setTimeout(l))}}var a=0;return Oe.Deferred(function(r){t[0][3].add(i(0,r,Te(o)?o:p,r.notifyWith)),t[1][3].add(i(0,r,Te(e)?e:p)),t[2][3].add(i(0,r,Te(n)?n:f))}).promise()},promise:function(e){return null!=e?Oe.extend(e,o):o}},i={};return Oe.each(t,function(e,r){var a=r[2],s=r[5];o[r[1]]=a.add,s&&a.add(function(){n=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,r=t,n=Array(r),o=pe.call(arguments),i=Oe.Deferred(),a=function(e){return function(r){n[e]=this,o[e]=arguments.length>1?pe.call(arguments):r,--t||i.resolveWith(n,o)}};if(t<=1&&(h(e,i.done(a(r)).resolve,i.reject,!t),"pending"===i.state()||Te(o[r]&&o[r].then)))return i.then();for(;r--;)h(o[r],a(r),i.reject);return i.promise()}});var Ue=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Oe.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&Ue.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Oe.readyException=function(e){r.setTimeout(function(){throw e})};var Be=Oe.Deferred();Oe.fn.ready=function(e){return Be.then(e).catch(function(e){Oe.readyException(e)}),this},Oe.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Oe.readyWait:Oe.isReady)||(Oe.isReady=!0,!0!==e&&--Oe.readyWait>0||Be.resolveWith(Re,[Oe]))}}),Oe.ready.then=Be.then,"complete"===Re.readyState||"loading"!==Re.readyState&&!Re.documentElement.doScroll?r.setTimeout(Oe.ready):(Re.addEventListener("DOMContentLoaded",m),r.addEventListener("load",m));var Ve=function(e,t,r,n,o,i,a){var c=0,u=e.length,l=null==r;if("object"===s(r)){o=!0;for(c in r)Ve(e,t,c,r[c],!0,i,a)}else if(void 0!==n&&(o=!0,Te(n)||(a=!0),l&&(a?(t.call(e,n),t=null):(l=t,t=function(e,t,r){return l.call(Oe(e),r)})),t))for(;c<u;c++)t(e[c],r,a?n:n.call(e[c],c,t(e[c],r)));return o?e:l?t.call(e):u?t(e[0],r):i},$e=/^-ms-/,Fe=/-([a-z])/g,We=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};E.uid=1,E.prototype={cache:function(e){var t=e[this.expando];return t||(t={},We(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[y(t)]=r;else for(n in t)o[y(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][y(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(y):(t=y(t),t=t in n?[t]:t.match(je)||[]),r=t.length;for(;r--;)delete n[t[r]]}(void 0===t||Oe.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Oe.isEmptyObject(t)}};var He=new E,Ge=new E,qe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ze=/[A-Z]/g;Oe.extend({hasData:function(e){return Ge.hasData(e)||He.hasData(e)},data:function(e,t,r){return Ge.access(e,t,r)},removeData:function(e,t){Ge.remove(e,t)},_data:function(e,t,r){return He.access(e,t,r)},_removeData:function(e,t){He.remove(e,t)}}),Oe.fn.extend({data:function(e,t){var r,n,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=Ge.get(i),1===i.nodeType&&!He.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&(n=a[r].name,0===n.indexOf("data-")&&(n=y(n.slice(5)),S(i,n,o[n])));He.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ge.set(this,e)}):Ve(this,function(t){var r;if(i&&void 0===t){if(void 0!==(r=Ge.get(i,e)))return r;if(void 0!==(r=S(i,e)))return r}else this.each(function(){Ge.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ge.remove(this,e)})}}),Oe.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=He.get(e,t),r&&(!n||Array.isArray(r)?n=He.access(e,t,Oe.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=Oe.queue(e,t),n=r.length,o=r.shift(),i=Oe._queueHooks(e,t),a=function(){Oe.dequeue(e,t)};"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return He.get(e,r)||He.access(e,r,{empty:Oe.Callbacks("once memory").add(function(){He.remove(e,[t+"queue",r])})})}}),Oe.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?Oe.queue(this[0],e):void 0===t?this:this.each(function(){var r=Oe.queue(this,e,t);Oe._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&Oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=Oe.Deferred(),i=this,a=this.length,s=function(){--n||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=He.get(i[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(t)}});var Ye=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+Ye+")([a-z%]*)$","i"),Je=["Top","Right","Bottom","Left"],Xe=Re.documentElement,Qe=function(e){return Oe.contains(e.ownerDocument,e)},Ze={composed:!0};Xe.getRootNode&&(Qe=function(e){return Oe.contains(e.ownerDocument,e)||e.getRootNode(Ze)===e.ownerDocument});var et=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Qe(e)&&"none"===Oe.css(e,"display")},tt={};Oe.fn.extend({show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){et(this)?Oe(this).show():Oe(this).hide()})}});var rt=/^(?:checkbox|radio)$/i,nt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ot=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=Re.createDocumentFragment(),t=e.appendChild(Re.createElement("div")),r=Re.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),be.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",be.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",be.option=!!t.lastChild}();var it={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td,be.option||(it.optgroup=it.option=[1,"<select multiple='multiple'>","</select>"]);var at=/<|&#?\w+;/,st=/^key/,ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ut=/^([^.]*)(?:\.(.+)|)/;Oe.event={global:{},add:function(e,t,r,n,o){var i,a,s,c,u,l,d,g,p,f,h,m=He.get(e);if(We(e))for(r.handler&&(i=r,r=i.handler,o=i.selector),o&&Oe.find.matchesSelector(Xe,o),r.guid||(r.guid=Oe.guid++),(c=m.events)||(c=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==Oe&&Oe.event.triggered!==t.type?Oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],u=t.length;u--;)s=ut.exec(t[u])||[],p=h=s[1],f=(s[2]||"").split(".").sort(),p&&(d=Oe.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=Oe.event.special[p]||{},l=Oe.extend({type:p,origType:h,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&Oe.expr.match.needsContext.test(o),namespace:f.join(".")},i),(g=c[p])||(g=c[p]=[],g.delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,l):g.push(l),Oe.event.global[p]=!0)},remove:function(e,t,r,n,o){var i,a,s,c,u,l,d,g,p,f,h,m=He.hasData(e)&&He.get(e);if(m&&(c=m.events)){for(t=(t||"").match(je)||[""],u=t.length;u--;)if(s=ut.exec(t[u])||[],p=h=s[1],f=(s[2]||"").split(".").sort(),p){for(d=Oe.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,g=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=g.length;i--;)l=g[i],!o&&h!==l.origType||r&&r.guid!==l.guid||s&&!s.test(l.namespace)||n&&n!==l.selector&&("**"!==n||!l.selector)||(g.splice(i,1),l.selector&&g.delegateCount--,d.remove&&d.remove.call(e,l));a&&!g.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||Oe.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)Oe.event.remove(e,p+t[u],r,n,!0);Oe.isEmptyObject(c)&&He.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,i,a,s=new Array(arguments.length),c=Oe.event.fix(e),u=(He.get(this,"events")||Object.create(null))[c.type]||[],l=Oe.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=Oe.event.handlers.call(this,c,u),t=0;(o=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==i.namespace&&!c.rnamespace.test(i.namespace)||(c.handleObj=i,c.data=i.data,void 0!==(n=((Oe.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(c.result=n)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var r,n,o,i,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(i=[],a={},r=0;r<c;r++)n=t[r],o=n.selector+" ",void 0===a[o]&&(a[o]=n.needsContext?Oe(o,this).index(u)>-1:Oe.find(o,this,null,[u]).length),a[o]&&i.push(n);i.length&&s.push({elem:u,handlers:i})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(Oe.Event.prototype,e,{enumerable:!0,configurable:!0,get:Te(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Oe.expando]?e:new Oe.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return rt.test(t.type)&&t.click&&u(t,"input")&&D(t,"click",w),!1},trigger:function(e){var t=this||e;return rt.test(t.type)&&t.click&&u(t,"input")&&D(t,"click"),!0},_default:function(e){var t=e.target;return rt.test(t.type)&&t.click&&u(t,"input")&&He.get(t,"click")||u(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Oe.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},Oe.Event=function(e,t){if(!(this instanceof Oe.Event))return new Oe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?w:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Oe.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Oe.expando]=!0},Oe.Event.prototype={constructor:Oe.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Oe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&st.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ct.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Oe.event.addProp),Oe.each({focus:"focusin",blur:"focusout"},function(e,t){Oe.event.special[e]={setup:function(){return D(this,e,N),!1},trigger:function(){return D(this,e),!0},delegateType:t}}),Oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===n||Oe.contains(n,o))||(e.type=i.origType,r=i.handler.apply(this,arguments),e.type=t),r}}}),Oe.fn.extend({on:function(e,t,r,n){return L(this,e,t,r,n)},one:function(e,t,r,n){return L(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Oe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=C),this.each(function(){Oe.event.remove(this,e,r,t)})}});var lt=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Oe.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var n,o,i,a,s=e.cloneNode(!0),c=Qe(e);if(!(be.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Oe.isXMLDoc(e)))for(a=R(s),i=R(e),n=0,o=i.length;n<o;n++)U(i[n],a[n]);if(t)if(r)for(i=i||R(e),a=a||R(s),n=0,o=i.length;n<o;n++)j(i[n],a[n]);else j(e,s);return a=R(s,"script"),a.length>0&&I(a,!c&&R(e,"script")),s},cleanData:function(e){for(var t,r,n,o=Oe.event.special,i=0;void 0!==(r=e[i]);i++)if(We(r)){if(t=r[He.expando]){if(t.events)for(n in t.events)o[n]?Oe.event.remove(r,n):Oe.removeEvent(r,n,t.handle);r[He.expando]=void 0}r[Ge.expando]&&(r[Ge.expando]=void 0)}}}),Oe.fn.extend({detach:function(e){return V(this,e,!0)},remove:function(e){return V(this,e)},text:function(e){return Ve(this,function(e){return void 0===e?Oe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return B(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){P(this,e).appendChild(e)}})},prepend:function(){return B(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=P(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return B(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return B(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Oe.cleanData(R(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Oe.clone(this,e,t)})},html:function(e){return Ve(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!it[(nt.exec(e)||["",""])[1].toLowerCase()]){e=Oe.htmlPrefilter(e);try{for(;r<n;r++)t=this[r]||{},1===t.nodeType&&(Oe.cleanData(R(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return B(this,arguments,function(t){var r=this.parentNode;Oe.inArray(this,e)<0&&(Oe.cleanData(R(this)),r&&r.replaceChild(t,this))},e)}}),Oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Oe.fn[e]=function(e){for(var r,n=[],o=Oe(e),i=o.length-1,a=0;a<=i;a++)r=a===i?this:this.clone(!0),Oe(o[a])[t](r),he.apply(n,r.get());return this.pushStack(n)}});var pt=new RegExp("^("+Ye+")(?!px)[a-z%]+$","i"),ft=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},ht=function(e,t,r){var n,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];n=r.call(e);for(o in t)e.style[o]=i[o];return n},mt=new RegExp(Je.join("|"),"i");!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Xe.appendChild(u).appendChild(l);var e=r.getComputedStyle(l);n="1%"!==e.top,c=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),Xe.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,o,i,a,s,c,u=Re.createElement("div"),l=Re.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",be.clearCloneStyle="content-box"===l.style.backgroundClip,Oe.extend(be,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),c},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,o;return null==s&&(e=Re.createElement("table"),t=Re.createElement("tr"),n=Re.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",Xe.appendChild(e).appendChild(t).appendChild(n),o=r.getComputedStyle(t),s=parseInt(o.height)>3,Xe.removeChild(e)),s}}))}();var vt=["Webkit","Moz","ms"],yt=Re.createElement("div").style,Et={},_t=/^(none|table(?!-c[ea]).+)/,St=/^--/,bt={position:"absolute",visibility:"hidden",display:"block"},Tt={letterSpacing:"0",fontWeight:"400"};Oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=$(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=y(t),c=St.test(t),u=e.style;if(c||(t=H(s)),a=Oe.cssHooks[t]||Oe.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:u[t];i=typeof r,"string"===i&&(o=Ke.exec(r))&&o[1]&&(r=b(e,t,o),i="number"),null!=r&&r===r&&("number"!==i||c||(r+=o&&o[3]||(Oe.cssNumber[s]?"":"px")),be.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(c?u.setProperty(t,r):u[t]=r))}},css:function(e,t,r,n){var o,i,a,s=y(t);return St.test(t)||(t=H(s)),a=Oe.cssHooks[t]||Oe.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,r)),void 0===o&&(o=$(e,t,n)),"normal"===o&&t in Tt&&(o=Tt[t]),""===r||r?(i=parseFloat(o),!0===r||isFinite(i)?i||0:o):o}}),Oe.each(["height","width"],function(e,t){Oe.cssHooks[t]={get:function(e,r,n){if(r)return!_t.test(Oe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?z(e,t,n):ht(e,bt,function(){return z(e,t,n)})},set:function(e,r,n){var o,i=ft(e),a=!be.scrollboxSize()&&"absolute"===i.position,s=a||n,c=s&&"border-box"===Oe.css(e,"boxSizing",!1,i),u=n?q(e,t,n,c,i):0;return c&&a&&(u-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-q(e,t,"border",!1,i)-.5)),u&&(o=Ke.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=Oe.css(e,t)),G(e,r,u)}}}),Oe.cssHooks.marginLeft=F(be.reliableMarginLeft,function(e,t){if(t)return(parseFloat($(e,"marginLeft"))||e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Oe.each({margin:"",padding:"",border:"Width"},function(e,t){Oe.cssHooks[e+t]={expand:function(r){for(var n=0,o={},i="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+Je[n]+t]=i[n]||i[n-2]||i[0];return o}},"margin"!==e&&(Oe.cssHooks[e+t].set=G)}),Oe.fn.extend({css:function(e,t){return Ve(this,function(e,t,r){var n,o,i={},a=0;if(Array.isArray(t)){for(n=ft(e),o=t.length;a<o;a++)i[t[a]]=Oe.css(e,t[a],!1,n);return i}return void 0!==r?Oe.style(e,t,r):Oe.css(e,t)},e,t,arguments.length>1)}}),Oe.Tween=Y,Y.prototype={constructor:Y,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||Oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(Oe.cssNumber[r]?"":"px")},cur:function(){var e=Y.propHooks[this.prop];return e&&e.get?e.get(this):Y.propHooks._default.get(this)},run:function(e){var t,r=Y.propHooks[this.prop];return this.options.duration?this.pos=t=Oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Y.propHooks._default.set(this),this}},Y.prototype.init.prototype=Y.prototype,Y.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Oe.fx.step[e.prop]?Oe.fx.step[e.prop](e):1!==e.elem.nodeType||!Oe.cssHooks[e.prop]&&null==e.elem.style[H(e.prop)]?e.elem[e.prop]=e.now:Oe.style(e.elem,e.prop,e.now+e.unit)}}},Y.propHooks.scrollTop=Y.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Oe.fx=Y.prototype.init,Oe.fx.step={};var At,Rt,It=/^(?:toggle|show|hide)$/,Ot=/queueHooks$/;Oe.Animation=Oe.extend(te,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return b(r.elem,e,Ke.exec(t),r),r}]},tweener:function(e,t){Te(e)?(t=e,e=["*"]):e=e.match(je);for(var r,n=0,o=e.length;n<o;n++)r=e[n],te.tweeners[r]=te.tweeners[r]||[],te.tweeners[r].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),Oe.speed=function(e,t,r){var n=e&&"object"==typeof e?Oe.extend({},e):{complete:r||!r&&t||Te(e)&&e,duration:e,easing:r&&t||t&&!Te(t)&&t};return Oe.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in Oe.fx.speeds?n.duration=Oe.fx.speeds[n.duration]:n.duration=Oe.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){Te(n.old)&&n.old.call(this),n.queue&&Oe.dequeue(this,n.queue)},n},Oe.fn.extend({fadeTo:function(e,t,r,n){return this.filter(et).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=Oe.isEmptyObject(e),i=Oe.speed(t,r,n),a=function(){var t=te(this,Oe.extend({},e),i);(o||He.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=Oe.timers,a=He.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&Ot.test(o)&&n(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(r),t=!1,i.splice(o,1));!t&&r||Oe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=He.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],i=Oe.timers,a=n?n.length:0;for(r.finish=!0,Oe.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),Oe.each(["toggle","show","hide"],function(e,t){var r=Oe.fn[t];Oe.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(X(t,!0),e,n,o)}}),Oe.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Oe.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),Oe.timers=[],Oe.fx.tick=function(){var e,t=0,r=Oe.timers;for(At=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||Oe.fx.stop(),At=void 0},Oe.fx.timer=function(e){Oe.timers.push(e),Oe.fx.start()},Oe.fx.interval=13,Oe.fx.start=function(){Rt||(Rt=!0,K())},Oe.fx.stop=function(){Rt=null},Oe.fx.speeds={slow:600,fast:200,_default:400},Oe.fn.delay=function(e,t){return e=Oe.fx?Oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var o=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(o)}})},function(){var e=Re.createElement("input"),t=Re.createElement("select"),r=t.appendChild(Re.createElement("option"));e.type="checkbox",be.checkOn=""!==e.value,be.optSelected=r.selected,e=Re.createElement("input"),e.value="t",e.type="radio",be.radioValue="t"===e.value}();var wt,Ct=Oe.expr.attrHandle;Oe.fn.extend({attr:function(e,t){return Ve(this,Oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Oe.removeAttr(this,e)})}}),Oe.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?Oe.prop(e,t,r):(1===i&&Oe.isXMLDoc(e)||(o=Oe.attrHooks[t.toLowerCase()]||(Oe.expr.match.bool.test(t)?wt:void 0)),void 0!==r?null===r?void Oe.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:(n=Oe.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!be.radioValue&&"radio"===t&&u(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(je);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),wt={set:function(e,t,r){return!1===t?Oe.removeAttr(e,r):e.setAttribute(r,r),r}},Oe.each(Oe.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Ct[t]||Oe.find.attr;Ct[t]=function(e,t,n){var o,i,a=t.toLowerCase();return n||(i=Ct[a],Ct[a]=o,o=null!=r(e,t,n)?a:null,Ct[a]=i),o}});var Nt=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;Oe.fn.extend({prop:function(e,t){return Ve(this,Oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Oe.propFix[e]||e]})}}),Oe.extend({prop:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Oe.isXMLDoc(e)||(t=Oe.propFix[t]||t,o=Oe.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=Oe.find.attr(e,"tabindex");return t?parseInt(t,10):Nt.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),be.optSelected||(Oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Oe.propFix[this.toLowerCase()]=this}),Oe.fn.extend({addClass:function(e){var t,r,n,o,i,a,s,c=0;if(Te(e))return this.each(function(t){Oe(this).addClass(e.call(this,t,ne(this)))});if(t=oe(e),t.length)for(;r=this[c++];)if(o=ne(r),n=1===r.nodeType&&" "+re(o)+" "){for(a=0;i=t[a++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");s=re(n),o!==s&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,o,i,a,s,c=0;if(Te(e))return this.each(function(t){Oe(this).removeClass(e.call(this,t,ne(this)))});if(!arguments.length)return this.attr("class","");if(t=oe(e),t.length)for(;r=this[c++];)if(o=ne(r),n=1===r.nodeType&&" "+re(o)+" "){for(a=0;i=t[a++];)for(;n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");s=re(n),o!==s&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):Te(e)?this.each(function(r){Oe(this).toggleClass(e.call(this,r,ne(this),t),t)}):this.each(function(){var t,o,i,a;if(n)for(o=0,i=Oe(this),a=oe(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||(t=ne(this),t&&He.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":He.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+re(ne(r))+" ").indexOf(t)>-1)return!0;return!1}});var Lt=/\r/g;Oe.fn.extend({val:function(e){var t,r,n,o=this[0];{if(arguments.length)return n=Te(e),this.each(function(r){var o;1===this.nodeType&&(o=n?e.call(this,r,Oe(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Oe.map(o,function(e){return null==e?"":e+""})),(t=Oe.valHooks[this.type]||Oe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=Oe.valHooks[o.type]||Oe.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:(r=o.value,"string"==typeof r?r.replace(Lt,""):null==r?"":r)}}}),Oe.extend({valHooks:{option:{get:function(e){var t=Oe.find.attr(e,"value");return null!=t?t:re(Oe.text(e))}},select:{get:function(e){var t,r,n,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?i+1:o.length;for(n=i<0?c:a?i:0;n<c;n++)if(r=o[n],(r.selected||n===i)&&!r.disabled&&(!r.parentNode.disabled||!u(r.parentNode,"optgroup"))){if(t=Oe(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,o=e.options,i=Oe.makeArray(t),a=o.length;a--;)n=o[a],(n.selected=Oe.inArray(Oe.valHooks.option.get(n),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),Oe.each(["radio","checkbox"],function(){Oe.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Oe.inArray(Oe(e).val(),t)>-1}},be.checkOn||(Oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),be.focusin="onfocusin"in r;var Dt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};Oe.extend(Oe.event,{trigger:function(e,t,n,o){var i,a,s,c,u,l,d,g,p=[n||Re],f=Ee.call(e,"type")?e.type:e,h=Ee.call(e,"namespace")?e.namespace.split("."):[];if(a=g=s=n=n||Re,3!==n.nodeType&&8!==n.nodeType&&!Dt.test(f+Oe.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[Oe.expando]?e:new Oe.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:Oe.makeArray(t,[e]),d=Oe.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!Ae(n)){for(c=d.delegateType||f,Dt.test(c+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||Re)&&p.push(s.defaultView||s.parentWindow||r)}for(i=0;(a=p[i++])&&!e.isPropagationStopped();)g=a,e.type=i>1?c:d.bindType||f,l=(He.get(a,"events")||Object.create(null))[e.type]&&He.get(a,"handle"),l&&l.apply(a,t),(l=u&&a[u])&&l.apply&&We(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=f,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!We(n)||u&&Te(n[f])&&!Ae(n)&&(s=n[u],s&&(n[u]=null),Oe.event.triggered=f,e.isPropagationStopped()&&g.addEventListener(f,Pt),n[f](),e.isPropagationStopped()&&g.removeEventListener(f,Pt),Oe.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,r){var n=Oe.extend(new Oe.Event,r,{type:e,isSimulated:!0});Oe.event.trigger(n,null,t)}}),Oe.fn.extend({trigger:function(e,t){return this.each(function(){Oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return Oe.event.trigger(e,t,r,!0)}}),be.focusin||Oe.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){Oe.event.simulate(t,e.target,Oe.event.fix(e))};Oe.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,o=He.access(n,t);o||n.addEventListener(e,r,!0),He.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,o=He.access(n,t)-1;o?He.access(n,t,o):(n.removeEventListener(e,r,!0),He.remove(n,t))}}});var kt=r.location,xt={guid:Date.now()},jt=/\?/;Oe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Oe.error("Invalid XML: "+e),t};var Ut=/\[\]$/,Bt=/\r?\n/g,Vt=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;Oe.param=function(e,t){var r,n=[],o=function(e,t){var r=Te(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Oe.isPlainObject(e))Oe.each(e,function(){o(this.name,this.value)});else for(r in e)ie(r,e[r],t,o);return n.join("&")},Oe.fn.extend({serialize:function(){return Oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Oe.prop(this,"elements");return e?Oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Oe(this).is(":disabled")&&$t.test(this.nodeName)&&!Vt.test(e)&&(this.checked||!rt.test(e))}).map(function(e,t){var r=Oe(this).val();return null==r?null:Array.isArray(r)?Oe.map(r,function(e){return{name:t.name,value:e.replace(Bt,"\r\n")}}):{name:t.name,value:r.replace(Bt,"\r\n")}}).get()}});var Ft=/%20/g,Wt=/#.*$/,Ht=/([?&])_=[^&]*/,Gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zt=/^(?:GET|HEAD)$/,Yt=/^\/\//,Kt={},Jt={},Xt="*/".concat("*"),Qt=Re.createElement("a");Qt.href=kt.href,Oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:qt.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ce(ce(e,Oe.ajaxSettings),t):ce(Oe.ajaxSettings,e)},ajaxPrefilter:ae(Kt),ajaxTransport:ae(Jt),ajax:function(e,t){function n(e,t,n,s){var u,g,p,_,S,b=t;l||(l=!0,c&&r.clearTimeout(c),o=void 0,a=s||"",T.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(_=ue(f,T,n)),!u&&Oe.inArray("script",f.dataTypes)>-1&&(f.converters["text script"]=function(){}),_=le(f,_,T,u),u?(f.ifModified&&(S=T.getResponseHeader("Last-Modified"),S&&(Oe.lastModified[i]=S),(S=T.getResponseHeader("etag"))&&(Oe.etag[i]=S)),204===e||"HEAD"===f.type?b="nocontent":304===e?b="notmodified":(b=_.state,g=_.data,p=_.error,u=!p)):(p=b,!e&&b||(b="error",e<0&&(e=0))),T.status=e,T.statusText=(t||b)+"",u?v.resolveWith(h,[g,b,T]):v.rejectWith(h,[T,b,p]),T.statusCode(E),E=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[T,f,u?g:p]),y.fireWith(h,[T,b]),d&&(m.trigger("ajaxComplete",[T,f]),--Oe.active||Oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,a,s,c,u,l,d,g,p,f=Oe.ajaxSetup({},t),h=f.context||f,m=f.context&&(h.nodeType||h.jquery)?Oe(h):Oe.event,v=Oe.Deferred(),y=Oe.Callbacks("once memory"),E=f.statusCode||{},_={},S={},b="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Gt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==l&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)E[t]=[E[t],e[t]];return this},abort:function(e){var t=e||b;return o&&o.abort(t),n(0,t),this}};if(v.promise(T),f.url=((e||f.url||kt.href)+"").replace(Yt,kt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(je)||[""],null==f.crossDomain){u=Re.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Qt.protocol+"//"+Qt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Oe.param(f.data,f.traditional)),se(Kt,f,t,T),l)return T;d=Oe.event&&f.global,d&&0==Oe.active++&&Oe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!zt.test(f.type),i=f.url.replace(Wt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ft,"+")):(p=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(jt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(Ht,"$1"),p=(jt.test(i)?"&":"?")+"_="+xt.guid+++p),f.url=i+p),f.ifModified&&(Oe.lastModified[i]&&T.setRequestHeader("If-Modified-Since",Oe.lastModified[i]),Oe.etag[i]&&T.setRequestHeader("If-None-Match",Oe.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Xt+"; q=0.01":""):f.accepts["*"]);for(g in f.headers)T.setRequestHeader(g,f.headers[g]);if(f.beforeSend&&(!1===f.beforeSend.call(h,T,f)||l))return T.abort();if(b="abort",y.add(f.complete),T.done(f.success),T.fail(f.error),o=se(Jt,f,t,T)){if(T.readyState=1,d&&m.trigger("ajaxSend",[T,f]),l)return T;f.async&&f.timeout>0&&(c=r.setTimeout(function(){T.abort("timeout")},f.timeout));try{l=!1,o.send(_,n)}catch(e){if(l)throw e;n(-1,e)}}else n(-1,"No Transport");return T},getJSON:function(e,t,r){return Oe.get(e,t,r,"json")},getScript:function(e,t){return Oe.get(e,void 0,t,"script")}}),Oe.each(["get","post"],function(e,t){Oe[t]=function(e,r,n,o){return Te(r)&&(o=o||n,n=r,r=void 0),Oe.ajax(Oe.extend({url:e,type:t,dataType:o,data:r,success:n},Oe.isPlainObject(e)&&e))}}),Oe.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Oe._evalUrl=function(e,t,r){return Oe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Oe.globalEval(e,t,r)}})},Oe.fn.extend({wrapAll:function(e){var t;return this[0]&&(Te(e)&&(e=e.call(this[0])),t=Oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Te(e)?this.each(function(t){Oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Oe(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=Te(e);return this.each(function(r){Oe(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Oe(this).replaceWith(this.childNodes)}),this}}),Oe.expr.pseudos.hidden=function(e){return!Oe.expr.pseudos.visible(e)},Oe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Oe.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},er=Oe.ajaxSettings.xhr();be.cors=!!er&&"withCredentials"in er,be.ajax=er=!!er,Oe.ajaxTransport(function(e){var t,n;if(be.cors||er&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&r.setTimeout(function(){t&&n()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Oe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Oe.globalEval(e),e}}}),Oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Oe.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,r;return{send:function(n,o){t=Oe("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&o("error"===e.type?404:200,e.type)}),Re.head.appendChild(t[0])},abort:function(){r&&r()}}}});var tr=[],rr=/(=)\?(?=&|$)|\?\?/;Oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||Oe.expando+"_"+xt.guid++;return this[e]=!0,e}}),Oe.ajaxPrefilter("json jsonp",function(e,t,n){var o,i,a,s=!1!==e.jsonp&&(rr.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rr.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=Te(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(rr,"$1"+o):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Oe.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=r[o],r[o]=function(){a=arguments},n.always(function(){void 0===i?Oe(r).removeProp(o):r[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,tr.push(o)),a&&Te(i)&&i(a[0]),a=i=void 0}),"script"}),be.createHTMLDocument=function(){var e=Re.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Oe.parseHTML=function(e,t,r){if("string"!=typeof e)return[];"boolean"==typeof t&&(r=t,t=!1);var n,o,i;return t||(be.createHTMLDocument?(t=Re.implementation.createHTMLDocument(""),n=t.createElement("base"),n.href=Re.location.href,t.head.appendChild(n)):t=Re),o=Le.exec(e),i=!r&&[],o?[t.createElement(o[1])]:(o=O([e],t,i),i&&i.length&&Oe(i).remove(),Oe.merge([],o.childNodes))},Oe.fn.load=function(e,t,r){var n,o,i,a=this,s=e.indexOf(" ");return s>-1&&(n=re(e.slice(s)),e=e.slice(0,s)),Te(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Oe.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(n?Oe("<div>").append(Oe.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},Oe.expr.pseudos.animated=function(e){return Oe.grep(Oe.timers,function(t){return e===t.elem}).length},Oe.offset={setOffset:function(e,t,r){var n,o,i,a,s,c,u,l=Oe.css(e,"position"),d=Oe(e),g={};"static"===l&&(e.style.position="relative"),s=d.offset(),i=Oe.css(e,"top"),c=Oe.css(e,"left"),u=("absolute"===l||"fixed"===l)&&(i+c).indexOf("auto")>-1,u?(n=d.position(),a=n.top,o=n.left):(a=parseFloat(i)||0,o=parseFloat(c)||0),Te(t)&&(t=t.call(e,r,Oe.extend({},s))),null!=t.top&&(g.top=t.top-s.top+a),null!=t.left&&(g.left=t.left-s.left+o),"using"in t?t.using.call(e,g):("number"==typeof g.top&&(g.top+="px"),"number"==typeof g.left&&(g.left+="px"),d.css(g))}},Oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Oe.offset.setOffset(this,e,t)});var t,r,n=this[0];if(n)return n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===Oe.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===Oe.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&(o=Oe(e).offset(),o.top+=Oe.css(e,"borderTopWidth",!0),o.left+=Oe.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Oe.css(n,"marginTop",!0),left:t.left-o.left-Oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Oe.css(e,"position");)e=e.offsetParent;return e||Xe})}}),Oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;Oe.fn[e]=function(n){return Ve(this,function(e,n,o){var i;if(Ae(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[n];i?i.scrollTo(r?i.pageXOffset:o,r?o:i.pageYOffset):e[n]=o},e,n,arguments.length)}}),Oe.each(["top","left"],function(e,t){Oe.cssHooks[t]=F(be.pixelPosition,function(e,r){if(r)return r=$(e,t),pt.test(r)?Oe(e).position()[t]+"px":r})}),Oe.each({Height:"height",Width:"width"},function(e,t){Oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){Oe.fn[n]=function(o,i){var a=arguments.length&&(r||"boolean"!=typeof o),s=r||(!0===o||!0===i?"margin":"border");return Ve(this,function(t,r,o){var i;return Ae(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?Oe.css(t,r,s):Oe.style(t,r,o,s)},t,a?o:void 0,a)}})}),Oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Oe.fn[t]=function(e){return this.on(t,e)}}),Oe.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Oe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Oe.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}});var nr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Oe.proxy=function(e,t){var r,n,o;if("string"==typeof t&&(r=e[t],t=e,e=r),Te(e))return n=pe.call(arguments,2),o=function(){return e.apply(t||this,n.concat(pe.call(arguments)))},o.guid=e.guid=e.guid||Oe.guid++,o},Oe.holdReady=function(e){e?Oe.readyWait++:Oe.ready(!0)},Oe.isArray=Array.isArray,Oe.parseJSON=JSON.parse,Oe.nodeName=u,Oe.isFunction=Te,Oe.isWindow=Ae,Oe.camelCase=y,Oe.type=s,Oe.now=Date.now,Oe.isNumeric=function(e){var t=Oe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Oe.trim=function(e){return null==e?"":(e+"").replace(nr,"")},n=[],void 0!==(o=function(){return Oe}.apply(t,n))&&(e.exports=o);var or=r.jQuery,ir=r.$;return Oe.noConflict=function(e){return r.$===Oe&&(r.$=ir),e&&r.jQuery===Oe&&(r.jQuery=or),Oe},void 0===i&&(r.jQuery=r.$=Oe),Oe})},function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(21),o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function r(e,t,r,n){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),s=new p(n||[]);return a._invoke=u(e,r,s),a}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(r,o,i,a){var s=n(e[r],e,o);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},a)}a(s.arg)}function r(e,r){function n(){return new Promise(function(n,o){t(e,r,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=r}function u(e,t,r){var o=R;return function(i,a){if(o===O)throw new Error("Generator is already running");if(o===w){if("throw"===i)throw a;return h()}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var c=l(s,r);if(c){if(c===C)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===R)throw o=w,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=O;var u=n(e,t,r);if("normal"===u.type){if(o=r.done?w:I,u.arg===C)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=w,r.method="throw",r.arg=u.arg)}}}function l(e,t){var r=e.iterator[t.method];if(r===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,l(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var o=n(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,C;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,C):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function g(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function f(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(y.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=m,t.done=!0,t};return n.next=n}}return{next:h}}function h(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,E="function"==typeof Symbol?Symbol:{},_=E.iterator||"@@iterator",S=E.asyncIterator||"@@asyncIterator",b=E.toStringTag||"@@toStringTag",T="object"==typeof e,A=t.regeneratorRuntime;if(A)return void(T&&(e.exports=A));A=t.regeneratorRuntime=T?e.exports:{},A.wrap=r;var R="suspendedStart",I="suspendedYield",O="executing",w="completed",C={},N={};N[_]=function(){return this};var M=Object.getPrototypeOf,L=M&&M(M(f([])));L&&L!==v&&y.call(L,_)&&(N=L);var D=a.prototype=o.prototype=Object.create(N);i.prototype=D.constructor=a,a.constructor=i,a[b]=i.displayName="GeneratorFunction",A.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},A.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,b in e||(e[b]="GeneratorFunction")),e.prototype=Object.create(D),e},A.awrap=function(e){return{__await:e}},s(c.prototype),c.prototype[S]=function(){return this},A.AsyncIterator=c,A.async=function(e,t,n,o){var i=new c(r(e,t,n,o));return A.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(D),D[b]="Generator",D[_]=function(){return this},D.toString=function(){return"[object Generator]"},A.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},A.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(g),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=m),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),s=y.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),g(r),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;g(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:f(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=m),C}}}(function(){return this}()||Function("return this")())}]);